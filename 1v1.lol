<span class="dec" style="box-sizing: inherit; color: rgb(102, 0, 102);">&lt;!DOCTYPE html&gt;</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">
</span><span class="tag" style="box-sizing: inherit; color: rgb(0, 0, 136);">&lt;html</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="atn" style="box-sizing: inherit; color: rgb(102, 0, 102);">lang</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">=</span><span class="atv" style="box-sizing: inherit; color: rgb(0, 136, 0);">"en-us"</span><span class="tag" style="box-sizing: inherit; color: rgb(0, 0, 136);">&gt;</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">
  </span><span class="tag" style="box-sizing: inherit; color: rgb(0, 0, 136);">&lt;head&gt;</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">
    </span><span class="tag" style="box-sizing: inherit; color: rgb(0, 0, 136);">&lt;meta</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="atn" style="box-sizing: inherit; color: rgb(102, 0, 102);">charset</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">=</span><span class="atv" style="box-sizing: inherit; color: rgb(0, 136, 0);">"utf-8"</span><span class="tag" style="box-sizing: inherit; color: rgb(0, 0, 136);">&gt;</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">
    </span><span class="tag" style="box-sizing: inherit; color: rgb(0, 0, 136);">&lt;title&gt;</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">1v1.LOL | Building Simulator, Battle Royale &amp; Shooting Game</span><span class="tag" style="box-sizing: inherit; color: rgb(0, 0, 136);">&lt;/title&gt;</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">
	</span><span class="com" style="box-sizing: inherit; color: rgb(136, 0, 0);">&lt;!-- Firebase App (the core Firebase SDK) is always required and must be listed first --&gt;</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">
	</span><span class="tag" style="box-sizing: inherit; color: rgb(0, 0, 136);">&lt;script</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="atn" style="box-sizing: inherit; color: rgb(102, 0, 102);">src</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">=</span><span class="atv" style="box-sizing: inherit; color: rgb(0, 136, 0);">"https://www.gstatic.com/firebasejs/7.2.1/firebase-app.js"</span><span class="tag" style="box-sizing: inherit; color: rgb(0, 0, 136);">&gt;&lt;/script&gt;</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">

	</span><span class="com" style="box-sizing: inherit; color: rgb(136, 0, 0);">&lt;!-- Add Firebase products that you want to use --&gt;</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">
	</span><span class="tag" style="box-sizing: inherit; color: rgb(0, 0, 136);">&lt;script</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="atn" style="box-sizing: inherit; color: rgb(102, 0, 102);">src</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">=</span><span class="atv" style="box-sizing: inherit; color: rgb(0, 136, 0);">"https://www.gstatic.com/firebasejs/7.2.1/firebase-analytics.js"</span><span class="tag" style="box-sizing: inherit; color: rgb(0, 0, 136);">&gt;&lt;/script&gt;</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">
	</span><span class="tag" style="box-sizing: inherit; color: rgb(0, 0, 136);">&lt;script</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="atn" style="box-sizing: inherit; color: rgb(102, 0, 102);">src</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">=</span><span class="atv" style="box-sizing: inherit; color: rgb(0, 136, 0);">"https://www.gstatic.com/firebasejs/7.2.1/firebase-auth.js"</span><span class="tag" style="box-sizing: inherit; color: rgb(0, 0, 136);">&gt;&lt;/script&gt;</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">
	</span><span class="tag" style="box-sizing: inherit; color: rgb(0, 0, 136);">&lt;script</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="atn" style="box-sizing: inherit; color: rgb(102, 0, 102);">src</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">=</span><span class="atv" style="box-sizing: inherit; color: rgb(0, 136, 0);">"https://www.gstatic.com/firebasejs/7.2.1/firebase-firestore.js"</span><span class="tag" style="box-sizing: inherit; color: rgb(0, 0, 136);">&gt;&lt;/script&gt;</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">
	</span><span class="tag" style="box-sizing: inherit; color: rgb(0, 0, 136);">&lt;script</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="atn" style="box-sizing: inherit; color: rgb(102, 0, 102);">src</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">=</span><span class="atv" style="box-sizing: inherit; color: rgb(0, 136, 0);">"https://www.gstatic.com/firebasejs/7.2.1/firebase-remote-config.js"</span><span class="tag" style="box-sizing: inherit; color: rgb(0, 0, 136);">&gt;&lt;/script&gt;</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">
	
	</span><span class="tag" style="box-sizing: inherit; color: rgb(0, 0, 136);">&lt;script</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="atn" style="box-sizing: inherit; color: rgb(102, 0, 102);">src</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">=</span><span class="atv" style="box-sizing: inherit; color: rgb(0, 136, 0);">"js/dependencyLoader.js"</span><span class="tag" style="box-sizing: inherit; color: rgb(0, 0, 136);">&gt;&lt;/script&gt;</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">
    </span><span class="tag" style="box-sizing: inherit; color: rgb(0, 0, 136);">&lt;script&gt;</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">

      window</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">.</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">addEventListener</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">(</span><span class="str" style="box-sizing: inherit; color: rgb(0, 136, 0);">"beforeunload"</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">,</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="kwd" style="box-sizing: inherit; color: rgb(0, 0, 136);">function</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">(</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">e</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">)</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">{</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">
        </span><span class="kwd" style="box-sizing: inherit; color: rgb(0, 0, 136);">if</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">(</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">adsVisible </span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">||</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">!</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">window</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">.</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">gameLoaded </span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">||</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">!</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">lockedOccured</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">)</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">
          </span><span class="kwd" style="box-sizing: inherit; color: rgb(0, 0, 136);">return</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="kwd" style="box-sizing: inherit; color: rgb(0, 0, 136);">null</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">;</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">
        </span><span class="kwd" style="box-sizing: inherit; color: rgb(0, 0, 136);">var</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> confirmationMessage </span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">=</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="str" style="box-sizing: inherit; color: rgb(0, 136, 0);">'Are you sure you want to leave? '</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">;</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">
        </span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">(</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">e </span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">||</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> window</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">.</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">event</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">).</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">returnValue </span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">=</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> confirmationMessage</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">;</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="com" style="box-sizing: inherit; color: rgb(136, 0, 0);">//Gecko + IE</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">
        </span><span class="kwd" style="box-sizing: inherit; color: rgb(0, 0, 136);">return</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> confirmationMessage</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">;</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="com" style="box-sizing: inherit; color: rgb(136, 0, 0);">//Gecko + Webkit, Safari, Chrome etc.</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">
      </span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">});</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">
      window</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">.</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">alert </span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">=</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="kwd" style="box-sizing: inherit; color: rgb(0, 0, 136);">function</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">(</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">e</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">)</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">{</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">console</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">.</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">log</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">(</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">e</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">)};</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">
    </span><span class="tag" style="box-sizing: inherit; color: rgb(0, 0, 136);">&lt;/script&gt;</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">
    </span><span class="tag" style="box-sizing: inherit; color: rgb(0, 0, 136);">&lt;link</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="atn" style="box-sizing: inherit; color: rgb(102, 0, 102);">rel</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">=</span><span class="atv" style="box-sizing: inherit; color: rgb(0, 136, 0);">'shortcut icon'</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="atn" style="box-sizing: inherit; color: rgb(102, 0, 102);">type</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">=</span><span class="atv" style="box-sizing: inherit; color: rgb(0, 136, 0);">"image/png"</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="atn" style="box-sizing: inherit; color: rgb(102, 0, 102);">href</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">=</span><span class="atv" style="box-sizing: inherit; color: rgb(0, 136, 0);">"img/favicon.png?v3"</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="tag" style="box-sizing: inherit; color: rgb(0, 0, 136);">/&gt;</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">
    
	</span><span class="tag" style="box-sizing: inherit; color: rgb(0, 0, 136);">&lt;link</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="atn" style="box-sizing: inherit; color: rgb(102, 0, 102);">rel</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">=</span><span class="atv" style="box-sizing: inherit; color: rgb(0, 136, 0);">"alternate"</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="atn" style="box-sizing: inherit; color: rgb(102, 0, 102);">href</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">=</span><span class="atv" style="box-sizing: inherit; color: rgb(0, 136, 0);">"https://1v1.lol"</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="atn" style="box-sizing: inherit; color: rgb(102, 0, 102);">hreflang</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">=</span><span class="atv" style="box-sizing: inherit; color: rgb(0, 136, 0);">"en"</span><span class="tag" style="box-sizing: inherit; color: rgb(0, 0, 136);">&gt;</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">
	</span><span class="tag" style="box-sizing: inherit; color: rgb(0, 0, 136);">&lt;link</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="atn" style="box-sizing: inherit; color: rgb(102, 0, 102);">rel</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">=</span><span class="atv" style="box-sizing: inherit; color: rgb(0, 136, 0);">"alternate"</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="atn" style="box-sizing: inherit; color: rgb(102, 0, 102);">href</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">=</span><span class="atv" style="box-sizing: inherit; color: rgb(0, 136, 0);">"https://1v1.lol/de"</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="atn" style="box-sizing: inherit; color: rgb(102, 0, 102);">hreflang</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">=</span><span class="atv" style="box-sizing: inherit; color: rgb(0, 136, 0);">"de"</span><span class="tag" style="box-sizing: inherit; color: rgb(0, 0, 136);">&gt;</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">
	</span><span class="tag" style="box-sizing: inherit; color: rgb(0, 0, 136);">&lt;link</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="atn" style="box-sizing: inherit; color: rgb(102, 0, 102);">rel</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">=</span><span class="atv" style="box-sizing: inherit; color: rgb(0, 136, 0);">"alternate"</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="atn" style="box-sizing: inherit; color: rgb(102, 0, 102);">href</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">=</span><span class="atv" style="box-sizing: inherit; color: rgb(0, 136, 0);">"https://1v1.lol/it"</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="atn" style="box-sizing: inherit; color: rgb(102, 0, 102);">hreflang</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">=</span><span class="atv" style="box-sizing: inherit; color: rgb(0, 136, 0);">"it"</span><span class="tag" style="box-sizing: inherit; color: rgb(0, 0, 136);">&gt;</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">
	</span><span class="tag" style="box-sizing: inherit; color: rgb(0, 0, 136);">&lt;link</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="atn" style="box-sizing: inherit; color: rgb(102, 0, 102);">rel</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">=</span><span class="atv" style="box-sizing: inherit; color: rgb(0, 136, 0);">"alternate"</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="atn" style="box-sizing: inherit; color: rgb(102, 0, 102);">href</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">=</span><span class="atv" style="box-sizing: inherit; color: rgb(0, 136, 0);">"https://1v1.lol/fr"</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="atn" style="box-sizing: inherit; color: rgb(102, 0, 102);">hreflang</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">=</span><span class="atv" style="box-sizing: inherit; color: rgb(0, 136, 0);">"fr"</span><span class="tag" style="box-sizing: inherit; color: rgb(0, 0, 136);">&gt;</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">
	</span><span class="tag" style="box-sizing: inherit; color: rgb(0, 0, 136);">&lt;link</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="atn" style="box-sizing: inherit; color: rgb(102, 0, 102);">rel</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">=</span><span class="atv" style="box-sizing: inherit; color: rgb(0, 136, 0);">"alternate"</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="atn" style="box-sizing: inherit; color: rgb(102, 0, 102);">href</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">=</span><span class="atv" style="box-sizing: inherit; color: rgb(0, 136, 0);">"https://1v1.lol/es"</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="atn" style="box-sizing: inherit; color: rgb(102, 0, 102);">hreflang</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">=</span><span class="atv" style="box-sizing: inherit; color: rgb(0, 136, 0);">"es"</span><span class="tag" style="box-sizing: inherit; color: rgb(0, 0, 136);">&gt;</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">
	</span><span class="tag" style="box-sizing: inherit; color: rgb(0, 0, 136);">&lt;link</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="atn" style="box-sizing: inherit; color: rgb(102, 0, 102);">rel</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">=</span><span class="atv" style="box-sizing: inherit; color: rgb(0, 136, 0);">"alternate"</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="atn" style="box-sizing: inherit; color: rgb(102, 0, 102);">href</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">=</span><span class="atv" style="box-sizing: inherit; color: rgb(0, 136, 0);">"https://1v1.lol/pt"</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="atn" style="box-sizing: inherit; color: rgb(102, 0, 102);">hreflang</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">=</span><span class="atv" style="box-sizing: inherit; color: rgb(0, 136, 0);">"pt"</span><span class="tag" style="box-sizing: inherit; color: rgb(0, 0, 136);">&gt;</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">
	</span><span class="tag" style="box-sizing: inherit; color: rgb(0, 0, 136);">&lt;link</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="atn" style="box-sizing: inherit; color: rgb(102, 0, 102);">rel</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">=</span><span class="atv" style="box-sizing: inherit; color: rgb(0, 136, 0);">"alternate"</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="atn" style="box-sizing: inherit; color: rgb(102, 0, 102);">href</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">=</span><span class="atv" style="box-sizing: inherit; color: rgb(0, 136, 0);">"https://1v1.lol/pl"</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="atn" style="box-sizing: inherit; color: rgb(102, 0, 102);">hreflang</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">=</span><span class="atv" style="box-sizing: inherit; color: rgb(0, 136, 0);">"pl"</span><span class="tag" style="box-sizing: inherit; color: rgb(0, 0, 136);">&gt;</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">
	</span><span class="tag" style="box-sizing: inherit; color: rgb(0, 0, 136);">&lt;link</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="atn" style="box-sizing: inherit; color: rgb(102, 0, 102);">rel</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">=</span><span class="atv" style="box-sizing: inherit; color: rgb(0, 136, 0);">"alternate"</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="atn" style="box-sizing: inherit; color: rgb(102, 0, 102);">href</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">=</span><span class="atv" style="box-sizing: inherit; color: rgb(0, 136, 0);">"https://1v1.lol/ja"</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="atn" style="box-sizing: inherit; color: rgb(102, 0, 102);">hreflang</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">=</span><span class="atv" style="box-sizing: inherit; color: rgb(0, 136, 0);">"ja"</span><span class="tag" style="box-sizing: inherit; color: rgb(0, 0, 136);">&gt;</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">
	</span><span class="tag" style="box-sizing: inherit; color: rgb(0, 0, 136);">&lt;link</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="atn" style="box-sizing: inherit; color: rgb(102, 0, 102);">rel</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">=</span><span class="atv" style="box-sizing: inherit; color: rgb(0, 136, 0);">"alternate"</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="atn" style="box-sizing: inherit; color: rgb(102, 0, 102);">href</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">=</span><span class="atv" style="box-sizing: inherit; color: rgb(0, 136, 0);">"https://1v1.lol/ru"</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="atn" style="box-sizing: inherit; color: rgb(102, 0, 102);">hreflang</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">=</span><span class="atv" style="box-sizing: inherit; color: rgb(0, 136, 0);">"ru"</span><span class="tag" style="box-sizing: inherit; color: rgb(0, 0, 136);">&gt;</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">
    </span><span class="tag" style="box-sizing: inherit; color: rgb(0, 0, 136);">&lt;link</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="atn" style="box-sizing: inherit; color: rgb(102, 0, 102);">rel</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">=</span><span class="atv" style="box-sizing: inherit; color: rgb(0, 136, 0);">"canonical"</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="atn" style="box-sizing: inherit; color: rgb(102, 0, 102);">href</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">=</span><span class="atv" style="box-sizing: inherit; color: rgb(0, 136, 0);">"https://1v1.lol"</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="tag" style="box-sizing: inherit; color: rgb(0, 0, 136);">/&gt;</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">
    </span><span class="tag" style="box-sizing: inherit; color: rgb(0, 0, 136);">&lt;meta</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="atn" style="box-sizing: inherit; color: rgb(102, 0, 102);">property</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">=</span><span class="atv" style="box-sizing: inherit; color: rgb(0, 136, 0);">"og:title"</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="atn" style="box-sizing: inherit; color: rgb(102, 0, 102);">content</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">=</span><span class="atv" style="box-sizing: inherit; color: rgb(0, 136, 0);">"1v1.LOL"</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="tag" style="box-sizing: inherit; color: rgb(0, 0, 136);">/&gt;</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">
    </span><span class="tag" style="box-sizing: inherit; color: rgb(0, 0, 136);">&lt;meta</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="atn" style="box-sizing: inherit; color: rgb(102, 0, 102);">property</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">=</span><span class="atv" style="box-sizing: inherit; color: rgb(0, 136, 0);">"og:type"</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="atn" style="box-sizing: inherit; color: rgb(102, 0, 102);">content</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">=</span><span class="atv" style="box-sizing: inherit; color: rgb(0, 136, 0);">"website"</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="tag" style="box-sizing: inherit; color: rgb(0, 0, 136);">/&gt;</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">
    </span><span class="tag" style="box-sizing: inherit; color: rgb(0, 0, 136);">&lt;meta</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="atn" style="box-sizing: inherit; color: rgb(102, 0, 102);">property</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">=</span><span class="atv" style="box-sizing: inherit; color: rgb(0, 136, 0);">"og:url"</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="atn" style="box-sizing: inherit; color: rgb(102, 0, 102);">content</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">=</span><span class="atv" style="box-sizing: inherit; color: rgb(0, 136, 0);">"https://1v1.lol/"</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="tag" style="box-sizing: inherit; color: rgb(0, 0, 136);">/&gt;</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">
    </span><span class="tag" style="box-sizing: inherit; color: rgb(0, 0, 136);">&lt;meta</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="atn" style="box-sizing: inherit; color: rgb(102, 0, 102);">property</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">=</span><span class="atv" style="box-sizing: inherit; color: rgb(0, 136, 0);">"og:image"</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="atn" style="box-sizing: inherit; color: rgb(102, 0, 102);">content</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">=</span><span class="atv" style="box-sizing: inherit; color: rgb(0, 136, 0);">"https://1v1.lol/splash.jpg"</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="tag" style="box-sizing: inherit; color: rgb(0, 0, 136);">/&gt;</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">
    </span><span class="tag" style="box-sizing: inherit; color: rgb(0, 0, 136);">&lt;meta</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="atn" style="box-sizing: inherit; color: rgb(102, 0, 102);">property</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">=</span><span class="atv" style="box-sizing: inherit; color: rgb(0, 136, 0);">"og:description"</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="atn" style="box-sizing: inherit; color: rgb(102, 0, 102);">content</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">=</span><span class="atv" style="box-sizing: inherit; color: rgb(0, 136, 0);">"Discover 1v1, the online building simulator &amp; third person shooting game. Battle royale, build fight, box fight, zone wars and more game modes to enjoy!"</span><span class="tag" style="box-sizing: inherit; color: rgb(0, 0, 136);">&gt;</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">
    
    </span><span class="tag" style="box-sizing: inherit; color: rgb(0, 0, 136);">&lt;link</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="atn" style="box-sizing: inherit; color: rgb(102, 0, 102);">rel</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">=</span><span class="atv" style="box-sizing: inherit; color: rgb(0, 136, 0);">"stylesheet"</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="atn" style="box-sizing: inherit; color: rgb(102, 0, 102);">href</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">=</span><span class="atv" style="box-sizing: inherit; color: rgb(0, 136, 0);">"css/style.css"</span><span class="tag" style="box-sizing: inherit; color: rgb(0, 0, 136);">&gt;</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">
    </span><span class="tag" style="box-sizing: inherit; color: rgb(0, 0, 136);">&lt;meta</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="atn" style="box-sizing: inherit; color: rgb(102, 0, 102);">name</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">=</span><span class="atv" style="box-sizing: inherit; color: rgb(0, 136, 0);">"viewport"</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="atn" style="box-sizing: inherit; color: rgb(102, 0, 102);">content</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">=</span><span class="atv" style="box-sizing: inherit; color: rgb(0, 136, 0);">"width=device-width, initial-scale=1.0, user-scalable=no"</span><span class="tag" style="box-sizing: inherit; color: rgb(0, 0, 136);">&gt;</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">
    </span><span class="tag" style="box-sizing: inherit; color: rgb(0, 0, 136);">&lt;meta</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="atn" style="box-sizing: inherit; color: rgb(102, 0, 102);">name</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">=</span><span class="atv" style="box-sizing: inherit; color: rgb(0, 136, 0);">"description"</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">
      </span><span class="atn" style="box-sizing: inherit; color: rgb(102, 0, 102);">content</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">=</span><span class="atv" style="box-sizing: inherit; color: rgb(0, 136, 0);">"Discover 1v1, the online building simulator &amp; third person shooting game. Battle royale, build fight, box fight, zone wars and more game modes to enjoy!"</span><span class="tag" style="box-sizing: inherit; color: rgb(0, 0, 136);">&gt;</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">
    </span><span class="tag" style="box-sizing: inherit; color: rgb(0, 0, 136);">&lt;meta</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="atn" style="box-sizing: inherit; color: rgb(102, 0, 102);">name</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">=</span><span class="atv" style="box-sizing: inherit; color: rgb(0, 136, 0);">"keywords"</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="atn" style="box-sizing: inherit; color: rgb(102, 0, 102);">content</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">=</span><span class="atv" style="box-sizing: inherit; color: rgb(0, 136, 0);">"just,build,simulator,practice,free,online,battle,royale"</span><span class="tag" style="box-sizing: inherit; color: rgb(0, 0, 136);">&gt;</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">
    </span><span class="tag" style="box-sizing: inherit; color: rgb(0, 0, 136);">&lt;script</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="atn" style="box-sizing: inherit; color: rgb(102, 0, 102);">type</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">=</span><span class="atv" style="box-sizing: inherit; color: rgb(0, 136, 0);">"text/javascript"</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="atn" style="box-sizing: inherit; color: rgb(102, 0, 102);">src</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">=</span><span class="atv" style="box-sizing: inherit; color: rgb(0, 136, 0);">"//imasdk.googleapis.com/js/sdkloader/ima3.js"</span><span class="tag" style="box-sizing: inherit; color: rgb(0, 0, 136);">&gt;&lt;/script&gt;</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">
  
    </span><span class="com" style="box-sizing: inherit; color: rgb(136, 0, 0);">&lt;!-- ZONETAG - PLACE INTO HEAD SECTION OR RUN CODE AT STARTUP --&gt;</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">

      </span><span class="tag" style="box-sizing: inherit; color: rgb(0, 0, 136);">&lt;script&gt;</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">
          </span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">(</span><span class="kwd" style="box-sizing: inherit; color: rgb(0, 0, 136);">function</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">(</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">zonefile</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">)</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">{</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">
              </span><span class="kwd" style="box-sizing: inherit; color: rgb(0, 0, 136);">var</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> y</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">=</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">window</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">.</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">location</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">.</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">href</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">.</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">split</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">(</span><span class="str" style="box-sizing: inherit; color: rgb(0, 136, 0);">'#'</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">)[</span><span class="lit" style="box-sizing: inherit; color: rgb(0, 102, 102);">0</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">].</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">split</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">(</span><span class="str" style="box-sizing: inherit; color: rgb(0, 136, 0);">''</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">).</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">reduce</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">(</span><span class="kwd" style="box-sizing: inherit; color: rgb(0, 0, 136);">function</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">(</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">a</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">,</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">b</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">){</span><span class="kwd" style="box-sizing: inherit; color: rgb(0, 0, 136);">return</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">(</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">a</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">&lt;&lt;</span><span class="lit" style="box-sizing: inherit; color: rgb(0, 102, 102);">5</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">)-</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">a</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">+</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">b</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">.</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">charCodeAt</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">(</span><span class="lit" style="box-sizing: inherit; color: rgb(0, 102, 102);">0</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">)&gt;&gt;&gt;</span><span class="lit" style="box-sizing: inherit; color: rgb(0, 102, 102);">1</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">},</span><span class="lit" style="box-sizing: inherit; color: rgb(0, 102, 102);">0</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">);</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">y</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">=(</span><span class="lit" style="box-sizing: inherit; color: rgb(0, 102, 102);">10</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">+((</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">y</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">*</span><span class="lit" style="box-sizing: inherit; color: rgb(0, 102, 102);">7</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">)%</span><span class="lit" style="box-sizing: inherit; color: rgb(0, 102, 102);">26</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">)).</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">toString</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">(</span><span class="lit" style="box-sizing: inherit; color: rgb(0, 102, 102);">36</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">)+</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">y</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">.</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">toString</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">(</span><span class="lit" style="box-sizing: inherit; color: rgb(0, 102, 102);">36</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">);</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">
              </span><span class="kwd" style="box-sizing: inherit; color: rgb(0, 0, 136);">var</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> drutObj </span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">=</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> window</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">[</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">y</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">]</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">=</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> window</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">[</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">y</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">]</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">||</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">{};</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">
              </span><span class="kwd" style="box-sizing: inherit; color: rgb(0, 0, 136);">function</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> failCpmstarAPI</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">()</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">{</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="kwd" style="box-sizing: inherit; color: rgb(0, 0, 136);">var</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> failFn </span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">=</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="kwd" style="box-sizing: inherit; color: rgb(0, 0, 136);">function</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">(</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">o</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">)</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">{</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> o </span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">&amp;&amp;</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="kwd" style="box-sizing: inherit; color: rgb(0, 0, 136);">typeof</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">(</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">o</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">)</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">===</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="str" style="box-sizing: inherit; color: rgb(0, 136, 0);">"object"</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">&amp;&amp;</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> o</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">.</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">fail </span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">&amp;&amp;</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> o</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">.</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">fail</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">();</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">};</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> drutObj </span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">&amp;&amp;</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="typ" style="box-sizing: inherit; color: rgb(102, 0, 102);">Array</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">.</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">isArray</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">(</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">drutObj</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">.</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">cmd</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">)</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">&amp;&amp;</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> drutObj</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">.</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">cmd</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">.</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">forEach</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">(</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">failFn</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">)</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">&amp;&amp;</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">(</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">drutObj</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">.</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">cmd</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">.</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">length </span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">=</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="lit" style="box-sizing: inherit; color: rgb(0, 102, 102);">0</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">);</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">  window</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">.</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">cpmstarAPI </span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">=</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> window</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">[</span><span class="str" style="box-sizing: inherit; color: rgb(0, 136, 0);">"_"</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">+</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">zonefile</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">]</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">=</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> failFn</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">;</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">}</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">
              </span><span class="kwd" style="box-sizing: inherit; color: rgb(0, 0, 136);">var</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> rnd </span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">=</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="typ" style="box-sizing: inherit; color: rgb(102, 0, 102);">Math</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">.</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">round</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">(</span><span class="typ" style="box-sizing: inherit; color: rgb(102, 0, 102);">Math</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">.</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">random</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">()*</span><span class="lit" style="box-sizing: inherit; color: rgb(0, 102, 102);">999999</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">);</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">
              </span><span class="kwd" style="box-sizing: inherit; color: rgb(0, 0, 136);">var</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> s </span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">=</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> document</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">.</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">createElement</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">(</span><span class="str" style="box-sizing: inherit; color: rgb(0, 136, 0);">'script'</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">);</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> s</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">.</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">type </span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">=</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="str" style="box-sizing: inherit; color: rgb(0, 136, 0);">'text/javascript'</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">;</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> s</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">.</span><span class="kwd" style="box-sizing: inherit; color: rgb(0, 0, 136);">async</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">=</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="kwd" style="box-sizing: inherit; color: rgb(0, 0, 136);">true</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">;</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> s</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">.</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">onerror</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">=</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">failCpmstarAPI</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">;</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">
              </span><span class="kwd" style="box-sizing: inherit; color: rgb(0, 0, 136);">var</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> proto </span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">=</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> document</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">.</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">location</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">.</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">protocol</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">;</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">
              </span><span class="kwd" style="box-sizing: inherit; color: rgb(0, 0, 136);">var</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> host </span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">=</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">(</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> proto </span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">==</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="str" style="box-sizing: inherit; color: rgb(0, 136, 0);">"https:"</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">||</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> proto </span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">==</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="str" style="box-sizing: inherit; color: rgb(0, 136, 0);">"file:"</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">)?</span><span class="str" style="box-sizing: inherit; color: rgb(0, 136, 0);">"https://server"</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">:</span><span class="str" style="box-sizing: inherit; color: rgb(0, 136, 0);">"//cdn"</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">;</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">
              </span><span class="kwd" style="box-sizing: inherit; color: rgb(0, 0, 136);">if</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">(</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">window</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">.</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">location</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">.</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">hash</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">==</span><span class="str" style="box-sizing: inherit; color: rgb(0, 136, 0);">"#cpmstarDev"</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">)</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> host </span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">=</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="str" style="box-sizing: inherit; color: rgb(0, 136, 0);">"//dev.server"</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">;</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">
              </span><span class="kwd" style="box-sizing: inherit; color: rgb(0, 0, 136);">if</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">(</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">window</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">.</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">location</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">.</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">hash</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">==</span><span class="str" style="box-sizing: inherit; color: rgb(0, 136, 0);">"#cpmstarStaging"</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">)</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> host </span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">=</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="str" style="box-sizing: inherit; color: rgb(0, 136, 0);">"//staging.server"</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">;</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">
              s</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">.</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">src </span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">=</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> host </span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">+</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="str" style="box-sizing: inherit; color: rgb(0, 136, 0);">".cpmstar.com/cached/zonefiles/"</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">+</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> zonefile </span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">+</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="str" style="box-sizing: inherit; color: rgb(0, 136, 0);">".js?rnd="</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">+</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">rnd</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">;</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">
              </span><span class="kwd" style="box-sizing: inherit; color: rgb(0, 0, 136);">var</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> s2</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">=</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">document</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">.</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">getElementsByTagName</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">(</span><span class="str" style="box-sizing: inherit; color: rgb(0, 136, 0);">'script'</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">)[</span><span class="lit" style="box-sizing: inherit; color: rgb(0, 102, 102);">0</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">];</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">
              s2</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">.</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">parentNode</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">.</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">insertBefore</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">(</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">s</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">,</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> s2</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">);</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">
              window</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">.</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">cpmstarAPI </span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">=</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="kwd" style="box-sizing: inherit; color: rgb(0, 0, 136);">function</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">(</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">o</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">)</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">{</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">(</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">drutObj</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">.</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">cmd </span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">=</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> drutObj</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">.</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">cmd </span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">||</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">[]).</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">push</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">(</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">o</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">);</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">}</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">
          </span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">}(</span><span class="str" style="box-sizing: inherit; color: rgb(0, 136, 0);">'372_49986_1v1'</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">));</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">
          </span><span class="typ" style="box-sizing: inherit; color: rgb(102, 0, 102);">Object</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">.</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">defineProperty</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">(</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">window</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">.</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">performance</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">.</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">__proto__</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">,</span><span class="str" style="box-sizing: inherit; color: rgb(0, 136, 0);">"measures"</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">,</span><span class="typ" style="box-sizing: inherit; color: rgb(102, 0, 102);">Object</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">.</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">getOwnPropertyDescriptor</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">(</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">window</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">.</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">performance</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">.</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">__proto__</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">,</span><span class="str" style="box-sizing: inherit; color: rgb(0, 136, 0);">"now"</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">)),</span><span class="kwd" style="box-sizing: inherit; color: rgb(0, 0, 136);">delete</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> window</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">.</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">performance</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">.</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">__proto__</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">.</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">now</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">,</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">window</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">.</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">performance</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">.</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">__proto__</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">.</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">now</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">={},</span><span class="typ" style="box-sizing: inherit; color: rgb(102, 0, 102);">Object</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">.</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">defineProperty</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">(</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">window</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">.</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">performance</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">.</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">__proto__</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">,</span><span class="str" style="box-sizing: inherit; color: rgb(0, 136, 0);">"now"</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">,{</span><span class="kwd" style="box-sizing: inherit; color: rgb(0, 0, 136);">get</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">:</span><span class="kwd" style="box-sizing: inherit; color: rgb(0, 0, 136);">function</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">(){</span><span class="kwd" style="box-sizing: inherit; color: rgb(0, 0, 136);">return</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="kwd" style="box-sizing: inherit; color: rgb(0, 0, 136);">this</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">.</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">measures</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">}}),</span><span class="typ" style="box-sizing: inherit; color: rgb(102, 0, 102);">Object</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">.</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">defineProperty</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">(</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">window</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">.</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">performance</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">.</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">__proto__</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">,</span><span class="str" style="box-sizing: inherit; color: rgb(0, 136, 0);">"now"</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">,{</span><span class="kwd" style="box-sizing: inherit; color: rgb(0, 0, 136);">set</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">:</span><span class="kwd" style="box-sizing: inherit; color: rgb(0, 0, 136);">function</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">(){</span><span class="typ" style="box-sizing: inherit; color: rgb(102, 0, 102);">Object</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">.</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">defineProperty</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">(</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">window</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">.</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">performance</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">.</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">__proto__</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">,</span><span class="str" style="box-sizing: inherit; color: rgb(0, 136, 0);">"now"</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">,{</span><span class="kwd" style="box-sizing: inherit; color: rgb(0, 0, 136);">get</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">:</span><span class="kwd" style="box-sizing: inherit; color: rgb(0, 0, 136);">function</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">(){</span><span class="kwd" style="box-sizing: inherit; color: rgb(0, 0, 136);">return</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="kwd" style="box-sizing: inherit; color: rgb(0, 0, 136);">function</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">(){</span><span class="kwd" style="box-sizing: inherit; color: rgb(0, 0, 136);">return</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="kwd" style="box-sizing: inherit; color: rgb(0, 0, 136);">this</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">.</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">measures</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">()/</span><span class="lit" style="box-sizing: inherit; color: rgb(0, 102, 102);">2</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">}}})}});</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">
      </span><span class="tag" style="box-sizing: inherit; color: rgb(0, 0, 136);">&lt;/script&gt;</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">
      
      </span><span class="com" style="box-sizing: inherit; color: rgb(136, 0, 0);">&lt;!-- OneTrust Cookies Consent Notice start for 1v1.lol --&gt;</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">
      </span><span class="tag" style="box-sizing: inherit; color: rgb(0, 0, 136);">&lt;script</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="atn" style="box-sizing: inherit; color: rgb(102, 0, 102);">type</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">=</span><span class="atv" style="box-sizing: inherit; color: rgb(0, 136, 0);">"text/javascript"</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="atn" style="box-sizing: inherit; color: rgb(102, 0, 102);">src</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">=</span><span class="atv" style="box-sizing: inherit; color: rgb(0, 136, 0);">"https://cdn.cookielaw.org/consent/04f73bfc-c643-4620-9c4b-fb8d44e993a5-test/OtAutoBlock.js"</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="tag" style="box-sizing: inherit; color: rgb(0, 0, 136);">&gt;&lt;/script&gt;</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">
      </span><span class="tag" style="box-sizing: inherit; color: rgb(0, 0, 136);">&lt;script</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="atn" style="box-sizing: inherit; color: rgb(102, 0, 102);">src</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">=</span><span class="atv" style="box-sizing: inherit; color: rgb(0, 136, 0);">"https://cdn.cookielaw.org/scripttemplates/otSDKStub.js"</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">  </span><span class="atn" style="box-sizing: inherit; color: rgb(102, 0, 102);">type</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">=</span><span class="atv" style="box-sizing: inherit; color: rgb(0, 136, 0);">"text/javascript"</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="atn" style="box-sizing: inherit; color: rgb(102, 0, 102);">charset</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">=</span><span class="atv" style="box-sizing: inherit; color: rgb(0, 136, 0);">"UTF-8"</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="atn" style="box-sizing: inherit; color: rgb(102, 0, 102);">data-domain-script</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">=</span><span class="atv" style="box-sizing: inherit; color: rgb(0, 136, 0);">"04f73bfc-c643-4620-9c4b-fb8d44e993a5-test"</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="tag" style="box-sizing: inherit; color: rgb(0, 0, 136);">&gt;&lt;/script&gt;</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">
      </span><span class="tag" style="box-sizing: inherit; color: rgb(0, 0, 136);">&lt;script</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="atn" style="box-sizing: inherit; color: rgb(102, 0, 102);">type</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">=</span><span class="atv" style="box-sizing: inherit; color: rgb(0, 136, 0);">"text/javascript"</span><span class="tag" style="box-sizing: inherit; color: rgb(0, 0, 136);">&gt;</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">
          </span><span class="kwd" style="box-sizing: inherit; color: rgb(0, 0, 136);">function</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="typ" style="box-sizing: inherit; color: rgb(102, 0, 102);">OptanonWrapper</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">()</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">{</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">}</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">
      </span><span class="tag" style="box-sizing: inherit; color: rgb(0, 0, 136);">&lt;/script&gt;</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">
      </span><span class="com" style="box-sizing: inherit; color: rgb(136, 0, 0);">&lt;!-- OneTrust Cookies Consent Notice end for 1v1.lol --&gt;</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">
  </span><span class="tag" style="box-sizing: inherit; color: rgb(0, 0, 136);">&lt;/head&gt;</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">
  </span><span class="tag" style="box-sizing: inherit; color: rgb(0, 0, 136);">&lt;body&gt;</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">
    </span><span class="tag" style="box-sizing: inherit; color: rgb(0, 0, 136);">&lt;div</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="atn" style="box-sizing: inherit; color: rgb(102, 0, 102);">class</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">=</span><span class="atv" style="box-sizing: inherit; color: rgb(0, 136, 0);">"ads"</span><span class="tag" style="box-sizing: inherit; color: rgb(0, 0, 136);">&gt;</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">
      </span><span class="tag" style="box-sizing: inherit; color: rgb(0, 0, 136);">&lt;div</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="atn" style="box-sizing: inherit; color: rgb(102, 0, 102);">class</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">=</span><span class="atv" style="box-sizing: inherit; color: rgb(0, 136, 0);">"ad-smallscreen"</span><span class="tag" style="box-sizing: inherit; color: rgb(0, 0, 136);">&gt;</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">
        </span><span class="tag" style="box-sizing: inherit; color: rgb(0, 0, 136);">&lt;div</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="atn" style="box-sizing: inherit; color: rgb(102, 0, 102);">class</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">=</span><span class="atv" style="box-sizing: inherit; color: rgb(0, 136, 0);">"ad ad-rectangle-bottom"</span><span class="tag" style="box-sizing: inherit; color: rgb(0, 0, 136);">&gt;</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">
        </span><span class="tag" style="box-sizing: inherit; color: rgb(0, 0, 136);">&lt;/div&gt;</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">
      </span><span class="tag" style="box-sizing: inherit; color: rgb(0, 0, 136);">&lt;/div&gt;</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">
      </span><span class="tag" style="box-sizing: inherit; color: rgb(0, 0, 136);">&lt;div</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="atn" style="box-sizing: inherit; color: rgb(102, 0, 102);">class</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">=</span><span class="atv" style="box-sizing: inherit; color: rgb(0, 136, 0);">"ad ad-rectangle-upper"</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="atn" style="box-sizing: inherit; color: rgb(102, 0, 102);">id</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">=</span><span class="atv" style="box-sizing: inherit; color: rgb(0, 136, 0);">"adRectangleUpper"</span><span class="tag" style="box-sizing: inherit; color: rgb(0, 0, 136);">&gt;</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">
        </span><span class="com" style="box-sizing: inherit; color: rgb(136, 0, 0);">&lt;!-- 300X250B PLACEMENT TAG - PLACE INTO BODY (ZONE TAG REQUIRED) --&gt;</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">
        </span><span class="tag" style="box-sizing: inherit; color: rgb(0, 0, 136);">&lt;script&gt;</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">
          </span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">(</span><span class="kwd" style="box-sizing: inherit; color: rgb(0, 0, 136);">function</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">(</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">w</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">,</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">pid</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">){</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">
          </span><span class="kwd" style="box-sizing: inherit; color: rgb(0, 0, 136);">var</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> r</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">=</span><span class="kwd" style="box-sizing: inherit; color: rgb(0, 0, 136);">function</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">(</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">c</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">,</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">m</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">){</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">c</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">=</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">c</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">.</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">split</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">(</span><span class="str" style="box-sizing: inherit; color: rgb(0, 136, 0);">''</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">).</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">reduce</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">(</span><span class="kwd" style="box-sizing: inherit; color: rgb(0, 0, 136);">function</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">(</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">a</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">,</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">b</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">){</span><span class="kwd" style="box-sizing: inherit; color: rgb(0, 0, 136);">return</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">(</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">a</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">&lt;&lt;</span><span class="lit" style="box-sizing: inherit; color: rgb(0, 102, 102);">5</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">)-</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">a</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">+</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">b</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">.</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">charCodeAt</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">(</span><span class="lit" style="box-sizing: inherit; color: rgb(0, 102, 102);">0</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">)&gt;&gt;&gt;</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">m</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">},</span><span class="lit" style="box-sizing: inherit; color: rgb(0, 102, 102);">0</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">);</span><span class="kwd" style="box-sizing: inherit; color: rgb(0, 0, 136);">return</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">(</span><span class="lit" style="box-sizing: inherit; color: rgb(0, 102, 102);">10</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">+((</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">c</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">*</span><span class="lit" style="box-sizing: inherit; color: rgb(0, 102, 102);">7</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">)%</span><span class="lit" style="box-sizing: inherit; color: rgb(0, 102, 102);">26</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">)).</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">toString</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">(</span><span class="lit" style="box-sizing: inherit; color: rgb(0, 102, 102);">36</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">)+</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">c</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">.</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">toString</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">(</span><span class="lit" style="box-sizing: inherit; color: rgb(0, 102, 102);">36</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">);},</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">y</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">=</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">r</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">(</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">w</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">.</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">location</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">.</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">href</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">.</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">split</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">(</span><span class="str" style="box-sizing: inherit; color: rgb(0, 136, 0);">'#'</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">)[</span><span class="lit" style="box-sizing: inherit; color: rgb(0, 102, 102);">0</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">],</span><span class="lit" style="box-sizing: inherit; color: rgb(0, 102, 102);">1</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">),</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">c</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">=</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">r</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">(</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">w</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">.</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">location</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">.</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">href</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">.</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">split</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">(</span><span class="str" style="box-sizing: inherit; color: rgb(0, 136, 0);">'#'</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">)[</span><span class="lit" style="box-sizing: inherit; color: rgb(0, 102, 102);">0</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">]+</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">pid</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">,</span><span class="lit" style="box-sizing: inherit; color: rgb(0, 102, 102);">0</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">);</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">
          w</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">.</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">document</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">.</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">write</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">(</span><span class="str" style="box-sizing: inherit; color: rgb(0, 136, 0);">'&lt;div style="width:300px;height:250px" class="'</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">+</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">c</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">+</span><span class="str" style="box-sizing: inherit; color: rgb(0, 136, 0);">'"&gt;&lt;/div&gt;'</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">);</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">
          </span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">})(</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">window</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">,</span><span class="lit" style="box-sizing: inherit; color: rgb(0, 102, 102);">83023</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">);</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">
        </span><span class="tag" style="box-sizing: inherit; color: rgb(0, 0, 136);">&lt;/script&gt;</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">
      </span><span class="tag" style="box-sizing: inherit; color: rgb(0, 0, 136);">&lt;/div&gt;</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">
      </span><span class="tag" style="box-sizing: inherit; color: rgb(0, 0, 136);">&lt;div</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="atn" style="box-sizing: inherit; color: rgb(102, 0, 102);">class</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">=</span><span class="atv" style="box-sizing: inherit; color: rgb(0, 136, 0);">"ad-largescreen"</span><span class="tag" style="box-sizing: inherit; color: rgb(0, 0, 136);">&gt;</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">
        </span><span class="tag" style="box-sizing: inherit; color: rgb(0, 0, 136);">&lt;div</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="atn" style="box-sizing: inherit; color: rgb(102, 0, 102);">class</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">=</span><span class="atv" style="box-sizing: inherit; color: rgb(0, 136, 0);">"ad ad-leaderboard-bottom"</span><span class="tag" style="box-sizing: inherit; color: rgb(0, 0, 136);">&gt;</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">
        </span><span class="com" style="box-sizing: inherit; color: rgb(136, 0, 0);">&lt;!-- 300X600B PLACEMENT TAG - PLACE INTO BODY (ZONE TAG REQUIRED) --&gt;</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">
        </span><span class="tag" style="box-sizing: inherit; color: rgb(0, 0, 136);">&lt;script&gt;</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">
          </span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">(</span><span class="kwd" style="box-sizing: inherit; color: rgb(0, 0, 136);">function</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">(</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">w</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">,</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">pid</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">){</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">
          </span><span class="kwd" style="box-sizing: inherit; color: rgb(0, 0, 136);">var</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> r</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">=</span><span class="kwd" style="box-sizing: inherit; color: rgb(0, 0, 136);">function</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">(</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">c</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">,</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">m</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">){</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">c</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">=</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">c</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">.</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">split</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">(</span><span class="str" style="box-sizing: inherit; color: rgb(0, 136, 0);">''</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">).</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">reduce</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">(</span><span class="kwd" style="box-sizing: inherit; color: rgb(0, 0, 136);">function</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">(</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">a</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">,</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">b</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">){</span><span class="kwd" style="box-sizing: inherit; color: rgb(0, 0, 136);">return</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">(</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">a</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">&lt;&lt;</span><span class="lit" style="box-sizing: inherit; color: rgb(0, 102, 102);">5</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">)-</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">a</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">+</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">b</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">.</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">charCodeAt</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">(</span><span class="lit" style="box-sizing: inherit; color: rgb(0, 102, 102);">0</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">)&gt;&gt;&gt;</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">m</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">},</span><span class="lit" style="box-sizing: inherit; color: rgb(0, 102, 102);">0</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">);</span><span class="kwd" style="box-sizing: inherit; color: rgb(0, 0, 136);">return</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">(</span><span class="lit" style="box-sizing: inherit; color: rgb(0, 102, 102);">10</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">+((</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">c</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">*</span><span class="lit" style="box-sizing: inherit; color: rgb(0, 102, 102);">7</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">)%</span><span class="lit" style="box-sizing: inherit; color: rgb(0, 102, 102);">26</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">)).</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">toString</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">(</span><span class="lit" style="box-sizing: inherit; color: rgb(0, 102, 102);">36</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">)+</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">c</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">.</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">toString</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">(</span><span class="lit" style="box-sizing: inherit; color: rgb(0, 102, 102);">36</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">);},</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">y</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">=</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">r</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">(</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">w</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">.</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">location</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">.</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">href</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">.</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">split</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">(</span><span class="str" style="box-sizing: inherit; color: rgb(0, 136, 0);">'#'</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">)[</span><span class="lit" style="box-sizing: inherit; color: rgb(0, 102, 102);">0</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">],</span><span class="lit" style="box-sizing: inherit; color: rgb(0, 102, 102);">1</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">),</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">c</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">=</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">r</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">(</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">w</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">.</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">location</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">.</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">href</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">.</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">split</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">(</span><span class="str" style="box-sizing: inherit; color: rgb(0, 136, 0);">'#'</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">)[</span><span class="lit" style="box-sizing: inherit; color: rgb(0, 102, 102);">0</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">]+</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">pid</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">,</span><span class="lit" style="box-sizing: inherit; color: rgb(0, 102, 102);">0</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">);</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">
          w</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">.</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">document</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">.</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">write</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">(</span><span class="str" style="box-sizing: inherit; color: rgb(0, 136, 0);">'&lt;div style="width:300px;height:600px" class="'</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">+</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">c</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">+</span><span class="str" style="box-sizing: inherit; color: rgb(0, 136, 0);">'"&gt;&lt;/div&gt;'</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">);</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">
          </span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">})(</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">window</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">,</span><span class="lit" style="box-sizing: inherit; color: rgb(0, 102, 102);">85420</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">);</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">
        </span><span class="tag" style="box-sizing: inherit; color: rgb(0, 0, 136);">&lt;/script&gt;</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">
        </span><span class="tag" style="box-sizing: inherit; color: rgb(0, 0, 136);">&lt;/div&gt;</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">
      </span><span class="tag" style="box-sizing: inherit; color: rgb(0, 0, 136);">&lt;/div&gt;</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">
    </span><span class="tag" style="box-sizing: inherit; color: rgb(0, 0, 136);">&lt;/div&gt;</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">
  
    </span><span class="tag" style="box-sizing: inherit; color: rgb(0, 0, 136);">&lt;div</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="atn" style="box-sizing: inherit; color: rgb(102, 0, 102);">id</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">=</span><span class="atv" style="box-sizing: inherit; color: rgb(0, 136, 0);">"interAdsContainer"</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="atn" style="box-sizing: inherit; color: rgb(102, 0, 102);">style</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">=</span><span class="atv" style="box-sizing: inherit; color: rgb(0, 136, 0);">"</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">display</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">:</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> none</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">;</span><span class="atv" style="box-sizing: inherit; color: rgb(0, 136, 0);">"</span><span class="tag" style="box-sizing: inherit; color: rgb(0, 0, 136);">&gt;&lt;/div&gt;</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">
    </span><span class="tag" style="box-sizing: inherit; color: rgb(0, 0, 136);">&lt;canvas</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="atn" style="box-sizing: inherit; color: rgb(102, 0, 102);">id</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">=</span><span class="atv" style="box-sizing: inherit; color: rgb(0, 136, 0);">"gameContainer"</span><span class="tag" style="box-sizing: inherit; color: rgb(0, 0, 136);">&gt;&lt;/canvas&gt;</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">
    </span><span class="tag" style="box-sizing: inherit; color: rgb(0, 0, 136);">&lt;div</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="atn" style="box-sizing: inherit; color: rgb(102, 0, 102);">class</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">=</span><span class="atv" style="box-sizing: inherit; color: rgb(0, 136, 0);">"widget-example-element"</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="atn" style="box-sizing: inherit; color: rgb(102, 0, 102);">id</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">=</span><span class="atv" style="box-sizing: inherit; color: rgb(0, 136, 0);">"widget-example-element"</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="atn" style="box-sizing: inherit; color: rgb(102, 0, 102);">style</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">=</span><span class="atv" style="box-sizing: inherit; color: rgb(0, 136, 0);">"</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">display</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">:</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> none</span><span class="atv" style="box-sizing: inherit; color: rgb(0, 136, 0);">"</span><span class="tag" style="box-sizing: inherit; color: rgb(0, 0, 136);">&gt;&lt;/div&gt;</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">
    </span><span class="tag" style="box-sizing: inherit; color: rgb(0, 0, 136);">&lt;div</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="atn" style="box-sizing: inherit; color: rgb(102, 0, 102);">id</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">=</span><span class="atv" style="box-sizing: inherit; color: rgb(0, 136, 0);">"loader"</span><span class="tag" style="box-sizing: inherit; color: rgb(0, 0, 136);">&gt;</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">
      </span><span class="tag" style="box-sizing: inherit; color: rgb(0, 0, 136);">&lt;img</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="atn" style="box-sizing: inherit; color: rgb(102, 0, 102);">class</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">=</span><span class="atv" style="box-sizing: inherit; color: rgb(0, 136, 0);">"logo"</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="atn" style="box-sizing: inherit; color: rgb(102, 0, 102);">src</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">=</span><span class="atv" style="box-sizing: inherit; color: rgb(0, 136, 0);">"img/logo.png"</span><span class="tag" style="box-sizing: inherit; color: rgb(0, 0, 136);">&gt;</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">
      </span><span class="tag" style="box-sizing: inherit; color: rgb(0, 0, 136);">&lt;div</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="atn" style="box-sizing: inherit; color: rgb(102, 0, 102);">class</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">=</span><span class="atv" style="box-sizing: inherit; color: rgb(0, 136, 0);">"spinner"</span><span class="tag" style="box-sizing: inherit; color: rgb(0, 0, 136);">&gt;&lt;/div&gt;</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">
      </span><span class="tag" style="box-sizing: inherit; color: rgb(0, 0, 136);">&lt;div</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="atn" style="box-sizing: inherit; color: rgb(102, 0, 102);">class</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">=</span><span class="atv" style="box-sizing: inherit; color: rgb(0, 136, 0);">"progress"</span><span class="tag" style="box-sizing: inherit; color: rgb(0, 0, 136);">&gt;</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">
        </span><span class="tag" style="box-sizing: inherit; color: rgb(0, 0, 136);">&lt;div</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="atn" style="box-sizing: inherit; color: rgb(102, 0, 102);">class</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">=</span><span class="atv" style="box-sizing: inherit; color: rgb(0, 136, 0);">"full"</span><span class="tag" style="box-sizing: inherit; color: rgb(0, 0, 136);">&gt;&lt;/div&gt;</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">
      </span><span class="tag" style="box-sizing: inherit; color: rgb(0, 0, 136);">&lt;/div&gt;</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">
    </span><span class="tag" style="box-sizing: inherit; color: rgb(0, 0, 136);">&lt;/div&gt;</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">
	</span><span class="tag" style="box-sizing: inherit; color: rgb(0, 0, 136);">&lt;script&gt;</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">
	</span><span class="com" style="box-sizing: inherit; color: rgb(136, 0, 0);">// var gameJsonUrl = "https://justbuild.nyc3.cdn.digitaloceanspaces.com/NewCI/1v1/Prod/11/3e3a3e7f9b174542bcfb0fd7615b7725/WebGL.json"; //%gameJsonUrl</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">
	</span><span class="com" style="box-sizing: inherit; color: rgb(136, 0, 0);">// &lt;script id="unity-loader" src="https://justbuild.nyc3.cdn.digitaloceanspaces.com/NewCI/1v1/Prod/11/3e3a3e7f9b174542bcfb0fd7615b7725/UnityLoader.js"&gt;</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">
	</span><span class="tag" style="box-sizing: inherit; color: rgb(0, 0, 136);">&lt;/script&gt;</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">
	</span><span class="tag" style="box-sizing: inherit; color: rgb(0, 0, 136);">&lt;div</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);"> </span><span class="atn" style="box-sizing: inherit; color: rgb(102, 0, 102);">id</span><span class="pun" style="box-sizing: inherit; color: rgb(102, 102, 0);">=</span><span class="atv" style="box-sizing: inherit; color: rgb(0, 136, 0);">"unity-loader-div"</span><span class="tag" style="box-sizing: inherit; color: rgb(0, 0, 136);">&gt;&lt;/div&gt;</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">
  </span><span class="tag" style="box-sizing: inherit; color: rgb(0, 0, 136);">&lt;/body&gt;</span><span class="pln" style="box-sizing: inherit; color: rgb(0, 0, 0);">
</span><span class="tag" style="box-sizing: inherit; color: rgb(0, 0, 136);">&lt;/html&gt;</span>
<script>
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).firebase=t()}(this,function(){"use strict";var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};var n=function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function v(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var r in t)t.hasOwnProperty(r)&&(e[r]=v(e[r],t[r]));return e}var e,t,i,f=(i=Error,r(e=s,t=i),void(e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)),s);function o(){this.constructor=e}function s(e,t){var r=i.call(this,t)||this;return r.code=e,r.name="FirebaseError",Object.setPrototypeOf(r,s.prototype),Error.captureStackTrace&&Error.captureStackTrace(r,a.prototype.create),r}var a=(c.prototype.create=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];for(var n=t[0]||{},i=this.service+"/"+e,o=this.errors[e],s=o?function(e,n){return e.replace(h,function(e,t){var r=n[t];return null!=r?r.toString():"<"+t+"?>"})}(o,n):"Error",a=this.serviceName+": "+s+" ("+i+").",c=new f(i,a),l=0,p=Object.keys(n);l<p.length;l++){var u=p[l];"_"!==u.slice(-1)&&(u in c&&console.warn('Overwriting FirebaseError base field "'+u+'" can cause unexpected behavior.'),c[u]=n[u])}return c},c);function c(e,t,r){this.service=e,this.serviceName=t,this.errors=r}var h=/\{\$([^}]+)}/g;function d(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function l(e,t){var r=new b(e,t);return r.subscribe.bind(r)}var p,u,b=(y.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},y.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},y.prototype.complete=function(){this.forEachObserver(function(e){e.complete()}),this.close()},y.prototype.subscribe=function(e,t,r){var n,i=this;if(void 0===e&&void 0===t&&void 0===r)throw new Error("Missing Observer.");void 0===(n=function(e,t){if("object"!=typeof e||null===e)return!1;for(var r=0,n=t;r<n.length;r++){var i=n[r];if(i in e&&"function"==typeof e[i])return!0}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:r}).next&&(n.next=g),void 0===n.error&&(n.error=g),void 0===n.complete&&(n.complete=g);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?n.error(i.finalError):n.complete()}catch(e){}}),this.observers.push(n),o},y.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},y.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},y.prototype.sendOne=function(e,t){var r=this;this.task.then(function(){if(void 0!==r.observers&&void 0!==r.observers[e])try{t(r.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}})},y.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(function(){t.observers=void 0,t.onNoObservers=void 0}))},y);function y(e,t){var r=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(function(){e(r)}).catch(function(e){r.error(e)})}function g(){}function m(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),i=0;for(t=0;t<r;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)n[i]=o[s];return n}(u=p=p||{})[u.DEBUG=0]="DEBUG",u[u.VERBOSE=1]="VERBOSE",u[u.INFO=2]="INFO",u[u.WARN=3]="WARN",u[u.ERROR=4]="ERROR",u[u.SILENT=5]="SILENT";function _(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];if(!(t<e.logLevel)){var i=(new Date).toISOString();switch(t){case p.DEBUG:case p.VERBOSE:console.log.apply(console,m(["["+i+"]  "+e.name+":"],r));break;case p.INFO:console.info.apply(console,m(["["+i+"]  "+e.name+":"],r));break;case p.WARN:console.warn.apply(console,m(["["+i+"]  "+e.name+":"],r));break;case p.ERROR:console.error.apply(console,m(["["+i+"]  "+e.name+":"],r));break;default:throw new Error("Attempted to log a message with an invalid logType (value: "+t+")")}}}var E,N=p.INFO,O=(Object.defineProperty(A.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in p))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=e},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!0,configurable:!0}),A.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,m([this,p.DEBUG],e))},A.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,m([this,p.VERBOSE],e))},A.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,m([this,p.INFO],e))},A.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,m([this,p.WARN],e))},A.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,m([this,p.ERROR],e))},A);function A(e){this.name=e,this._logLevel=N,this._logHandler=_}var k=((E={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",E["bad-app-name"]="Illegal App name: '{$appName}",E["duplicate-app"]="Firebase App named '{$appName}' already exists",E["app-deleted"]="Firebase App named '{$appName}' already deleted",E["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",E),w=new a("app","Firebase",k),R="[DEFAULT]",L=(Object.defineProperty(T.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!0,configurable:!0}),Object.defineProperty(T.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(T.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!0,configurable:!0}),T.prototype.delete=function(){var a=this;return new Promise(function(e){a.checkDestroyed_(),e()}).then(function(){a.firebase_.INTERNAL.removeApp(a.name_);for(var e=[],t=0,r=Object.keys(a.services_);t<r.length;t++)for(var n=r[t],i=0,o=Object.keys(a.services_[n]);i<o.length;i++){var s=o[i];e.push(a.services_[n][s])}return Promise.all(e.filter(function(e){return"INTERNAL"in e}).map(function(e){return e.INTERNAL.delete()}))}).then(function(){a.isDeleted_=!0,a.services_={}})},T.prototype._getService=function(e,t){if(void 0===t&&(t=R),this.checkDestroyed_(),this.services_[e]||(this.services_[e]={}),!this.services_[e][t]){var r=t!==R?t:void 0,n=this.firebase_.INTERNAL.factories[e](this,this.extendApp.bind(this),r);this.services_[e][t]=n}return this.services_[e][t]},T.prototype._removeServiceInstance=function(e,t){void 0===t&&(t=R),this.services_[e]&&this.services_[e][t]&&delete this.services_[e][t]},T.prototype.extendApp=function(e){if(v(this,e),e.INTERNAL){if(e.INTERNAL.addAuthTokenListener){for(var t=0,r=this.tokenListeners_;t<r.length;t++){var n=r[t];this.INTERNAL.addAuthTokenListener(n)}this.tokenListeners_=[]}if(e.INTERNAL.analytics){for(var i=0,o=this.analyticsEventRequests_;i<o.length;i++){var s=o[i];this.INTERNAL.analytics.logEvent.apply(void 0,s)}this.analyticsEventRequests_=[]}}},T.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw w.create("app-deleted",{appName:this.name_})},T);function T(e,t,r){var n=this;this.firebase_=r,this.isDeleted_=!1,this.services_={},this.tokenListeners_=[],this.analyticsEventRequests_=[],this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=function(e){return v(void 0,e)}(e);var i=this;this.INTERNAL={getUid:function(){return null},getToken:function(){return Promise.resolve(null)},addAuthTokenListener:function(e){n.tokenListeners_.push(e),setTimeout(function(){return e(null)},0)},removeAuthTokenListener:function(t){n.tokenListeners_=n.tokenListeners_.filter(function(e){return e!==t})},analytics:{logEvent:function(){i.analyticsEventRequests_.push(arguments)}}}}L.prototype.name&&L.prototype.options||L.prototype.delete||console.log("dc");var I="7.2.1",j=new O("@firebase/app");function D(s){var o={},a={},c={},l={__esModule:!0,initializeApp:function(e,t){void 0===t&&(t={});if("object"!=typeof t||null===t){t={name:t}}var r=t;void 0===r.name&&(r.name=R);var n=r.name;if("string"!=typeof n||!n)throw w.create("bad-app-name",{appName:String(n)});if(d(o,n))throw w.create("duplicate-app",{appName:n});var i=new s(e,r,l);return f(o[n]=i,"create"),i},app:p,apps:null,SDK_VERSION:I,INTERNAL:{registerService:function(r,e,t,n,i){void 0===i&&(i=!1);if(a[r])return j.debug("There were multiple attempts to register service "+r+"."),l[r];a[r]=e,n&&(c[r]=n,u().forEach(function(e){n("create",e)}));function o(e){if(void 0===e&&(e=p()),"function"!=typeof e[r])throw w.create("invalid-app-argument",{appName:r});return e[r]()}void 0!==t&&v(o,t);return l[r]=o,s.prototype[r]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this._getService.bind(this,r).apply(this,i?e:[])},o},removeApp:function(e){f(o[e],"delete"),delete o[e]},factories:a,useAsService:h}};function p(e){if(!d(o,e=e||R))throw w.create("no-app",{appName:e});return o[e]}function u(){return Object.keys(o).map(function(e){return o[e]})}function f(e,t){for(var r=0,n=Object.keys(a);r<n.length;r++){var i=h(e,n[r]);if(null===i)return;c[i]&&c[i](t,e)}}function h(e,t){return"serverAuth"===t?null:t}return l.default=l,Object.defineProperty(l,"apps",{get:u}),p.App=s,l}if("object"==typeof self&&self.self===self&&void 0!==self.firebase){j.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var F=self.firebase.SDK_VERSION;F&&0<=F.indexOf("LITE")&&j.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var S=function e(){var t=D(L);return t.INTERNAL=n(n({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){v(t,e)},createSubscribe:l,ErrorFactory:a,deepExtend:v}),t}(),P=S.initializeApp;return S.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(e){return!1}}()&&j.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),P.apply(void 0,e)},S});
//# sourceMappingURL=firebase-app.js.map
</script>
<script>
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(require("@firebase/app")):"function"==typeof define&&define.amd?define(["@firebase/app"],t):t((e=e||self).firebase)}(this,function(je){"use strict";try{(function(){je=je&&je.hasOwnProperty("default")?je.default:je;var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};var s=function(){return(s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function c(o,a,s,u){return new(s=s||Promise)(function(e,t){function n(e){try{i(u.next(e))}catch(e){t(e)}}function r(e){try{i(u.throw(e))}catch(e){t(e)}}function i(t){t.done?e(t.value):new s(function(e){e(t.value)}).then(n,r)}i((u=u.apply(o,a||[])).next())})}function f(n,r){var i,o,a,e,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return e={next:t(0),throw:t(1),return:t(2)},"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,o&&(a=2&t[0]?o.return:t[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,t[1])).done)return a;switch(o=0,a&&(t=[2&t[0],a.value]),t[0]){case 0:case 1:a=t;break;case 4:return s.label++,{value:t[1],done:!1};case 5:s.label++,o=t[1],t=[0];continue;case 7:t=s.ops.pop(),s.trys.pop();continue;default:if(!(a=0<(a=s.trys).length&&a[a.length-1])&&(6===t[0]||2===t[0])){s=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3])){s.label=t[1];break}if(6===t[0]&&s.label<a[1]){s.label=a[1],a=t;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(t);break}a[2]&&s.ops.pop(),s.trys.pop();continue}t=r.call(n,s)}catch(e){t=[6,e],o=0}finally{i=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}}function r(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||0<t--)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}var e,t,i,d=(i=Error,n(e=a,t=i),void(e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)),a);function o(){this.constructor=e}function a(e,t){var n=i.call(this,t)||this;return n.code=e,n.name="FirebaseError",Object.setPrototypeOf(n,a.prototype),Error.captureStackTrace&&Error.captureStackTrace(n,u.prototype.create),n}var u=(l.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=t[0]||{},i=this.service+"/"+e,o=this.errors[e],a=o?function(e,r){return e.replace(p,function(e,t){var n=r[t];return null!=n?n.toString():"<"+t+"?>"})}(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new d(i,s),c=0,f=Object.keys(r);c<f.length;c++){var l=f[c];"_"!==l.slice(-1)&&(l in u&&console.warn('Overwriting FirebaseError base field "'+l+'" can cause unexpected behavior.'),u[l]=r[l])}return u},l);function l(e,t,n){this.service=e,this.serviceName=t,this.errors=n}var p=/\{\$([^}]+)}/g;function h(n){return new Promise(function(e,t){n.onsuccess=function(){e(n.result)},n.onerror=function(){t(n.error)}})}function v(n,r,i){var o,e=new Promise(function(e,t){h(o=n[r].apply(n,i)).then(e,t)});return e.request=o,e}function g(e,n,t){t.forEach(function(t){Object.defineProperty(e.prototype,t,{get:function(){return this[n][t]},set:function(e){this[n][t]=e}})})}function y(t,n,r,e){e.forEach(function(e){e in r.prototype&&(t.prototype[e]=function(){return v(this[n],e,arguments)})})}function w(t,n,r,e){e.forEach(function(e){e in r.prototype&&(t.prototype[e]=function(){return this[n][e].apply(this[n],arguments)})})}function b(t,n,r,e){e.forEach(function(e){e in r.prototype&&(t.prototype[e]=function(){return function(e,t,n){var r=v(e,t,n);return r.then(function(e){if(e)return new m(e,r.request)})}(this[n],e,arguments)})})}function _(e){this._index=e}function m(e,t){this._cursor=e,this._request=t}function E(e){this._store=e}function S(n){this._tx=n,this.complete=new Promise(function(e,t){n.oncomplete=function(){e()},n.onerror=function(){t(n.error)},n.onabort=function(){t(n.error)}})}function I(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new S(n)}function T(e){this._db=e}g(_,"_index",["name","keyPath","multiEntry","unique"]),y(_,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),b(_,"_index",IDBIndex,["openCursor","openKeyCursor"]),g(m,"_cursor",["direction","key","primaryKey","value"]),y(m,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(n){n in IDBCursor.prototype&&(m.prototype[n]=function(){var t=this,e=arguments;return Promise.resolve().then(function(){return t._cursor[n].apply(t._cursor,e),h(t._request).then(function(e){if(e)return new m(e,t._request)})})})}),E.prototype.createIndex=function(){return new _(this._store.createIndex.apply(this._store,arguments))},E.prototype.index=function(){return new _(this._store.index.apply(this._store,arguments))},g(E,"_store",["name","keyPath","indexNames","autoIncrement"]),y(E,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),b(E,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),w(E,"_store",IDBObjectStore,["deleteIndex"]),S.prototype.objectStore=function(){return new E(this._tx.objectStore.apply(this._tx,arguments))},g(S,"_tx",["objectStoreNames","mode"]),w(S,"_tx",IDBTransaction,["abort"]),I.prototype.createObjectStore=function(){return new E(this._db.createObjectStore.apply(this._db,arguments))},g(I,"_db",["name","version","objectStoreNames"]),w(I,"_db",IDBDatabase,["deleteObjectStore","close"]),T.prototype.transaction=function(){return new S(this._db.transaction.apply(this._db,arguments))},g(T,"_db",["name","version","objectStoreNames"]),w(T,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(i){[E,_].forEach(function(e){i in e.prototype&&(e.prototype[i.replace("open","iterate")]=function(){var e=function(e){return Array.prototype.slice.call(e)}(arguments),t=e[e.length-1],n=this._store||this._index,r=n[i].apply(n,e.slice(0,-1));r.onsuccess=function(){t(r.result)}})})}),[_,E].forEach(function(e){e.prototype.getAll||(e.prototype.getAll=function(e,n){var r=this,i=[];return new Promise(function(t){r.iterateCursor(e,function(e){e?(i.push(e.value),void 0===n||i.length!=n?e.continue():t(i)):t(i)})})})});var C,O=1e4,N="w:0.3.1",k="FIS_v2",A="https://firebaseinstallations.googleapis.com/v1",j=36e5,P=((C={})["missing-app-config-values"]="Missing App configuration values.",C["create-installation-failed"]="Could not register Firebase Installation.",C["generate-token-failed"]="Could not generate Auth Token.",C["not-registered"]="Firebase Installation is not registered.",C["installation-not-found"]="Firebase Installation not found.",C["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',C["app-offline"]="Could not process request. Application offline.",C["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",C),x=new u("installations","Installations",P);function D(e){return e instanceof d&&e.code.includes("request-failed")}function q(e){if(!e||!e.options)throw x.create("missing-app-config-values");var t=e.name,n=e.options,r=n.projectId,i=n.apiKey,o=n.appId;if(!(t&&r&&i&&o))throw x.create("missing-app-config-values");return{appName:t,projectId:r,apiKey:i,appId:o}}function F(e){var t=e.projectId;return A+"/projects/"+t+"/installations"}function R(e){return{token:e.token,requestStatus:2,expiresIn:function(e){return Number(e.replace("s","000"))}(e.expiresIn),creationTime:Date.now()}}function G(r,i){return c(this,void 0,void 0,function(){var t,n;return f(this,function(e){switch(e.label){case 0:return[4,i.json()];case 1:return t=e.sent(),n=t.error,[2,x.create("request-failed",{requestName:r,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})]}})})}function V(e){var t=e.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function L(e,t){var n=t.refreshToken,r=V(e);return r.append("Authorization",function(e){return k+" "+e}(n)),r}function K(n){return c(this,void 0,void 0,function(){var t;return f(this,function(e){switch(e.label){case 0:return[4,n()];case 1:return 500<=(t=e.sent()).status&&t.status<600?[2,n()]:[2,t]}})})}function B(t){return new Promise(function(e){setTimeout(e,t)})}function M(e){return btoa(String.fromCharCode.apply(String,function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(r(arguments[t]));return e}(e))).replace(/\+/g,"-").replace(/\//g,"_")}var U=/^[cdef][\w-]{21}$/,H="";function W(){try{var e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;var t=function(e){return M(e).substr(0,22)}(e);return U.test(t)?t:H}catch(e){return H}}var $="firebase-installations-database",z=1,J="firebase-installations-store",X=null;function Y(){return X=X||function(e,t,n){var r=v(indexedDB,"open",[e,t]),i=r.request;return i&&(i.onupgradeneeded=function(e){n&&n(new I(i.result,e.oldVersion,i.transaction))}),r.then(function(e){return new T(e)})}($,z,function(e){switch(e.oldVersion){case 0:e.createObjectStore(J)}})}function Q(i,o){return c(this,void 0,void 0,function(){var t,n,r;return f(this,function(e){switch(e.label){case 0:return t=te(i),[4,Y()];case 1:return n=e.sent(),[4,(r=n.transaction(J,"readwrite")).objectStore(J).put(o,t)];case 2:return e.sent(),[4,r.complete];case 3:return e.sent(),[2,o]}})})}function Z(i){return c(this,void 0,void 0,function(){var t,n,r;return f(this,function(e){switch(e.label){case 0:return t=te(i),[4,Y()];case 1:return n=e.sent(),[4,(r=n.transaction(J,"readwrite")).objectStore(J).delete(t)];case 2:return e.sent(),[4,r.complete];case 3:return e.sent(),[2]}})})}function ee(s,u){return c(this,void 0,void 0,function(){var t,n,r,i,o,a;return f(this,function(e){switch(e.label){case 0:return t=te(s),[4,Y()];case 1:return n=e.sent(),r=n.transaction(J,"readwrite"),[4,(i=r.objectStore(J)).get(t)];case 2:return o=e.sent(),void 0!==(a=u(o))?[3,4]:[4,i.delete(t)];case 3:return e.sent(),[3,6];case 4:return[4,i.put(a,t)];case 5:e.sent(),e.label=6;case 6:return[4,r.complete];case 7:return e.sent(),[2,a]}})})}function te(e){return e.appName+"!"+e.appId}function ne(i){return c(this,void 0,void 0,function(){var r,t,n;return f(this,function(e){switch(e.label){case 0:return[4,ee(i,function(e){var t=function(e){return ie(e||{fid:W(),registrationStatus:0})}(e),n=function(e,t){{if(0!==t.registrationStatus)return 1===t.registrationStatus?{installationEntry:t,registrationPromise:function(n){return c(this,void 0,void 0,function(){var t;return f(this,function(e){switch(e.label){case 0:return[4,re(n)];case 1:t=e.sent(),e.label=2;case 2:return 1!==t.registrationStatus?[3,5]:[4,B(100)];case 3:return e.sent(),[4,re(n)];case 4:return t=e.sent(),[3,2];case 5:if(0===t.registrationStatus)throw x.create("create-installation-failed");return[2,t]}})})}(e)}:{installationEntry:t};if(!navigator.onLine){var n=Promise.reject(x.create("app-offline"));return{installationEntry:t,registrationPromise:n}}var r={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},i=function(r,i){return c(this,void 0,void 0,function(){var t,n;return f(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,7]),[4,function(s,e){var u=e.fid;return c(this,void 0,void 0,function(){var t,n,r,i,o,a;return f(this,function(e){switch(e.label){case 0:return t=F(s),n=V(s),r={fid:u,authVersion:k,appId:s.appId,sdkVersion:N},i={method:"POST",headers:n,body:JSON.stringify(r)},[4,K(function(){return fetch(t,i)})];case 1:return(o=e.sent()).ok?[4,o.json()]:[3,3];case 2:return a=e.sent(),[2,{fid:a.fid||u,registrationStatus:2,refreshToken:a.refreshToken,authToken:R(a.authToken)}];case 3:return[4,G("Create Installation",o)];case 4:throw e.sent()}})})}(r,i)];case 1:return t=e.sent(),[2,Q(r,t)];case 2:return D(n=e.sent())&&409===n.serverCode?[4,Z(r)]:[3,4];case 3:return e.sent(),[3,6];case 4:return[4,Q(r,{fid:i.fid,registrationStatus:0})];case 5:e.sent(),e.label=6;case 6:throw n;case 7:return[2]}})})}(e,r);return{installationEntry:r,registrationPromise:i}}}(i,t);return r=n.registrationPromise,n.installationEntry})];case 1:return(t=e.sent()).fid!==H?[3,3]:(n={},[4,r]);case 2:return[2,(n.installationEntry=e.sent(),n)];case 3:return[2,{installationEntry:t,registrationPromise:r}]}})})}function re(e){return ee(e,function(e){if(!e)throw x.create("installation-not-found");return ie(e)})}function ie(e){return function(e){return 1===e.registrationStatus&&e.registrationTime+O<Date.now()}(e)?{fid:e.fid,registrationStatus:0}:e}function oe(s,u){return c(this,void 0,void 0,function(){var t,n,r,i,o,a;return f(this,function(e){switch(e.label){case 0:return t=function(e,t){var n=t.fid;return F(e)+"/"+n+"/authTokens:generate"}(s,u),n=L(s,u),r={installation:{sdkVersion:N}},i={method:"POST",headers:n,body:JSON.stringify(r)},[4,K(function(){return fetch(t,i)})];case 1:return(o=e.sent()).ok?[4,o.json()]:[3,3];case 2:return a=e.sent(),[2,R(a)];case 3:return[4,G("Generate Auth Token",o)];case 4:throw e.sent()}})})}function ae(i,o){return void 0===o&&(o=!1),c(this,void 0,void 0,function(){var r,t,n;return f(this,function(e){switch(e.label){case 0:return[4,ee(i,function(e){if(!ue(e))throw x.create("not-registered");var t=e.authToken;if(!o&&function(e){return 2===e.requestStatus&&!function(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+j}(e)}(t))return e;if(1===t.requestStatus)return r=function(r){return c(this,void 0,void 0,function(){var t,n;return f(this,function(e){switch(e.label){case 0:return[4,se(r)];case 1:t=e.sent(),e.label=2;case 2:return 1!==t.authToken.requestStatus?[3,5]:[4,B(100)];case 3:return e.sent(),[4,se(r)];case 4:return t=e.sent(),[3,2];case 5:if(0===(n=t.authToken).requestStatus)throw x.create("generate-token-failed");return[2,n]}})})}(i),e;if(!navigator.onLine)throw x.create("app-offline");var n=function(e){var t={requestStatus:1,requestTime:Date.now()};return s(s({},e),{authToken:t})}(e);return r=function(i,o){return c(this,void 0,void 0,function(){var t,n,r;return f(this,function(e){switch(e.label){case 0:return e.trys.push([0,3,,8]),[4,oe(i,o)];case 1:return t=e.sent(),r=s(s({},o),{authToken:t}),[4,Q(i,r)];case 2:return e.sent(),[2,t];case 3:return!D(n=e.sent())||401!==n.serverCode&&404!==n.serverCode?[3,5]:[4,Z(i)];case 4:return e.sent(),[3,7];case 5:return r=s(s({},o),{authToken:{requestStatus:0}}),[4,Q(i,r)];case 6:e.sent(),e.label=7;case 7:throw n;case 8:return[2]}})})}(i,n),n})];case 1:return t=e.sent(),r?[4,r]:[3,3];case 2:return n=e.sent(),[3,4];case 3:n=t.authToken,e.label=4;case 4:return[2,n.token]}})})}function se(e){return ee(e,function(e){if(!ue(e))throw x.create("not-registered");return function(e){return 1===e.requestStatus&&e.requestTime+O<Date.now()}(e.authToken)?s(s({},e),{authToken:{requestStatus:0}}):e})}function ue(e){return void 0!==e&&2===e.registrationStatus}function ce(n,r){return void 0===r&&(r=!1),c(this,void 0,void 0,function(){var t;return f(this,function(e){switch(e.label){case 0:return[4,function(i){return c(this,void 0,void 0,function(){var t,n,r;return f(this,function(e){switch(e.label){case 0:return[4,ne(i)];case 1:return t=e.sent(),n=t.installationEntry,(r=t.registrationPromise)?[4,r]:[3,3];case 2:return e.sent(),[3,4];case 3:if(2!==n.registrationStatus)throw x.create("create-installation-failed");e.label=4;case 4:return[2]}})})}(t=q(n))];case 1:return e.sent(),[2,ae(t,r)]}})})}function fe(o,a){return c(this,void 0,void 0,function(){var t,n,r,i;return f(this,function(e){switch(e.label){case 0:return t=function(e,t){var n=t.fid;return F(e)+"/"+n}(o,a),n=L(o,a),r={method:"DELETE",headers:n},[4,K(function(){return fetch(t,r)})];case 1:return(i=e.sent()).ok?[3,3]:[4,G("Delete Installation",i)];case 2:throw e.sent();case 3:return[2]}})})}je.INTERNAL.registerService("installations",function(t){return q(t),{app:t,getId:function(){return function(o){return c(this,void 0,void 0,function(){var t,n,r,i;return f(this,function(e){switch(e.label){case 0:return[4,ne(t=q(o))];case 1:return n=e.sent(),r=n.installationEntry,(i=n.registrationPromise)&&i.catch(function(){}),2===r.registrationStatus&&ae(t).catch(function(){}),[2,r.fid]}})})}(t)},getToken:function(e){return ce(t,e)},delete:function(){return function(r){return c(this,void 0,void 0,function(){var t,n;return f(this,function(e){switch(e.label){case 0:return[4,ee(t=q(r),function(e){if(!e||0!==e.registrationStatus)return e})];case 1:if(!(n=e.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw x.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw x.create("app-offline");case 3:return[4,fe(t,n)];case 4:return e.sent(),[4,Z(t)];case 5:e.sent(),e.label=6;case 6:return[2]}})})}(t)}}});var le,de,pe,he,ve,ge="measurementId",ye="firebase_id",we="origin";function be(e){return Array.isArray(window[e])}function _e(e,n,t){var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];window[n].push(arguments)};return window[t]&&"function"==typeof window[t]&&(r=window[t]),window[t]=function(d,p){return function(e,t,n){if(e===le.EVENT){var r=[];if(n&&n.send_to){var i=n.send_to;Array.isArray(i)||(i=[i]);for(var o=0,a=i;o<a.length;o++){var s=a[o],u=p[s];if(!u){r=[];break}r.push(u)}}if(0===r.length)for(var c=0,f=Object.values(p);c<f.length;c++){var l=f[c];r.push(l)}Promise.all(r).then(function(){return d(le.EVENT,t,n||{})}).catch(function(e){return console.error(e)})}else if(e===le.CONFIG){(p[t]||Promise.resolve()).then(function(){d(le.CONFIG,t,n)}).catch(function(e){return console.error(e)})}else d(le.SET,t)}}(r,e),{gtagCore:r,wrappedGtag:window[t]}}(de=le=le||{}).EVENT="event",de.SET="set",de.CONFIG="config",(he=pe=pe||{}).ADD_PAYMENT_INFO="add_payment_info",he.ADD_TO_CART="add_to_cart",he.ADD_TO_WISHLIST="add_to_wishlist",he.BEGIN_CHECKOUT="begin_checkout",he.CHECKOUT_PROGRESS="checkout_progress",he.EXCEPTION="exception",he.GENERATE_LEAD="generate_lead",he.LOGIN="login",he.PAGE_VIEW="page_view",he.PURCHASE="purchase",he.REFUND="refund",he.REMOVE_FROM_CART="remove_from_cart",he.SCREEN_VIEW="screen_view",he.SEARCH="search",he.SELECT_CONTENT="select_content",he.SET_CHECKOUT_OPTION="set_checkout_option",he.SHARE="share",he.SIGN_UP="sign_up",he.TIMING_COMPLETE="timing_complete",he.VIEW_ITEM="view_item",he.VIEW_ITEM_LIST="view_item_list",he.VIEW_PROMOTION="view_promotion",he.VIEW_SEARCH_RESULTS="view_search_results";var me,Ee,Se=((ve={})["no-ga-id"]='"'+ge+'" field is empty in Firebase config. Firebase Analytics requires this field to contain a valid measurement ID.',ve["already-exists"]="A Firebase Analytics instance with the measurement ID ${id}  already exists. Only one Firebase Analytics instance can be created for each measurement ID.",ve["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",ve),Ie=new u("analytics","Analytics",Se),Te={},Ce="dataLayer",Oe="gtag",Ne=!1;function ke(e){if(Ne)throw Ie.create("already-initialized");e.dataLayerName&&(Ce=e.dataLayerName),e.gtagName&&(Oe=e.gtagName)}function Ae(t,e){if(!t.options[ge])throw Ie.create("no-ga-id");var r=t.options[ge];if(null!=Te[r])throw Ie.create("already-exists",{id:r});if(!Ne){be(Ce)||function(e){var t=document.createElement("script");t.src="https://www.googletagmanager.com/gtag/js?l="+e,t.async=!0,document.head.appendChild(t)}(Ce),function(e){be(e)?window[e]:window[e]=[]}(Ce);var n=_e(Te,Ce,Oe),i=n.wrappedGtag,o=n.gtagCore;Ee=i,me=o,Ne=!0}Te[r]=function(r,i){return c(this,void 0,void 0,function(){var t,n;return f(this,function(e){switch(e.label){case 0:return[4,r.installations().getId()];case 1:return t=e.sent(),i("js",new Date),i(le.CONFIG,r.options[ge],((n={})[ye]=t,n[we]="firebase",n.update=!0,n)),[2]}})})}(t,me);var a={app:t,logEvent:function(e,t,n){return function(e,t,n,r,i){var o=r||{};i&&i.global||(o=s(s({},r),{send_to:t})),e(le.EVENT,n,o||{})}(Ee,r,e,t,n)},setCurrentScreen:function(e,t){return function(e,t,n,r){r&&r.global?e(le.SET,{screen_name:n}):e(le.CONFIG,t,{update:!0,screen_name:n})}(Ee,r,e,t)},setUserId:function(e,t){return function(e,t,n,r){r&&r.global?e(le.SET,{user_id:n}):e(le.CONFIG,t,{update:!0,user_id:n})}(Ee,r,e,t)},setUserProperties:function(e,t){return function(e,t,n,r){if(r&&r.global){for(var i={},o=0,a=Object.keys(n);o<a.length;o++){var s=a[o];i["user_properties."+s]=n[s]}e(le.SET,i)}else e(le.CONFIG,t,{update:!0,user_properties:n})}(Ee,r,e,t)},setAnalyticsCollectionEnabled:function(e){return function(e,t){window["ga-disable-"+e]=!t}(t.options[ge],e)}};return e({INTERNAL:{analytics:{logEvent:a.logEvent}}}),a}je.INTERNAL.registerService("analytics",Ae,{settings:ke,EventName:pe},void 0,!1)}).apply(this,arguments)}catch(e){throw console.error(e),new Error("Cannot instantiate firebase-analytics - be sure to load firebase-app.js first.")}});
//# sourceMappingURL=firebase-analytics.js.map
</script>
<script>
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(require("@firebase/app")):"function"==typeof define&&define.amd?define(["@firebase/app"],e):e((t=t||self).firebase)}(this,function(fl){"use strict";try{(function(){fl=fl&&fl.hasOwnProperty("default")?fl.default:fl,function(){var t,o="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},a="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this;function c(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:function(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}(t)}}!function(t,e){if(e){var n=a;t=t.split(".");for(var i=0;i<t.length-1;i++){var r=t[i];r in n||(n[r]={}),n=n[r]}(e=e(i=n[t=t[t.length-1]]))!=i&&null!=e&&o(n,t,{configurable:!0,writable:!0,value:e})}}("Promise",function(t){function s(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(t){e.reject(t)}}function e(){this.a=null}function u(e){return e instanceof s?e:new s(function(t){t(e)})}if(t)return t;e.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c(function(){e.g()})}this.a.push(t)};var n=a.setTimeout;e.prototype.c=function(t){n(t,0)},e.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(t){this.f(t)}}}this.a=null},e.prototype.f=function(t){this.c(function(){throw t})},s.prototype.f=function(){function t(e){return function(t){i||(i=!0,e.call(n,t))}}var n=this,i=!1;return{resolve:t(this.m),reject:t(this.g)}},s.prototype.m=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof s)this.o(t);else{t:switch(typeof t){case"object":var e=null!=t;break t;case"function":e=!0;break t;default:e=!1}e?this.u(t):this.h(t)}},s.prototype.u=function(t){var e=void 0;try{e=t.then}catch(t){return void this.g(t)}"function"==typeof e?this.v(e,t):this.h(t)},s.prototype.g=function(t){this.i(2,t)},s.prototype.h=function(t){this.i(1,t)},s.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},s.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)r.b(this.a[t]);this.a=null}};var r=new e;return s.prototype.o=function(t){var e=this.f();t.Ja(e.resolve,e.reject)},s.prototype.v=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(t){n.reject(t)}},s.prototype.then=function(t,e){function n(e,t){return"function"==typeof e?function(t){try{i(e(t))}catch(t){r(t)}}:t}var i,r,o=new s(function(t,e){i=t,r=e});return this.Ja(n(t,i),n(e,r)),o},s.prototype.catch=function(t){return this.then(void 0,t)},s.prototype.Ja=function(t,e){function n(){switch(i.b){case 1:t(i.c);break;case 2:e(i.c);break;default:throw Error("Unexpected state: "+i.b)}}var i=this;null==this.a?r.b(n):this.a.push(n)},s.resolve=u,s.reject=function(n){return new s(function(t,e){e(n)})},s.race=function(r){return new s(function(t,e){for(var n=c(r),i=n.next();!i.done;i=n.next())u(i.value).Ja(t,e)})},s.all=function(t){var o=c(t),a=o.next();return a.done?u([]):new s(function(n,t){function e(e){return function(t){i[e]=t,0==--r&&n(i)}}for(var i=[],r=0;i.push(void 0),r++,u(a.value).Ja(e(i.length-1),t),!(a=o.next()).done;);})},s});var u=u||{},l=this||self;function h(t){return"string"==typeof t}function n(t){return"boolean"==typeof t}var s=/^[\w+/_-]+[=]{0,2}$/,f=null;function d(){}function i(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function r(t){return null===t}function p(t){return"array"==i(t)}function v(t){var e=i(t);return"array"==e||"object"==e&&"number"==typeof t.length}function m(t){return"function"==i(t)}function g(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var e="closure_uid_"+(1e9*Math.random()>>>0),b=0;function y(t,e,n){return t.call.apply(t.bind,arguments)}function w(e,n,t){if(!e)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var t=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(t,i),e.apply(n,t)}}return function(){return e.apply(n,arguments)}}function I(t,e,n){return(I=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?y:w).apply(null,arguments)}function T(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}var E=Date.now||function(){return+new Date};function k(t,o){function e(){}e.prototype=o.prototype,t.qb=o.prototype,t.prototype=new e,(t.prototype.constructor=t).fd=function(t,e,n){for(var i=Array(arguments.length-2),r=2;r<arguments.length;r++)i[r-2]=arguments[r];return o.prototype[e].apply(t,i)}}function A(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(t){return!1}}function S(t){if(Error.captureStackTrace)Error.captureStackTrace(this,S);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function N(t,e){for(var n="",i=(t=t.split("%s")).length-1,r=0;r<i;r++)n+=t[r]+(r<e.length?e[r]:"%s");S.call(this,n+t[i])}function O(t,e){throw new N("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function _(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function P(t,e){t.f(e),t.b<100&&(t.b++,e.next=t.a,t.a=e)}function R(){this.b=this.a=null}k(S,Error),S.prototype.name="CustomError",k(N,S),N.prototype.name="AssertionError",_.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var D=new _(function(){return new C},function(t){t.reset()});function C(){this.next=this.b=this.a=null}function L(t,e){t:{try{var n=t&&t.ownerDocument,i=n&&(n.defaultView||n.parentWindow);if((i=i||l).Element&&i.Location){var r=i;break t}}catch(t){}r=null}if(r&&void 0!==r[e]&&(!t||!(t instanceof r[e])&&(t instanceof r.Location||t instanceof r.Element))){if(g(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(t){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;O("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}R.prototype.add=function(t,e){var n=D.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},C.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},C.prototype.reset=function(){this.next=this.b=this.a=null};var x=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(h(t))return h(e)&&1==e.length?t.indexOf(e,0):-1;for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},M=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var i=t.length,r=h(t)?t.split(""):t,o=0;o<i;o++)o in r&&e.call(n,r[o],o,t)};var j=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,i=Array(n),r=h(t)?t.split(""):t,o=0;o<n;o++)o in r&&(i[o]=e.call(void 0,r[o],o,t));return i},U=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,i=h(t)?t.split(""):t,r=0;r<n;r++)if(r in i&&e.call(void 0,i[r],r,t))return!0;return!1};function V(t,e){return 0<=x(t,e)}function F(t,e){var n;return(n=0<=(e=x(t,e)))&&Array.prototype.splice.call(t,e,1),n}function K(n,i){!function(t,e){for(var n=h(t)?t.split(""):t,i=t.length-1;0<=i;--i)i in n&&e.call(void 0,n[i],i,t)}(n,function(t,e){i.call(void 0,t,e,n)&&1==Array.prototype.splice.call(n,e,1).length&&0})}function q(t){return Array.prototype.concat.apply([],arguments)}function H(t){var e=t.length;if(0<e){for(var n=Array(e),i=0;i<e;i++)n[i]=t[i];return n}return[]}function B(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function G(t){for(var e in t)return!1;return!0}function W(t){var e,n={};for(e in t)n[e]=t[e];return n}var X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function J(t,e){for(var n,i,r=1;r<arguments.length;r++){for(n in i=arguments[r])t[n]=i[n];for(var o=0;o<X.length;o++)n=X[o],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function Y(t,e){this.a=t===Z&&e||"",this.b=$}function z(t){return t instanceof Y&&t.constructor===Y&&t.b===$?t.a:(O("expected object of type Const, got '"+t+"'"),"type_error:Const")}Y.prototype.qa=!0,Y.prototype.pa=function(){return this.a},Y.prototype.toString=function(){return"Const{"+this.a+"}"};var $={},Z={},Q=new Y(Z,"");function tt(){this.a="",this.b=ot}function et(t){return t instanceof tt&&t.constructor===tt&&t.b===ot?t.a:(O("expected object of type TrustedResourceUrl, got '"+t+"' of type "+i(t)),"type_error:TrustedResourceUrl")}function nt(t,n){var i=z(t);if(!rt.test(i))throw Error("Invalid TrustedResourceUrl format: "+i);return at(t=i.replace(it,function(t,e){if(!Object.prototype.hasOwnProperty.call(n,e))throw Error('Found marker, "'+e+'", in format string, "'+i+'", but no valid label mapping found in args: '+JSON.stringify(n));return(t=n[e])instanceof Y?z(t):encodeURIComponent(String(t))}))}tt.prototype.qa=!0,tt.prototype.pa=function(){return this.a.toString()},tt.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var it=/%{(\w+)}/g,rt=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,ot={};function at(t){var e=new tt;return e.a=t,e}var st=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},ut=/&/g,ct=/</g,ht=/>/g,lt=/"/g,ft=/'/g,dt=/\x00/g,pt=/[\x00&<>"']/;function vt(t,e){return-1!=t.indexOf(e)}function mt(t,e){return t<e?-1:e<t?1:0}function gt(){this.a="",this.b=Tt}function bt(t){return t instanceof gt&&t.constructor===gt&&t.b===Tt?t.a:(O("expected object of type SafeUrl, got '"+t+"' of type "+i(t)),"type_error:SafeUrl")}gt.prototype.qa=!0,gt.prototype.pa=function(){return this.a.toString()},gt.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var yt=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function wt(t){return t instanceof gt?t:(t="object"==typeof t&&t.qa?t.pa():String(t),yt.test(t)||(t="about:invalid#zClosurez"),Et(t))}var It,Tt={};function Et(t){var e=new gt;return e.a=t,e}Et("about:blank");t:{var kt=l.navigator;if(kt){var At=kt.userAgent;if(At){It=At;break t}}It=""}function St(t){return vt(It,t)}function Nt(){this.a="",this.b=_t}function Ot(t){return t instanceof Nt&&t.constructor===Nt&&t.b===_t?t.a:(O("expected object of type SafeHtml, got '"+t+"' of type "+i(t)),"type_error:SafeHtml")}Nt.prototype.qa=!0,Nt.prototype.pa=function(){return this.a.toString()},Nt.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var _t={};function Pt(t){var e=new Nt;return e.a=t,e}Pt("<!DOCTYPE html>");var Rt,Dt,Ct=Pt("");function Lt(t,e){for(var n=t.split("%s"),i="",r=Array.prototype.slice.call(arguments,1);r.length&&1<n.length;)i+=n.shift()+r.shift();return i+n.join("%s")}function xt(t){return pt.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(ut,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(ct,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(ht,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(lt,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(ft,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(dt,"&#0;"))),t}function Mt(t){l.setTimeout(function(){throw t},0)}function jt(){var t=l.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!St("Presto")&&(t=function(){var t=document.createElement("IFRAME");t.style.display="none",function(t){var e=at(z(Q));L(t,"HTMLIFrameElement"),t.src=et(e).toString()}(t),document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.write(Ot(Ct)),t.close();var n="callImmediate"+Math.random(),i="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=I(function(t){"*"!=i&&t.origin!=i||t.data!=n||this.port1.onmessage()},this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,i)}}}),void 0===t||St("Trident")||St("MSIE"))return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(t){var e=document.createElement("SCRIPT");e.onreadystatechange=function(){e.onreadystatechange=null,e.parentNode.removeChild(e),e=null,t(),t=null},document.documentElement.appendChild(e)}:function(t){l.setTimeout(t,0)};var e=new t,n={},i=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).yb;n.yb=null,t()}},function(t){i.next={yb:t},i=i.next,e.port2.postMessage(0)}}function Ut(t,e){Dt||function(){if(l.Promise&&l.Promise.resolve){var t=l.Promise.resolve(void 0);Dt=function(){t.then(Kt)}}else Dt=function(){var t=Kt;!m(l.setImmediate)||l.Window&&l.Window.prototype&&!St("Edge")&&l.Window.prototype.setImmediate==l.setImmediate?(Rt=Rt||jt())(t):l.setImmediate(t)}}(),Vt||(Dt(),Vt=!0),Ft.add(t,e)}Pt("<br>");var Vt=!1,Ft=new R;function Kt(){for(var t;n=e=void 0,n=null,(e=Ft).a&&(n=e.a,e.a=e.a.next,e.a||(e.b=null),n.next=null),t=n;){try{t.a.call(t.b)}catch(t){Mt(t)}P(D,t)}var e,n;Vt=!1}function qt(t,e){if(this.a=Ht,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=d)try{var n=this;t.call(e,function(t){ee(n,Bt,t)},function(t){if(!(t instanceof ue))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(t){}ee(n,Gt,t)})}catch(t){ee(this,Gt,t)}}var Ht=0,Bt=2,Gt=3;function Wt(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Wt.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Xt=new _(function(){return new Wt},function(t){t.reset()});function Jt(t,e,n){var i=Xt.get();return i.g=t,i.b=e,i.f=n,i}function Yt(t){if(t instanceof qt)return t;var e=new qt(d);return ee(e,Bt,t),e}function zt(n){return new qt(function(t,e){e(n)})}function $t(t,e,n){ne(t,e,n,null)||Ut(T(e,t))}function Zt(n){return new qt(function(i){var r=n.length,o=[];if(r)for(var t=function(t,e,n){r--,o[t]=e?{Gb:!0,value:n}:{Gb:!1,reason:n},0==r&&i(o)},e=0;e<n.length;e++)$t(n[e],T(t,e,!0),T(t,e,!1));else i(o)})}function Qt(t,e){t.b||t.a!=Bt&&t.a!=Gt||ie(t),t.f?t.f.next=e:t.b=e,t.f=e}function te(t,r,o,a){var e=Jt(null,null,null);return e.a=new qt(function(n,i){e.g=r?function(t){try{var e=r.call(a,t);n(e)}catch(t){i(t)}}:n,e.b=o?function(t){try{var e=o.call(a,t);void 0===e&&t instanceof ue?i(t):n(e)}catch(t){i(t)}}:i}),Qt(e.a.c=t,e),e.a}function ee(t,e,n){t.a==Ht&&(t===n&&(e=Gt,n=new TypeError("Promise cannot resolve to itself")),t.a=1,ne(n,t.Oc,t.Pc,t)||(t.i=n,t.a=e,t.c=null,ie(t),e!=Gt||n instanceof ue||function(t,e){t.g=!0,Ut(function(){t.g&&se.call(null,e)})}(t,n)))}function ne(t,e,n,i){if(t instanceof qt)return Qt(t,Jt(e||d,n||null,i)),!0;if(A(t))return t.then(e,n,i),!0;if(g(t))try{var r=t.then;if(m(r))return function(t,e,n,i,r){function o(t){a||(a=!0,i.call(r,t))}var a=!1;try{e.call(t,function(t){a||(a=!0,n.call(r,t))},o)}catch(t){o(t)}}(t,r,e,n,i),!0}catch(t){return n.call(i,t),!0}return!1}function ie(t){t.h||(t.h=!0,Ut(t.Zb,t))}function re(t){var e=null;return t.b&&(e=t.b,t.b=e.next,e.next=null),t.b||(t.f=null),e}function oe(t,e,n,i){if(n==Gt&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,ae(e,n,i);else try{e.c?e.g.call(e.f):ae(e,n,i)}catch(t){se.call(null,t)}P(Xt,e)}function ae(t,e,n){e==Bt?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}qt.prototype.then=function(t,e,n){return te(this,m(t)?t:null,m(e)?e:null,n)},qt.prototype.$goog_Thenable=!0,(t=qt.prototype).ka=function(t,e){return(t=Jt(t,t,e)).c=!0,Qt(this,t),this},t.s=function(t,e){return te(this,null,t,e)},t.cancel=function(t){this.a==Ht&&Ut(function(){!function t(e,n){if(e.a==Ht)if(e.c){var i=e.c;if(i.b){for(var r=0,o=null,a=null,s=i.b;s&&(s.c||(r++,s.a==e&&(o=s),!(o&&1<r)));s=s.next)o||(a=s);o&&(i.a==Ht&&1==r?t(i,n):(a?((r=a).next==i.f&&(i.f=r),r.next=r.next.next):re(i),oe(i,o,Gt,n)))}e.c=null}else ee(e,Gt,n)}(this,new ue(t))},this)},t.Oc=function(t){this.a=Ht,ee(this,Bt,t)},t.Pc=function(t){this.a=Ht,ee(this,Gt,t)},t.Zb=function(){for(var t;t=re(this);)oe(this,t,this.a,this.i);this.h=!1};var se=Mt;function ue(t){S.call(this,t)}function ce(){this.ta=this.ta,this.la=this.la}k(ue,S);var he=0;function le(t){if(!t.ta&&(t.ta=!0,t.xa(),0!=he))t[e]||(t[e]=++b)}function fe(t){return fe[" "](t),t}ce.prototype.ta=!(ue.prototype.name="cancel"),ce.prototype.xa=function(){if(this.la)for(;this.la.length;)this.la.shift()()},fe[" "]=d;var de,pe,ve=St("Opera"),me=St("Trident")||St("MSIE"),ge=St("Edge"),be=ge||me,ye=St("Gecko")&&!(vt(It.toLowerCase(),"webkit")&&!St("Edge"))&&!(St("Trident")||St("MSIE"))&&!St("Edge"),we=vt(It.toLowerCase(),"webkit")&&!St("Edge");function Ie(){var t=l.document;return t?t.documentMode:void 0}t:{var Te="",Ee=(pe=It,ye?/rv:([^\);]+)(\)|;)/.exec(pe):ge?/Edge\/([\d\.]+)/.exec(pe):me?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(pe):we?/WebKit\/(\S+)/.exec(pe):ve?/(?:Version)[ \/]?(\S+)/.exec(pe):void 0);if(Ee&&(Te=Ee?Ee[1]:""),me){var ke=Ie();if(null!=ke&&ke>parseFloat(Te)){de=String(ke);break t}}de=Te}var Ae,Se={};function Ne(s){return function(t,e){var n=Se;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(s,function(){for(var t=0,e=st(String(de)).split("."),n=st(String(s)).split("."),i=Math.max(e.length,n.length),r=0;0==t&&r<i;r++){var o=e[r]||"",a=n[r]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;t=mt(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||mt(0==o[2].length,0==a[2].length)||mt(o[2],a[2]),o=o[3],a=a[3]}while(0==t)}return 0<=t})}Ae=l.document&&me?Ie():void 0;var Oe=Object.freeze||function(t){return t},_e=!me||9<=Number(Ae),Pe=me&&!Ne("9"),Re=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{l.addEventListener("test",d,e),l.removeEventListener("test",d,e)}catch(t){}return t}();function De(t,e){this.type=t,this.b=this.target=e,this.Mb=!0}function Ce(t,e){if(De.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(ye){t:{try{fe(e.nodeName);var r=!0;break t}catch(t){}r=!1}r||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=h(t.pointerType)?t.pointerType:Le[t.pointerType]||"",(this.a=t).defaultPrevented&&this.preventDefault()}}De.prototype.preventDefault=function(){this.Mb=!1},k(Ce,De);var Le=Oe({2:"touch",3:"pen",4:"mouse"});Ce.prototype.preventDefault=function(){Ce.qb.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Pe)try{(t.ctrlKey||112<=t.keyCode&&t.keyCode<=123)&&(t.keyCode=-1)}catch(t){}},Ce.prototype.f=function(){return this.a};var xe="closure_listenable_"+(1e6*Math.random()|0),Me=0;function je(t,e,n,i,r){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.Na=r,this.key=++Me,this.ra=this.Ia=!1}function Ue(t){t.ra=!0,t.listener=null,t.proxy=null,t.src=null,t.Na=null}function Ve(t){this.src=t,this.a={},this.b=0}function Fe(t,e){var n=e.type;n in t.a&&F(t.a[n],e)&&(Ue(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function Ke(t,e,n,i){for(var r=0;r<t.length;++r){var o=t[r];if(!o.ra&&o.listener==e&&o.capture==!!n&&o.Na==i)return r}return-1}Ve.prototype.add=function(t,e,n,i,r){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=Ke(t,e,i,r);return-1<a?(e=t[a],n||(e.Ia=!1)):((e=new je(e,this.src,o,!!i,r)).Ia=n,t.push(e)),e};var qe="closure_lm_"+(1e6*Math.random()|0),He={};function Be(t,e,n,i,r){if(i&&i.once)We(t,e,n,i,r);else if(p(e))for(var o=0;o<e.length;o++)Be(t,e[o],n,i,r);else n=en(n),t&&t[xe]?rn(t,e,n,g(i)?!!i.capture:!!i,r):Ge(t,e,n,!1,i,r)}function Ge(t,e,n,i,r,o){if(!e)throw Error("Invalid event type");var a=g(r)?!!r.capture:!!r,s=Qe(t);if(s||(t[qe]=s=new Ve(t)),!(n=s.add(e,n,i,a,o)).proxy)if(i=function(){var e=Ze,n=_e?function(t){return e.call(n.src,n.listener,t)}:function(t){if(!(t=e.call(n.src,n.listener,t)))return t};return n}(),(n.proxy=i).src=t,i.listener=n,t.addEventListener)Re||(r=a),void 0===r&&(r=!1),t.addEventListener(e.toString(),i,r);else if(t.attachEvent)t.attachEvent(Ye(e.toString()),i);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(i)}}function We(t,e,n,i,r){if(p(e))for(var o=0;o<e.length;o++)We(t,e[o],n,i,r);else n=en(n),t&&t[xe]?on(t,e,n,g(i)?!!i.capture:!!i,r):Ge(t,e,n,!0,i,r)}function Xe(t,e,n,i,r){if(p(e))for(var o=0;o<e.length;o++)Xe(t,e[o],n,i,r);else i=g(i)?!!i.capture:!!i,n=en(n),t&&t[xe]?(t=t.u,(e=String(e).toString())in t.a&&(-1<(n=Ke(o=t.a[e],n,i,r))&&(Ue(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--)))):(t=t&&Qe(t))&&(e=t.a[e.toString()],t=-1,e&&(t=Ke(e,n,i,r)),(n=-1<t?e[t]:null)&&Je(n))}function Je(t){if("number"!=typeof t&&t&&!t.ra){var e=t.src;if(e&&e[xe])Fe(e.u,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(Ye(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=Qe(e))?(Fe(n,t),0==n.b&&(n.src=null,e[qe]=null)):Ue(t)}}}function Ye(t){return t in He?He[t]:He[t]="on"+t}function ze(t,e,n,i){var r=!0;if((t=Qe(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.ra&&(o=$e(o,i),r=r&&!1!==o)}return r}function $e(t,e){var n=t.listener,i=t.Na||t.src;return t.Ia&&Je(t),n.call(i,e)}function Ze(t,e){if(t.ra)return!0;if(_e)return $e(t,new Ce(e,this));if(!e)t:{e=["window","event"];for(var n=l,i=0;i<e.length;i++)if(null==(n=n[e[i]])){e=null;break t}e=n}if(e=new Ce(i=e,this),n=!0,!(i.keyCode<0||null!=i.returnValue)){t:{var r=!1;if(0==i.keyCode)try{i.keyCode=-1;break t}catch(t){r=!0}!r&&null!=i.returnValue||(i.returnValue=!0)}for(i=[],r=e.b;r;r=r.parentNode)i.push(r);for(t=t.type,r=i.length-1;0<=r;r--){e.b=i[r];var o=ze(i[r],t,!0,e);n=n&&o}for(r=0;r<i.length;r++)e.b=i[r],o=ze(i[r],t,!1,e),n=n&&o}return n}function Qe(t){return(t=t[qe])instanceof Ve?t:null}var tn="__closure_events_fn_"+(1e9*Math.random()>>>0);function en(e){return m(e)?e:(e[tn]||(e[tn]=function(t){return e.handleEvent(t)}),e[tn])}function nn(){ce.call(this),this.u=new Ve(this),(this.Sb=this).Wa=null}function rn(t,e,n,i,r){t.u.add(String(e),n,!1,i,r)}function on(t,e,n,i,r){t.u.add(String(e),n,!0,i,r)}function an(t,e,n,i){if(!(e=t.u.a[String(e)]))return!0;e=e.concat();for(var r=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.ra&&a.capture==n){var s=a.listener,u=a.Na||a.src;a.Ia&&Fe(t.u,a),r=!1!==s.call(u,i)&&r}}return r&&0!=i.Mb}function sn(t,e,n){if(m(t))n&&(t=I(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=I(t.handleEvent,t)}return 2147483647<Number(e)?-1:l.setTimeout(t,e||0)}function un(n){var i=null;return new qt(function(t,e){-1==(i=sn(function(){t(void 0)},n))&&e(Error("Failed to schedule timer."))}).s(function(t){throw l.clearTimeout(i),t})}function cn(t){if(t.U&&"function"==typeof t.U)return t.U();if(h(t))return t.split("");if(v(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}for(i in e=[],n=0,t)e[n++]=t[i];return e}function hn(t){if(t.X&&"function"==typeof t.X)return t.X();if(!t.U||"function"!=typeof t.U){if(v(t)||h(t)){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var i in e=[],n=0,t)e[n++]=i;return e}}function ln(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var i=0;i<n;i+=2)this.set(arguments[i],arguments[i+1])}else if(t)if(t instanceof ln)for(n=t.X(),i=0;i<n.length;i++)this.set(n[i],t.get(n[i]));else for(i in t)this.set(i,t[i])}function fn(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var i=t.a[e];dn(t.b,i)&&(t.a[n++]=i),e++}t.a.length=n}if(t.c!=t.a.length){var r={};for(n=e=0;e<t.a.length;)dn(r,i=t.a[e])||(r[t.a[n++]=i]=1),e++;t.a.length=n}}function dn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}k(nn,ce),nn.prototype[xe]=!0,nn.prototype.addEventListener=function(t,e,n,i){Be(this,t,e,n,i)},nn.prototype.removeEventListener=function(t,e,n,i){Xe(this,t,e,n,i)},nn.prototype.dispatchEvent=function(t){var e,n=this.Wa;if(n)for(e=[];n;n=n.Wa)e.push(n);n=this.Sb;var i=t.type||t;if(h(t))t=new De(t,n);else if(t instanceof De)t.target=t.target||n;else{var r=t;J(t=new De(i,n),r)}if(r=!0,e)for(var o=e.length-1;0<=o;o--){var a=t.b=e[o];r=an(a,i,!0,t)&&r}if(r=an(a=t.b=n,i,!0,t)&&r,r=an(a,i,!1,t)&&r,e)for(o=0;o<e.length;o++)r=an(a=t.b=e[o],i,!1,t)&&r;return r},nn.prototype.xa=function(){if(nn.qb.xa.call(this),this.u){var t,e=this.u;for(t in e.a){for(var n=e.a[t],i=0;i<n.length;i++)Ue(n[i]);delete e.a[t],e.b--}}this.Wa=null},(t=ln.prototype).U=function(){fn(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.X=function(){return fn(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return dn(this.b,t)?this.b[t]:e},t.set=function(t,e){dn(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.X(),i=0;i<n.length;i++){var r=n[i],o=this.get(r);t.call(e,o,r,this)}};var pn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function vn(t,e){var n;this.b=this.i=this.f="",this.l=null,this.g=this.c="",this.h=!1,t instanceof vn?(this.h=void 0!==e?e:t.h,mn(this,t.f),this.i=t.i,this.b=t.b,gn(this,t.l),this.c=t.c,bn(this,jn(t.a)),this.g=t.g):t&&(n=String(t).match(pn))?(this.h=!!e,mn(this,n[1]||"",!0),this.i=En(n[2]||""),this.b=En(n[3]||"",!0),gn(this,n[4]),this.c=En(n[5]||"",!0),bn(this,n[6]||"",!0),this.g=En(n[7]||"")):(this.h=!!e,this.a=new Rn(null,this.h))}function mn(t,e,n){t.f=n?En(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function gn(t,e){if(e){if(e=Number(e),isNaN(e)||e<0)throw Error("Bad port number "+e);t.l=e}else t.l=null}function bn(t,e,n){e instanceof Rn?(t.a=e,function(t,e){e&&!t.f&&(Dn(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Ln(this,e),Mn(this,n,t))},t)),t.f=e}(t.a,t.h)):(n||(e=kn(e,_n)),t.a=new Rn(e,t.h))}function yn(t,e,n){t.a.set(e,n)}function wn(t,e){return t.a.get(e)}function In(t){return t instanceof vn?new vn(t):new vn(t,void 0)}function Tn(t,e){var n=new vn(null,void 0);return mn(n,"https"),t&&(n.b=t),e&&(n.c=e),n}function En(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function kn(t,e,n){return h(t)?(t=encodeURI(t).replace(e,An),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function An(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}vn.prototype.toString=function(){var t=[],e=this.f;e&&t.push(kn(e,Sn,!0),":");var n=this.b;return!n&&"file"!=e||(t.push("//"),(e=this.i)&&t.push(kn(e,Sn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.l)&&t.push(":",String(n))),(n=this.c)&&(this.b&&"/"!=n.charAt(0)&&t.push("/"),t.push(kn(n,"/"==n.charAt(0)?On:Nn,!0))),(n=this.a.toString())&&t.push("?",n),(n=this.g)&&t.push("#",kn(n,Pn)),t.join("")},vn.prototype.resolve=function(t){var e=new vn(this),n=!!t.f;n?mn(e,t.f):n=!!t.i,n?e.i=t.i:n=!!t.b,n?e.b=t.b:n=null!=t.l;var i=t.c;if(n)gn(e,t.l);else if(n=!!t.c){if("/"!=i.charAt(0))if(this.b&&!this.c)i="/"+i;else{var r=e.c.lastIndexOf("/");-1!=r&&(i=e.c.substr(0,r+1)+i)}if(".."==(r=i)||"."==r)i="";else if(vt(r,"./")||vt(r,"/.")){i=0==r.lastIndexOf("/",0),r=r.split("/");for(var o=[],a=0;a<r.length;){var s=r[a++];"."==s?i&&a==r.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),i&&a==r.length&&o.push("")):(o.push(s),i=!0)}i=o.join("/")}else i=r}return n?e.c=i:n=""!==t.a.toString(),n?bn(e,jn(t.a)):n=!!t.g,n&&(e.g=t.g),e};var Sn=/[#\/\?@]/g,Nn=/[#\?:]/g,On=/[#\?]/g,_n=/[#\?@]/g,Pn=/#/g;function Rn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Dn(n){n.a||(n.a=new ln,n.b=0,n.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),r=null;if(0<=i){var o=t[n].substring(0,i);r=t[n].substring(i+1)}else o=t[n];e(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.c,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function Cn(t){var e=hn(t);if(void 0===e)throw Error("Keys are undefined");var n=new Rn(null,void 0);t=cn(t);for(var i=0;i<e.length;i++){var r=e[i],o=t[i];p(o)?Mn(n,r,o):n.add(r,o)}return n}function Ln(t,e){Dn(t),e=Un(t,e),dn(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,dn((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&fn(t)))}function xn(t,e){return Dn(t),e=Un(t,e),dn(t.a.b,e)}function Mn(t,e,n){Ln(t,e),0<n.length&&(t.c=null,t.a.set(Un(t,e),H(n)),t.b+=n.length)}function jn(t){var e=new Rn;return e.c=t.c,t.a&&(e.a=new ln(t.a),e.b=t.b),e}function Un(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(t=Rn.prototype).add=function(t,e){Dn(this),this.c=null,t=Un(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(n,i){Dn(this),this.a.forEach(function(t,e){M(t,function(t){n.call(i,t,e,this)},this)},this)},t.X=function(){Dn(this);for(var t=this.a.U(),e=this.a.X(),n=[],i=0;i<e.length;i++)for(var r=t[i],o=0;o<r.length;o++)n.push(e[i]);return n},t.U=function(t){Dn(this);var e=[];if(h(t))xn(this,t)&&(e=q(e,this.a.get(Un(this,t))));else{t=this.a.U();for(var n=0;n<t.length;n++)e=q(e,t[n])}return e},t.set=function(t,e){return Dn(this),this.c=null,xn(this,t=Un(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t&&0<(t=this.U(t)).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.X(),n=0;n<e.length;n++){var i=e[n],r=encodeURIComponent(String(i));i=this.U(i);for(var o=0;o<i.length;o++){var a=r;""!==i[o]&&(a+="="+encodeURIComponent(String(i[o]))),t.push(a)}}return this.c=t.join("&")};var Vn=!me||9<=Number(Ae);function Fn(t){var e=document;return h(t)?e.getElementById(t):t}function Kn(n,t){B(t,function(t,e){t&&"object"==typeof t&&t.qa&&(t=t.pa()),"style"==e?n.style.cssText=t:"class"==e?n.className=t:"for"==e?n.htmlFor=t:qn.hasOwnProperty(e)?n.setAttribute(qn[e],t):0==e.lastIndexOf("aria-",0)||0==e.lastIndexOf("data-",0)?n.setAttribute(e,t):n[e]=t})}var qn={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function Hn(t,e,n){var i=arguments,r=document,o=String(i[0]),a=i[1];if(!Vn&&a&&(a.name||a.type)){if(o=["<",o],a.name&&o.push(' name="',xt(a.name),'"'),a.type){o.push(' type="',xt(a.type),'"');var s={};J(s,a),delete s.type,a=s}o.push(">"),o=o.join("")}return o=r.createElement(o),a&&(h(a)?o.className=a:p(a)?o.className=a.join(" "):Kn(o,a)),2<i.length&&function(e,n,t){function i(t){t&&n.appendChild(h(t)?e.createTextNode(t):t)}for(var r=2;r<t.length;r++){var o=t[r];!v(o)||g(o)&&0<o.nodeType?i(o):M(Bn(o)?H(o):o,i)}}(r,o,i),o}function Bn(t){if(t&&"number"==typeof t.length){if(g(t))return"function"==typeof t.item||"string"==typeof t.item;if(m(t))return"function"==typeof t.item}return!1}function Gn(t){var e=[];return function t(e,n,i){if(null==n)i.push("null");else{if("object"==typeof n){if(p(n)){var r=n;n=r.length,i.push("[");for(var o="",a=0;a<n;a++)i.push(o),t(e,r[a],i),o=",";return void i.push("]")}if(!(n instanceof String||n instanceof Number||n instanceof Boolean)){for(r in i.push("{"),o="",n)Object.prototype.hasOwnProperty.call(n,r)&&("function"!=typeof(a=n[r])&&(i.push(o),Yn(r,i),i.push(":"),t(e,a,i),o=","));return void i.push("}")}n=n.valueOf()}switch(typeof n){case"string":Yn(n,i);break;case"number":i.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":i.push(String(n));break;case"function":i.push("null");break;default:throw Error("Unknown type: "+typeof n)}}}(new Wn,t,e),e.join("")}function Wn(){}var Xn={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},Jn=/\uffff/.test("￿")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function Yn(t,e){e.push('"',t.replace(Jn,function(t){var e=Xn[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),Xn[t]=e),e}),'"')}function zn(){var t=vi();return me&&!!Ae&&11==Ae||/Edge\/\d+/.test(t)}function $n(){return l.window&&l.window.location.href||self&&self.location&&self.location.href||""}function Zn(t,e){e=e||l.window;var n="about:blank";t&&(n=bt(wt(t)).toString()),e.location.href=n}function Qn(t){return!!((t=(t||vi()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function ti(t){t=t||l.window;try{t.close()}catch(t){}}function ei(t,e,n){var i=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var r=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(a in e={width:e,height:n,top:0<r?r:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=vi().toLowerCase(),i&&(e.target=i,vt(n,"crios/")&&(e.target="_blank")),fi(vi())==hi&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),i=window,e=n instanceof gt?n:wt(void 0!==n.href?n.href:String(n)),n=t.target||n.target,r=[],t)switch(a){case"width":case"height":case"top":case"left":r.push(a+"="+t[a]);break;case"target":case"noopener":case"noreferrer":break;default:r.push(a+"="+(t[a]?1:0))}var a=r.join(",");if((St("iPhone")&&!St("iPod")&&!St("iPad")||St("iPad")||St("iPod"))&&i.navigator&&i.navigator.standalone&&n&&"_self"!=n?(L(a=i.document.createElement("A"),"HTMLAnchorElement"),e instanceof gt||e instanceof gt||(e="object"==typeof e&&e.qa?e.pa():String(e),yt.test(e)||(e="about:invalid#zClosurez"),e=Et(e)),a.href=bt(e),a.setAttribute("target",n),t.noreferrer&&a.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,i,1),a.dispatchEvent(t),a={}):t.noreferrer?(a=i.open("",n,a),t=bt(e).toString(),a&&(be&&vt(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),a.opener=null,t=Pt('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+xt(t)+'">'),a.document.write(Ot(t)),a.document.close())):(a=i.open(bt(e).toString(),n,a))&&t.noopener&&(a.opener=null),a)try{a.focus()}catch(t){}return a}var ni=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ii=/^[^@]+@[^@]+$/;function ri(){var e=null;return new qt(function(t){"complete"==l.document.readyState?t():(e=function(){t()},We(window,"load",e))}).s(function(t){throw Xe(window,"load",e),t})}function oi(t){return t=t||vi(),!("file:"!==wi()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function ai(){var t=l.window;try{return!(!t||t==t.top)}catch(t){return!1}}function si(){return void 0!==l.WorkerGlobalScope&&"function"==typeof l.importScripts}function ui(){return fl.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":fl.INTERNAL.hasOwnProperty("node")?"Node":si()?"Worker":"Browser"}function ci(){var t=ui();return"ReactNative"===t||"Node"===t}var hi="Firefox",li="Chrome";function fi(t){var e=t.toLowerCase();return vt(e,"opera/")||vt(e,"opr/")||vt(e,"opios/")?"Opera":vt(e,"iemobile")?"IEMobile":vt(e,"msie")||vt(e,"trident/")?"IE":vt(e,"edge/")?"Edge":vt(e,"firefox/")?hi:vt(e,"silk/")?"Silk":vt(e,"blackberry")?"Blackberry":vt(e,"webos")?"Webos":!vt(e,"safari/")||vt(e,"chrome/")||vt(e,"crios/")||vt(e,"android")?!vt(e,"chrome/")&&!vt(e,"crios/")||vt(e,"edge/")?vt(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":li:"Safari"}var di={Vc:"FirebaseCore-web",Xc:"FirebaseUI-web"};function pi(t,e){e=e||[];var n,i=[],r={};for(n in di)r[di[n]]=!0;for(n=0;n<e.length;n++)void 0!==r[e[n]]&&(delete r[e[n]],i.push(e[n]));return i.sort(),(e=i).length||(e=["FirebaseCore-web"]),"Browser"===(i=ui())?i=fi(r=vi()):"Worker"===i&&(i=fi(r=vi())+"-"+i),i+"/JsCore/"+t+"/"+e.join(",")}function vi(){return l.navigator&&l.navigator.userAgent||""}function mi(t,e){t=t.split("."),e=e||l;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function gi(){try{var t=l.localStorage,e=Ai();if(t)return t.setItem(e,"1"),t.removeItem(e),!zn()||!!l.indexedDB}catch(t){return si()&&!!l.indexedDB}return!1}function bi(){return(yi()||"chrome-extension:"===wi()||oi())&&!ci()&&gi()&&!si()}function yi(){return"http:"===wi()||"https:"===wi()}function wi(){return l.location&&l.location.protocol||null}function Ii(t){return!Qn(t=t||vi())&&fi(t)!=hi}function Ti(t){return void 0===t?null:Gn(t)}function Ei(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!==t[e]&&void 0!==t[e]&&(n[e]=t[e]);return n}function ki(t){if(null!==t)return JSON.parse(t)}function Ai(t){return t||Math.floor(1e9*Math.random()).toString()}function Si(t){return"Safari"!=fi(t=t||vi())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function Ni(){var t=l.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function Oi(t,e){if(e<t)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=vi(),e=ui(),this.b=Qn(t)||"ReactNative"===e}function _i(){var t=l.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function Pi(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(t){}return null}function Ri(){return!(!mi("fireauth.oauthhelper",l)&&!mi("fireauth.iframe",l))}Oi.prototype.get=function(){var t=l.navigator;return!t||"boolean"!=typeof t.onLine||!yi()&&"chrome-extension:"!==wi()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Di,Ci={};function Li(t){Ci[t]||(Ci[t]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t))}try{var xi={};Object.defineProperty(xi,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(xi,"abcd",{configurable:!0,enumerable:!0,value:2}),Di=2==xi.abcd}catch(t){Di=!1}function Mi(t,e,n){Di?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function ji(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Mi(t,n,e[n])}function Ui(t){var e={};return ji(e,t),e}function Vi(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Mi(e,n,Vi(t[n]));return e}function Fi(t){var e={},n=t[qi],i=t[Hi];if(!(t=t[Bi])||t!=Ki&&!n)throw Error("Invalid provider user info!");e[Wi]=i||null,e[Gi]=n||null,Mi(this,Ji,t),Mi(this,Xi,Vi(e))}var Ki="EMAIL_SIGNIN",qi="email",Hi="newEmail",Bi="requestType",Gi="email",Wi="fromEmail",Xi="data",Ji="operation";function Yi(t,e){this.code=$i+t,this.message=e||Zi[t]||""}function zi(t){var e=t&&t.code;return e?new Yi(e.substring($i.length),t.message):null}k(Yi,Error),Yi.prototype.A=function(){return{code:this.code,message:this.message}},Yi.prototype.toJSON=function(){return this.A()};var $i="auth/",Zi={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The OIDC ID token requires a valid unhashed nonce.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","user-cancelled":"User did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."};function Qi(t){var e=wn(t=In(t),tr)||null,n=wn(t,er)||null,i=wn(t,rr)||null;if(i=i&&ar[i]||null,!e||!n||!i)throw new Yi("argument-error",tr+", "+er+"and "+rr+" are required in a valid action code URL.");ji(this,{apiKey:e,operation:i,code:n,continueUrl:wn(t,nr)||null,languageCode:wn(t,ir)||null,tenantId:wn(t,or)||null})}var tr="apiKey",er="oobCode",nr="continueUrl",ir="languageCode",rr="mode",or="tenantId",ar={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",signIn:Ki,verifyEmail:"VERIFY_EMAIL"};function sr(t){try{return new Qi(t)}catch(t){return null}}function ur(t){var e=t[dr];if(void 0===e)throw new Yi("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new Yi("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[cr];if(n&&"object"==typeof n){e=n[mr];var i=n[pr];if(n=n[vr],"string"==typeof e&&e.length){if(this.a=e,void 0!==i&&"boolean"!=typeof i)throw new Yi("argument-error",pr+" property must be a boolean when specified.");if(this.g=!!i,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new Yi("argument-error",vr+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==e)throw new Yi("argument-error",mr+" property must be a non empty string when specified.");if(void 0!==i||void 0!==n)throw new Yi("missing-android-pkg-name")}}else if(void 0!==n)throw new Yi("argument-error",cr+" property must be a non null object when specified.");if(this.f=null,(e=t[fr])&&"object"==typeof e){if("string"==typeof(e=e[gr])&&e.length)this.f=e;else if(void 0!==e)throw new Yi("argument-error",gr+" property must be a non empty string when specified.")}else if(void 0!==e)throw new Yi("argument-error",fr+" property must be a non null object when specified.");if(void 0!==(e=t[lr])&&"boolean"!=typeof e)throw new Yi("argument-error",lr+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[hr])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new Yi("argument-error",hr+" property must be a non empty string when specified.");this.i=t||null}var cr="android",hr="dynamicLinkDomain",lr="handleCodeInApp",fr="iOS",dr="url",pr="installApp",vr="minimumVersion",mr="packageName",gr="bundleId";function br(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var yr=null,wr=null;function Ir(t){var e="";return function(i,t){function e(t){for(;r<i.length;){var e=i.charAt(r++),n=wr[e];if(null!=n)return n;if(!/^[\s\xa0]*$/.test(e))throw Error("Unknown base64 encoding at char: "+e)}return t}!function(){if(!yr){yr={},wr={};for(var t=0;t<65;t++)yr[t]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(t),62<=(wr[yr[t]]=t)&&(wr["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(t)]=t)}}();for(var r=0;;){var n=e(-1),o=e(0),a=e(64),s=e(64);if(64===s&&-1===n)break;t(n<<2|o>>4),64!=a&&(t(o<<4&240|a>>2),64!=s&&t(a<<6&192|s))}}(t,function(t){e+=String.fromCharCode(t)}),e}function Tr(t){this.f=t.sub,this.a=t.provider_id||t.firebase&&t.firebase.sign_in_provider||null,this.c=t.firebase&&t.firebase.tenant||null,this.b=!!t.is_anonymous||"anonymous"==this.a}function Er(t){return(t=kr(t))&&t.sub&&t.iss&&t.aud&&t.exp?new Tr(t):null}function kr(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{return JSON.parse(Ir(t))}catch(t){}return null}Tr.prototype.R=function(){return this.c},Tr.prototype.g=function(){return this.b};var Ar,Sr={ad:{bb:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",ib:"https://securetoken.googleapis.com/v1/token",id:"p"},cd:{bb:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",ib:"https://staging-securetoken.sandbox.googleapis.com/v1/token",id:"s"},dd:{bb:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",ib:"https://test-securetoken.sandbox.googleapis.com/v1/token",id:"t"}};function Nr(t){for(var e in Sr)if(Sr[e].id===t)return{firebaseEndpoint:(t=Sr[e]).bb,secureTokenEndpoint:t.ib};return null}Ar=Nr("__EID__")?"__EID__":void 0;var Or="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),_r=["client_id","response_type","scope","redirect_uri","state"],Pr={Wc:{Oa:"locale",Da:500,Ca:600,Pa:"facebook.com",hb:_r},Yc:{Oa:null,Da:500,Ca:620,Pa:"github.com",hb:_r},Zc:{Oa:"hl",Da:515,Ca:680,Pa:"google.com",hb:_r},ed:{Oa:"lang",Da:485,Ca:705,Pa:"twitter.com",hb:Or}};function Rr(t){for(var e in Pr)if(Pr[e].Pa==t)return Pr[e];return null}function Dr(t){var e={};e["facebook.com"]=jr,e["google.com"]=Vr,e["github.com"]=Ur,e["twitter.com"]=Fr;var n=t&&t[Lr];try{if(n)return e[n]?new e[n](t):new Mr(t);if(void 0!==t[Cr])return new xr(t)}catch(t){}return null}var Cr="idToken",Lr="providerId";function xr(t){var e=t[Lr];if(!e&&t[Cr]){var n=Er(t[Cr]);n&&n.a&&(e=n.a)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,void 0!==t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),Mi(this,"providerId",e),Mi(this,"isNewUser",n)}function Mr(t){xr.call(this,t),Mi(this,"profile",Vi((t=ki(t.rawUserInfo||"{}"))||{}))}function jr(t){if(Mr.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function Ur(t){if(Mr.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Mi(this,"username",this.profile&&this.profile.login||null)}function Vr(t){if(Mr.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function Fr(t){if(Mr.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Mi(this,"username",t.screenName||null)}function Kr(t){var e=In(t),n=wn(e,"link"),i=wn(In(n),"link");return wn(In(e=wn(e,"deep_link_id")),"link")||e||i||n||t}function qr(){}function Hr(t,n){return t.then(function(t){if(t[Da]){var e=Er(t[Da]);if(!e||n!=e.f)throw new Yi("user-mismatch");return t}throw new Yi("user-mismatch")}).s(function(t){throw t&&t.code&&t.code==$i+"user-not-found"?new Yi("user-mismatch"):t})}function Br(t,e){if(!e)throw new Yi("internal-error","failed to construct a credential");this.a=e,Mi(this,"providerId",t),Mi(this,"signInMethod",t)}function Gr(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function Wr(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new Br(t.providerId,t.pendingToken)}catch(t){}return null}function Xr(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&Mi(this,"idToken",e.idToken),e.accessToken&&Mi(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&Mi(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new Yi("internal-error","failed to construct a credential");Mi(this,"accessToken",e.oauthToken),Mi(this,"secret",e.oauthTokenSecret)}Mi(this,"providerId",t),Mi(this,"signInMethod",n)}function Jr(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:Cn(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function Yr(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new Xr(t.providerId,e,t.signInMethod)}catch(t){}}return null}function zr(t,e){this.Fc=e||[],ji(this,{providerId:t,isOAuthProvider:!0}),this.zb={},this.cb=(Rr(t)||{}).Oa||null,this.ab=null}function $r(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new Yi("argument-error",'SAML provider IDs must be prefixed with "saml."');zr.call(this,t,[])}function Zr(t){zr.call(this,t,_r),this.a=[]}function Qr(){Zr.call(this,"facebook.com")}function to(t){if(!t)throw new Yi("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return g(t)&&(e=t.accessToken),(new Qr).credential({accessToken:e})}function eo(){Zr.call(this,"github.com")}function no(t){if(!t)throw new Yi("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return g(t)&&(e=t.accessToken),(new eo).credential({accessToken:e})}function io(){Zr.call(this,"google.com"),this.wa("profile")}function ro(t,e){var n=t;return g(t)&&(n=t.idToken,e=t.accessToken),(new io).credential({idToken:n,accessToken:e})}function oo(){zr.call(this,"twitter.com",Or)}function ao(t,e){var n=t;if(g(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new Yi("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new Xr("twitter.com",n,"twitter.com")}function so(t,e,n){this.a=t,this.c=e,Mi(this,"providerId","password"),Mi(this,"signInMethod",n===co.EMAIL_LINK_SIGN_IN_METHOD?co.EMAIL_LINK_SIGN_IN_METHOD:co.EMAIL_PASSWORD_SIGN_IN_METHOD)}function uo(t){return t&&t.email&&t.password?new so(t.email,t.password,t.signInMethod):null}function co(){ji(this,{providerId:"password",isOAuthProvider:!1})}function ho(t,e){if(!(e=lo(e)))throw new Yi("argument-error","Invalid email link!");return new so(t,e.code,co.EMAIL_LINK_SIGN_IN_METHOD)}function lo(t){return(t=sr(t=Kr(t)))&&t.operation===Ki?t:null}function fo(t){if(!(t.Ua&&t.Ta||t.Fa&&t.ba))throw new Yi("internal-error");this.a=t,Mi(this,"providerId","phone"),Mi(this,"signInMethod","phone")}function po(e){if(e&&"phone"===e.providerId&&(e.verificationId&&e.verificationCode||e.temporaryProof&&e.phoneNumber)){var n={};return M(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(t){e[t]&&(n[t]=e[t])}),new fo(n)}return null}function vo(t){return t.a.Fa&&t.a.ba?{temporaryProof:t.a.Fa,phoneNumber:t.a.ba}:{sessionInfo:t.a.Ua,code:t.a.Ta}}function mo(t){try{this.a=t||fl.auth()}catch(t){throw new Yi("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}ji(this,{providerId:"phone",isOAuthProvider:!1})}function go(t,e){if(!t)throw new Yi("missing-verification-id");if(!e)throw new Yi("missing-verification-code");return new fo({Ua:t,Ta:e})}function bo(t){if(t.temporaryProof&&t.phoneNumber)return new fo({Fa:t.temporaryProof,ba:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,i=t&&t.oauthTokenSecret,r=t&&t.nonce,o=t&&t.oauthIdToken,a=t&&t.pendingToken;try{switch(e){case"google.com":return ro(o,n);case"facebook.com":return to(n);case"github.com":return no(n);case"twitter.com":return ao(n,i);default:return n||i||o||a?a?0==e.indexOf("saml.")?new Br(e,a):new Xr(e,{pendingToken:a,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new Zr(e).credential({idToken:o,accessToken:n,rawNonce:r}):null}}catch(t){return null}}function yo(t){if(!t.isOAuthProvider)throw new Yi("invalid-oauth-provider")}function wo(t,e,n,i,r,o,a){if(this.c=t,this.b=e||null,this.g=n||null,this.f=i||null,this.i=o||null,this.h=a||null,this.a=r||null,!this.g&&!this.a)throw new Yi("invalid-auth-event");if(this.g&&this.a)throw new Yi("invalid-auth-event");if(this.g&&!this.f)throw new Yi("invalid-auth-event")}function Io(t){return(t=t||{}).type?new wo(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&zi(t.error),t.postBody,t.tenantId):null}function To(){this.b=null,this.a=[]}k(Mr,xr),k(jr,Mr),k(Ur,Mr),k(Vr,Mr),k(Fr,Mr),Br.prototype.na=function(t){return za(t,Gr(this))},Br.prototype.b=function(t,e){var n=Gr(this);return n.idToken=e,$a(t,n)},Br.prototype.f=function(t,e){return Hr(Za(t,Gr(this)),e)},Br.prototype.A=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},Xr.prototype.na=function(t){return za(t,Jr(this))},Xr.prototype.b=function(t,e){var n=Jr(this);return n.idToken=e,$a(t,n)},Xr.prototype.f=function(t,e){return Hr(Za(t,Jr(this)),e)},Xr.prototype.A=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},zr.prototype.Ea=function(t){return this.zb=W(t),this},k($r,zr),k(Zr,zr),Zr.prototype.wa=function(t){return V(this.a,t)||this.a.push(t),this},Zr.prototype.Hb=function(){return H(this.a)},Zr.prototype.credential=function(t,e){var n;if(!(n=g(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new Yi("argument-error","credential failed: must provide the ID token and/or the access token.");return new Xr(this.providerId,n,this.providerId)},k(Qr,Zr),Mi(Qr,"PROVIDER_ID","facebook.com"),Mi(Qr,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),k(eo,Zr),Mi(eo,"PROVIDER_ID","github.com"),Mi(eo,"GITHUB_SIGN_IN_METHOD","github.com"),k(io,Zr),Mi(io,"PROVIDER_ID","google.com"),Mi(io,"GOOGLE_SIGN_IN_METHOD","google.com"),k(oo,zr),Mi(oo,"PROVIDER_ID","twitter.com"),Mi(oo,"TWITTER_SIGN_IN_METHOD","twitter.com"),so.prototype.na=function(t){return this.signInMethod==co.EMAIL_LINK_SIGN_IN_METHOD?Ns(t,as,{email:this.a,oobCode:this.c}):Ns(t,Es,{email:this.a,password:this.c})},so.prototype.b=function(t,e){return this.signInMethod==co.EMAIL_LINK_SIGN_IN_METHOD?Ns(t,ss,{idToken:e,email:this.a,oobCode:this.c}):Ns(t,gs,{idToken:e,email:this.a,password:this.c})},so.prototype.f=function(t,e){return Hr(this.na(t),e)},so.prototype.A=function(){return{email:this.a,password:this.c,signInMethod:this.signInMethod}},ji(co,{PROVIDER_ID:"password"}),ji(co,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),ji(co,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),fo.prototype.na=function(t){return t.Va(vo(this))},fo.prototype.b=function(t,e){var n=vo(this);return n.idToken=e,Ns(t,As,n)},fo.prototype.f=function(t,e){var n=vo(this);return n.operation="REAUTH",Hr(t=Ns(t,Ss,n),e)},fo.prototype.A=function(){var t={providerId:"phone"};return this.a.Ua&&(t.verificationId=this.a.Ua),this.a.Ta&&(t.verificationCode=this.a.Ta),this.a.Fa&&(t.temporaryProof=this.a.Fa),this.a.ba&&(t.phoneNumber=this.a.ba),t},mo.prototype.Va=function(e,n){var i=this.a.b;return Yt(n.verify()).then(function(t){if(!h(t))throw new Yi("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(n.type){case"recaptcha":return function(t,e){return Ns(t,vs,e)}(i,{phoneNumber:e,recaptchaToken:t}).then(function(t){return"function"==typeof n.reset&&n.reset(),t},function(t){throw"function"==typeof n.reset&&n.reset(),t});default:throw new Yi("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})},ji(mo,{PROVIDER_ID:"phone"}),ji(mo,{PHONE_SIGN_IN_METHOD:"phone"}),wo.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},wo.prototype.R=function(){return this.h},wo.prototype.A=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.A()}};var Eo,ko=null;function Ao(t){var e="unauthorized-domain",n=void 0,i=In(t);t=i.b,"chrome-extension"==(i=i.f)?n=Lt("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==i||"https"==i?n=Lt("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",Yi.call(this,e,n)}function So(t,e,n){Yi.call(this,t,n),(t=e||{}).Ab&&Mi(this,"email",t.Ab),t.ba&&Mi(this,"phoneNumber",t.ba),t.credential&&Mi(this,"credential",t.credential),t.Qb&&Mi(this,"tenantId",t.Qb)}function No(t){if(t.code){var e=t.code||"";0==e.indexOf($i)&&(e=e.substring($i.length));var n={credential:bo(t),Qb:t.tenantId};if(t.email)n.Ab=t.email;else if(t.phoneNumber)n.ba=t.phoneNumber;else if(!n.credential)return new Yi(e,t.message||void 0);return new So(e,n,t.message)}return null}function Oo(){}function _o(t){return t.c||(t.c=t.b())}function Po(){}function Ro(t){if(t.f||"undefined"!=typeof XMLHttpRequest||"undefined"==typeof ActiveXObject)return t.f;for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var i=e[n];try{return new ActiveXObject(i),t.f=i}catch(t){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}function Do(){}function Co(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=I(this.fc,this),this.a.onerror=I(this.Ib,this),this.a.onprogress=I(this.gc,this),this.a.ontimeout=I(this.kc,this)}function Lo(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function xo(t,e,n){this.reset(t,e,n,void 0,void 0)}function Mo(t){this.f=t,this.b=this.c=this.a=null}function jo(t,e){this.name=t,this.value=e}k(Ao,Yi),k(So,Yi),So.prototype.A=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.A();return e&&J(t,e),t},So.prototype.toJSON=function(){return this.A()},Oo.prototype.c=null,k(Po,Oo),Po.prototype.a=function(){var t=Ro(this);return t?new ActiveXObject(t):new XMLHttpRequest},Po.prototype.b=function(){var t={};return Ro(this)&&(t[0]=!0,t[1]=!0),t},Eo=new Po,k(Do,Oo),Do.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new Co;throw Error("Unsupported browser")},Do.prototype.b=function(){return{}},(t=Co.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.fc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Lo(this,4)},t.Ib=function(){this.status=500,this.response=this.responseText="",Lo(this,4)},t.kc=function(){this.Ib()},t.gc=function(){this.status=200,Lo(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},xo.prototype.a=null,xo.prototype.reset=function(t,e,n,i,r){delete this.a},jo.prototype.toString=function(){return this.name};var Uo=new jo("SEVERE",1e3),Vo=new jo("WARNING",900),Fo=new jo("CONFIG",700),Ko=new jo("FINE",500);Mo.prototype.log=function(t,e,n){if(t.value>=function t(e){return e.c?e.c:e.a?t(e.a):(O("Root logger has no level set."),null)}(this).value)for(m(e)&&(e=e()),t=new xo(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var qo,Ho={},Bo=null;function Go(t){var e;if(Bo||(Bo=new Mo(""),(Ho[""]=Bo).c=Fo),!(e=Ho[t])){e=new Mo(t);var n=t.lastIndexOf("."),i=t.substr(n+1);(n=Go(t.substr(0,n))).b||(n.b={}),(n.b[i]=e).a=n,Ho[t]=e}return e}function Wo(t,e){t&&t.log(Ko,e,void 0)}function Xo(t){this.f=t}function Jo(t){nn.call(this),this.o=t,this.readyState=Yo,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.i=new Headers,this.b=null,this.m="GET",this.g="",this.a=!1,this.h=Go("goog.net.FetchXmlHttp"),this.l=this.c=this.f=null}k(Xo,Oo),Xo.prototype.a=function(){return new Jo(this.f)},Xo.prototype.b=(qo={},function(){return qo}),k(Jo,nn);var Yo=0;function zo(t){t.c.read().then(t.ec.bind(t)).catch(t.Ma.bind(t))}function $o(t,e){e&&t.f&&(t.status=t.f.status,t.statusText=t.f.statusText),t.readyState=4,t.f=null,t.c=null,t.l=null,Zo(t)}function Zo(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function Qo(t){nn.call(this),this.headers=new ln,this.B=t||null,this.c=!1,this.w=this.a=null,this.h=this.O=this.l="",this.f=this.J=this.i=this.I=!1,this.g=0,this.o=null,this.m=ta,this.v=this.P=!1}(t=Jo.prototype).open=function(t,e){if(this.readyState!=Yo)throw this.abort(),Error("Error reopening a connection");this.m=t,this.g=e,this.readyState=1,Zo(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.i,method:this.m,credentials:void 0,cache:void 0};t&&(e.body=t),this.o.fetch(new Request(this.g,e)).then(this.jc.bind(this),this.Ma.bind(this))},t.abort=function(){this.response=this.responseText="",this.i=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,$o(this,!1)),this.readyState=Yo},t.jc=function(t){this.a&&(this.f=t,this.b||(this.b=t.headers,this.readyState=2,Zo(this)),this.a&&(this.readyState=3,Zo(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.hc.bind(this),this.Ma.bind(this)):void 0!==l.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.l=new TextDecoder,zo(this)):t.text().then(this.ic.bind(this),this.Ma.bind(this)))))},t.ec=function(t){if(this.a){var e=this.l.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?$o(this,!0):Zo(this),3==this.readyState&&zo(this)}},t.ic=function(t){this.a&&(this.response=this.responseText=t,$o(this,!0))},t.hc=function(t){this.a&&(this.response=t,$o(this,!0))},t.Ma=function(t){var e=this.h;e&&e.log(Vo,"Failed to fetch url "+this.g,t instanceof Error?t:Error(t)),this.a&&$o(this,!0)},t.setRequestHeader=function(t,e){this.i.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.h)&&t.log(Vo,"Attempting to get response header but no headers have been received for url: "+this.g,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.h;return t&&t.log(Vo,"Attempting to get all response headers but no headers have been received for url: "+this.g,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},k(Qo,nn);var ta="";Qo.prototype.b=Go("goog.net.XhrIo");var ea=/^https?$/i,na=["POST","PUT"];function ia(e,t,n,i,r){if(e.a)throw Error("[goog.net.XhrIo] Object is active with another request="+e.l+"; newUri="+t);n=n?n.toUpperCase():"GET",e.l=t,e.h="",e.O=n,e.I=!1,e.c=!0,e.a=e.B?e.B.a():Eo.a(),e.w=e.B?_o(e.B):_o(Eo),e.a.onreadystatechange=I(e.Lb,e);try{Wo(e.b,fa(e,"Opening Xhr")),e.J=!0,e.a.open(n,String(t),!0),e.J=!1}catch(t){return Wo(e.b,fa(e,"Error opening Xhr: "+t.message)),void oa(e,t)}t=i||"";var o=new ln(e.headers);r&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(v(t)||h(t))M(t,e,void 0);else for(var n=hn(t),i=cn(t),r=i.length,o=0;o<r;o++)e.call(void 0,i[o],n&&n[o],t)}(r,function(t,e){o.set(e,t)}),r=function(t){t:{for(var e=ra,n=t.length,i=h(t)?t.split(""):t,r=0;r<n;r++)if(r in i&&e.call(void 0,i[r],r,t)){e=r;break t}e=-1}return e<0?null:h(t)?t.charAt(e):t[e]}(o.X()),i=l.FormData&&t instanceof l.FormData,!V(na,n)||r||i||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(t,e){this.a.setRequestHeader(e,t)},e),e.m&&(e.a.responseType=e.m),"withCredentials"in e.a&&e.a.withCredentials!==e.P&&(e.a.withCredentials=e.P);try{ca(e),0<e.g&&(e.v=function(t){return me&&Ne(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(e.a),Wo(e.b,fa(e,"Will abort after "+e.g+"ms if incomplete, xhr2 "+e.v)),e.v?(e.a.timeout=e.g,e.a.ontimeout=I(e.Ga,e)):e.o=sn(e.Ga,e.g,e)),Wo(e.b,fa(e,"Sending request")),e.i=!0,e.a.send(t),e.i=!1}catch(t){Wo(e.b,fa(e,"Send error: "+t.message)),oa(e,t)}}function ra(t){return"content-type"==t.toLowerCase()}function oa(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,aa(t),ua(t)}function aa(t){t.I||(t.I=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function sa(e){if(e.c&&void 0!==u)if(e.w[1]&&4==ha(e)&&2==la(e))Wo(e.b,fa(e,"Local request error detected and ignored"));else if(e.i&&4==ha(e))sn(e.Lb,0,e);else if(e.dispatchEvent("readystatechange"),4==ha(e)){Wo(e.b,fa(e,"Request complete")),e.c=!1;try{var t,n=la(e);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var i=!0;break t;default:i=!1}if(!(t=i)){var r;if(r=0===n){var o=String(e.l).match(pn)[1]||null;if(!o&&l.self&&l.self.location){var a=l.self.location.protocol;o=a.substr(0,a.length-1)}r=!ea.test(o?o.toLowerCase():"")}t=r}if(t)e.dispatchEvent("complete"),e.dispatchEvent("success");else{try{var s=2<ha(e)?e.a.statusText:""}catch(t){Wo(e.b,"Can not get status: "+t.message),s=""}e.h=s+" ["+la(e)+"]",aa(e)}}finally{ua(e)}}}function ua(e,t){if(e.a){ca(e);var n=e.a,i=e.w[0]?d:null;e.a=null,e.w=null,t||e.dispatchEvent("ready");try{n.onreadystatechange=i}catch(t){(e=e.b)&&e.log(Uo,"Problem encountered resetting onreadystatechange: "+t.message,void 0)}}}function ca(t){t.a&&t.v&&(t.a.ontimeout=null),t.o&&(l.clearTimeout(t.o),t.o=null)}function ha(t){return t.a?t.a.readyState:0}function la(t){try{return 2<ha(t)?t.a.status:-1}catch(t){return-1}}function fa(t,e){return e+" ["+t.O+" "+t.l+" "+la(t)+"]"}function da(t){var e=ka;this.g=[],this.v=e,this.o=t||null,this.f=this.a=!1,this.c=void 0,this.u=this.w=this.i=!1,this.h=0,this.b=null,this.l=0}function pa(t,e,n){t.a=!0,t.c=n,t.f=!e,ba(t)}function va(t){if(t.a){if(!t.u)throw new ya(t);t.u=!1}}function ma(t,e,n,i){t.g.push([e,n,i]),t.a&&ba(t)}function ga(t){return U(t.g,function(t){return m(t[1])})}function ba(e){if(e.h&&e.a&&ga(e)){var n=e.h,i=Ta[n];i&&(l.clearTimeout(i.a),delete Ta[n]),e.h=0}e.b&&(e.b.l--,delete e.b),n=e.c;for(var t=i=!1;e.g.length&&!e.i;){var r=e.g.shift(),o=r[0],a=r[1];if(r=r[2],o=e.f?a:o)try{var s=o.call(r||e.o,n);void 0!==s&&(e.f=e.f&&(s==n||s instanceof Error),e.c=n=s),(A(n)||"function"==typeof l.Promise&&n instanceof l.Promise)&&(t=!0,e.i=!0)}catch(t){n=t,e.f=!0,ga(e)||(i=!0)}}e.c=n,t&&(s=I(e.m,e,!0),t=I(e.m,e,!1),n instanceof da?(ma(n,s,t),n.w=!0):n.then(s,t)),i&&(n=new Ia(n),Ta[n.a]=n,e.h=n.a)}function ya(){S.call(this)}function wa(){S.call(this)}function Ia(t){this.a=l.setTimeout(I(this.c,this),0),this.b=t}(t=Qo.prototype).Ga=function(){void 0!==u&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",Wo(this.b,fa(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(Wo(this.b,fa(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),ua(this))},t.xa=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),ua(this,!0)),Qo.qb.xa.call(this)},t.Lb=function(){this.ta||(this.J||this.i||this.f?sa(this):this.yc())},t.yc=function(){sa(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case ta:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(Uo,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(t){return Wo(this.b,"Can not get response: "+t.message),null}},da.prototype.cancel=function(t){if(this.a)this.c instanceof da&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,e.l<=0&&e.cancel())}this.v?this.v.call(this.o,this):this.u=!0,this.a||(t=new wa(this),va(this),pa(this,!1,t))}},da.prototype.m=function(t,e){this.i=!1,pa(this,t,e)},da.prototype.then=function(t,e,n){var i,r,o=new qt(function(t,e){i=t,r=e});return ma(this,i,function(t){t instanceof wa?o.cancel():r(t)}),o.then(t,e,n)},da.prototype.$goog_Thenable=!0,k(ya,S),ya.prototype.message="Deferred has already fired",ya.prototype.name="AlreadyCalledError",k(wa,S),wa.prototype.message="Deferred was canceled",wa.prototype.name="CanceledError",Ia.prototype.c=function(){throw delete Ta[this.a],this.b};var Ta={};function Ea(t){var e,n=document,i=et(t).toString(),r=document.createElement("SCRIPT"),o={Nb:r,Ga:void 0},a=new da(o);return e=window.setTimeout(function(){Aa(r,!0);var t=new Oa(Na,"Timeout reached for loading script "+i);va(a),pa(a,!1,t)},5e3),o.Ga=e,r.onload=r.onreadystatechange=function(){r.readyState&&"loaded"!=r.readyState&&"complete"!=r.readyState||(Aa(r,!1,e),va(a),pa(a,!0,null))},r.onerror=function(){Aa(r,!0,e);var t=new Oa(Sa,"Error while loading script "+i);va(a),pa(a,!1,t)},J(o={},{type:"text/javascript",charset:"UTF-8"}),Kn(r,o),function(t,e){L(t,"HTMLScriptElement"),t.src=et(e),null===f&&(f=(e=(e=l.document).querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&s.test(e)?e:""),(e=f)&&t.setAttribute("nonce",e)}(r,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(r),a}function ka(){if(this&&this.Nb){var t=this.Nb;t&&"SCRIPT"==t.tagName&&Aa(t,!0,this.Ga)}}function Aa(t,e,n){null!=n&&l.clearTimeout(n),t.onload=d,t.onerror=d,t.onreadystatechange=d,e&&window.setTimeout(function(){t&&t.parentNode&&t.parentNode.removeChild(t)},0)}var Sa=0,Na=1;function Oa(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),S.call(this,n),this.code=t}function _a(t){this.f=t}function Pa(t,e,n){if(this.c=t,t=e||{},this.l=t.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.u=t.secureTokenTimeout||Ca,this.g=W(t.secureTokenHeaders||La),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=t.firebaseTimeout||xa,this.a=W(t.firebaseHeaders||Ma),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==ui(),!(n=l.XMLHttpRequest||n&&fl.INTERNAL.node&&fl.INTERNAL.node.XMLHttpRequest)&&!si())throw new Yi("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,si()?this.f=new Xo(self):ci()?this.f=new _a(n):this.f=new Do,this.b=null}k(Oa,S),k(_a,Oo),_a.prototype.a=function(){return new this.f},_a.prototype.b=function(){return{}};var Ra,Da="idToken",Ca=new Oi(3e4,6e4),La={"Content-Type":"application/x-www-form-urlencoded"},xa=new Oi(3e4,6e4),Ma={"Content-Type":"application/json"};function ja(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function Ua(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function Va(t,e,n,i,r,o,a){(t=function(){var t=vi();return!((t=fi(t)!=li?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&t<30)&&(!me||!Ae||9<Ae)}()||si()?I(t.o,t):(Ra=Ra||new qt(function(t,e){!function(t,e){if(((window.gapi||{}).client||{}).request)t();else{l[Ka]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){ma(t,null,e,void 0)}(Ea(nt(Fa,{onload:Ka})),function(){e(Error("CORS_UNSUPPORTED"))})}}(t,e)}),I(t.m,t)))(e,n,i,r,o,a)}Pa.prototype.R=function(){return this.b},Pa.prototype.o=function(t,n,e,i,r,o){if(si()&&(void 0===l.fetch||void 0===l.Headers||void 0===l.Request))throw new Yi("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var a=new Qo(this.f);if(o){a.g=Math.max(0,o);var s=setTimeout(function(){a.dispatchEvent("timeout")},o)}rn(a,"complete",function(){s&&clearTimeout(s);var e=null;try{e=JSON.parse(function(e){try{return e.a?e.a.responseText:""}catch(t){return Wo(e.b,"Can not get responseText: "+t.message),""}}(this))||null}catch(t){e=null}n&&n(e)}),on(a,"ready",function(){s&&clearTimeout(s),le(this)}),on(a,"timeout",function(){s&&clearTimeout(s),le(this),n&&n(null)}),ia(a,t,e,i,r)};var Fa=new Y(Z,"https://apis.google.com/js/client.js?onload=%{onload}"),Ka="__fcb"+Math.floor(1e6*Math.random()).toString();function qa(t){if(!h(t=t.email)||!ii.test(t))throw new Yi("invalid-email")}function Ha(t){"email"in t&&qa(t)}function Ba(t){if(!t[Da])throw new Yi("internal-error")}function Ga(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new Yi("internal-error")}else{if(!t.sessionInfo)throw new Yi("missing-verification-id");if(!t.code)throw new Yi("missing-verification-code")}}Pa.prototype.m=function(t,n,i,r,o){var a=this;Ra.then(function(){window.gapi.client.setApiKey(a.c);var e=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:i,body:r,headers:o,authType:"none",callback:function(t){window.gapi.auth.setToken(e),n&&n(t)}})}).s(function(t){n&&n({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})})},Pa.prototype.ob=function(){return Ns(this,bs,{})},Pa.prototype.rb=function(t,e){return Ns(this,ms,{idToken:t,email:e})},Pa.prototype.sb=function(t,e){return Ns(this,gs,{idToken:t,password:e})};var Wa={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function Xa(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new Yi("internal-error")}function Ja(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&(xn(t=new Rn(t.postBody),"nonce")&&(e.nonce=t.get("nonce")))),e}function Ya(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=No(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=No(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=No(t)):t.errorMessage&&(e=Os(t.errorMessage)),e)throw e;if(!t[Da])throw new Yi("internal-error")}function za(t,e){return e.returnIdpCredential=!0,Ns(t,ys,e)}function $a(t,e){return e.returnIdpCredential=!0,Ns(t,Is,e)}function Za(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,Ns(t,ws,e)}function Qa(t){if(!t.oobCode)throw new Yi("invalid-action-code")}(t=Pa.prototype).tb=function(t,i){var r={idToken:t},o=[];return B(Wa,function(t,e){var n=i[e];null===n?o.push(t):e in i&&(r[e]=n)}),o.length&&(r.deleteAttribute=o),Ns(this,ms,r)},t.kb=function(t,e){return J(t={requestType:"PASSWORD_RESET",email:t},e),Ns(this,ls,t)},t.lb=function(t,e){return J(t={requestType:"EMAIL_SIGNIN",email:t},e),Ns(this,cs,t)},t.jb=function(t,e){return J(t={requestType:"VERIFY_EMAIL",idToken:t},e),Ns(this,hs,t)},t.Va=function(t){return Ns(this,ks,t)},t.$a=function(t,e){return Ns(this,ps,{oobCode:t,newPassword:e})},t.Ka=function(t){return Ns(this,es,{oobCode:t})},t.Xa=function(t){return Ns(this,ts,{oobCode:t})};var ts={endpoint:"setAccountInfo",D:Qa,fa:"email",F:!0},es={endpoint:"resetPassword",D:Qa,K:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e)throw new Yi("internal-error")},F:!0},ns={endpoint:"signupNewUser",D:function(t){if(qa(t),!t.password)throw new Yi("weak-password")},K:Ba,T:!0,F:!0},is={endpoint:"createAuthUri",F:!0},rs={endpoint:"deleteAccount",V:["idToken"]},os={endpoint:"setAccountInfo",V:["idToken","deleteProvider"],D:function(t){if(!p(t.deleteProvider))throw new Yi("internal-error")}},as={endpoint:"emailLinkSignin",V:["email","oobCode"],D:qa,K:Ba,T:!0,F:!0},ss={endpoint:"emailLinkSignin",V:["idToken","email","oobCode"],D:qa,K:Ba,T:!0},us={endpoint:"getAccountInfo"},cs={endpoint:"getOobConfirmationCode",V:["requestType"],D:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new Yi("internal-error");qa(t)},fa:"email",F:!0},hs={endpoint:"getOobConfirmationCode",V:["idToken","requestType"],D:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new Yi("internal-error")},fa:"email",F:!0},ls={endpoint:"getOobConfirmationCode",V:["requestType"],D:function(t){if("PASSWORD_RESET"!=t.requestType)throw new Yi("internal-error");qa(t)},fa:"email",F:!0},fs={wb:!0,endpoint:"getProjectConfig",Kb:"GET"},ds={wb:!0,endpoint:"getRecaptchaParam",Kb:"GET",K:function(t){if(!t.recaptchaSiteKey)throw new Yi("internal-error")}},ps={endpoint:"resetPassword",D:Qa,fa:"email",F:!0},vs={endpoint:"sendVerificationCode",V:["phoneNumber","recaptchaToken"],fa:"sessionInfo",F:!0},ms={endpoint:"setAccountInfo",V:["idToken"],D:Ha,T:!0},gs={endpoint:"setAccountInfo",V:["idToken"],D:function(t){if(Ha(t),!t.password)throw new Yi("weak-password")},K:Ba,T:!0},bs={endpoint:"signupNewUser",K:Ba,T:!0,F:!0},ys={endpoint:"verifyAssertion",D:Xa,Qa:Ja,K:Ya,T:!0,F:!0},ws={endpoint:"verifyAssertion",D:Xa,Qa:Ja,K:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new Yi("user-not-found");if(t.errorMessage)throw Os(t.errorMessage);if(!t[Da])throw new Yi("internal-error")},T:!0,F:!0},Is={endpoint:"verifyAssertion",D:function(t){if(Xa(t),!t.idToken)throw new Yi("internal-error")},Qa:Ja,K:Ya,T:!0},Ts={endpoint:"verifyCustomToken",D:function(t){if(!t.token)throw new Yi("invalid-custom-token")},K:Ba,T:!0,F:!0},Es={endpoint:"verifyPassword",D:function(t){if(qa(t),!t.password)throw new Yi("wrong-password")},K:Ba,T:!0,F:!0},ks={endpoint:"verifyPhoneNumber",D:Ga,K:Ba,F:!0},As={endpoint:"verifyPhoneNumber",D:function(t){if(!t.idToken)throw new Yi("internal-error");Ga(t)},K:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",No(t);Ba(t)}},Ss={Yb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",D:Ga,K:Ba,F:!0};function Ns(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var i=t[e[n]];if(null==i||""===i)return!1}return!0}(n,e.V))return zt(new Yi("internal-error"));var i,r=e.Kb||"POST";return Yt(n).then(e.D).then(function(){return e.T&&(n.returnSecureToken=!0),e.F&&t.b&&void 0===n.tenantId&&(n.tenantId=t.b),function(t,e,i,r,o,n){var a=In(t.h+e);yn(a,"key",t.c),n&&yn(a,"cb",E().toString());var s="GET"==i;if(s)for(var u in r)r.hasOwnProperty(u)&&yn(a,u,r[u]);return new qt(function(e,n){Va(t,a.toString(),function(t){t?t.error?n(_s(t,o||{})):e(t):n(new Yi("network-request-failed"))},i,s?void 0:Gn(Ei(r)),t.a,t.i.get())})}(t,e.endpoint,r,n,e.Yb,e.wb||!1)}).then(function(t){return i=t,e.Qa?e.Qa(n,i):i}).then(e.K).then(function(){if(!e.fa)return i;if(!(e.fa in i))throw new Yi("internal-error");return i[e.fa]})}function Os(t){return _s({error:{errors:[{message:t}],code:400,message:t}})}function _s(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",i={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=i[n]?new Yi(i[n]):null)return n;for(var r in n=t.error&&t.error.message||"",J(i={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*(.*)$/))&&1<e.length?e[1]:void 0,i)if(0===n.indexOf(r))return new Yi(i[r],e);return!e&&t&&(e=Ti(t)),new Yi("internal-error",e)}function Ps(t){this.b=t,this.a=null,this.fb=function(o){return(Ls=Ls||new qt(function(t,e){function n(){Ni(),mi("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){Ni(),e(Error("Network Error"))},timeout:Ds.get()})}if(mi("gapi.iframes.Iframe"))t();else if(mi("gapi.load"))n();else{var i="__iframefcb"+Math.floor(1e6*Math.random()).toString();l[i]=function(){mi("gapi.load")?n():e(Error("Network Error"))},Yt(Ea(i=nt(Rs,{onload:i}))).s(function(){e(Error("Network Error"))})}}).s(function(t){throw Ls=null,t})).then(function(){return new qt(function(i,r){mi("gapi.iframes.getContext")().open({where:document.body,url:o.b,messageHandlersFilter:mi("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(t){function e(){clearTimeout(n),i()}o.a=t,o.a.restyle({setHideOnLeave:!1});var n=setTimeout(function(){r(Error("Network Error"))},Cs.get());t.ping(e).then(e,function(){r(Error("Network Error"))})})})})}(this)}var Rs=new Y(Z,"https://apis.google.com/js/api.js?onload=%{onload}"),Ds=new Oi(3e4,6e4),Cs=new Oi(5e3,15e3),Ls=null;function xs(t,e,n){this.i=t,this.g=e,this.h=n,this.f=null,this.a=Tn(this.i,"/__/auth/iframe"),yn(this.a,"apiKey",this.g),yn(this.a,"appName",this.h),this.b=null,this.c=[]}function Ms(t,e,n,i,r){this.o=t,this.m=e,this.c=n,this.u=i,this.i=this.g=this.l=null,this.a=r,this.h=this.f=null}function js(t){try{return fl.app(t).auth().Aa()}catch(t){return[]}}function Us(t,e,n,i,r){this.u=t,this.f=e,this.b=n,this.c=i||null,this.h=r||null,this.m=this.o=this.v=null,this.g=[],this.l=this.a=null}function Vs(t){var s=$n();return function(t){return Ns(t,fs,{}).then(function(t){return t.authorizedDomains||[]})}(t).then(function(t){t:{var e=In(s),n=e.f;e=e.b;for(var i=0;i<t.length;i++){var r=t[i],o=e,a=n;if(o=0==r.indexOf("chrome-extension://")?In(r).b==o&&"chrome-extension"==a:("http"==a||"https"==a)&&(ni.test(r)?o==r:(r=r.split(".").join("\\."),new RegExp("^(.+\\."+r+"|"+r+")$","i").test(o)))){t=!0;break t}}t=!1}if(!t)throw new Ao($n())})}function Fs(r){return r.l||(r.l=ri().then(function(){if(!r.o){var t=r.c,e=r.h,n=js(r.b),i=new xs(r.u,r.f,r.b);i.f=t,i.b=e,i.c=H(n||[]),r.o=i.toString()}r.i=new Ps(r.o),function(i){if(!i.i)throw Error("IfcHandler must be initialized!");!function(t,e){t.fb.then(function(){t.a.register("authEvent",e,mi("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}(i.i,function(t){var e={};if(t&&t.authEvent){var n=!1;for(t=Io(t.authEvent),e=0;e<i.g.length;e++)n=i.g[e](t)||n;return(e={}).status=n?"ACK":"ERROR",Yt(e)}return e.status="ERROR",Yt(e)})}(r)})),r.l}function Ks(t){return t.m||(t.v=t.c?pi(t.c,js(t.b)):null,t.m=new Pa(t.f,Nr(t.h),t.v)),t.m}function qs(t,e,n,i,r,o,a,s,u,c,h){return(t=new Ms(t,e,n,i,r)).l=o,t.g=a,t.i=s,t.b=W(u||null),t.f=c,t.nb(h).toString()}function Hs(t){if(this.a=t||fl.INTERNAL.reactNative&&fl.INTERNAL.reactNative.AsyncStorage,!this.a)throw new Yi("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function Bs(t){this.b=t,this.a={},this.f=I(this.c,this)}xs.prototype.toString=function(){return this.f?yn(this.a,"v",this.f):Ln(this.a.a,"v"),this.b?yn(this.a,"eid",this.b):Ln(this.a.a,"eid"),this.c.length?yn(this.a,"fw",this.c.join(",")):Ln(this.a.a,"fw"),this.a.toString()},Ms.prototype.nb=function(t){return this.h=t,this},Ms.prototype.toString=function(){var t=Tn(this.o,"/__/auth/handler");if(yn(t,"apiKey",this.m),yn(t,"appName",this.c),yn(t,"authType",this.u),this.a.isOAuthProvider){var e=this.a;try{var n=fl.app(this.c).auth().ha()}catch(t){n=null}for(var i in e.ab=n,yn(t,"providerId",this.a.providerId),n=Ei((e=this.a).zb))n[i]=n[i].toString();i=e.Fc,n=W(n);for(var r=0;r<i.length;r++){var o=i[r];o in n&&delete n[o]}e.cb&&e.ab&&!n[e.cb]&&(n[e.cb]=e.ab),G(n)||yn(t,"customParameters",Ti(n))}if("function"==typeof this.a.Hb&&((e=this.a.Hb()).length&&yn(t,"scopes",e.join(","))),this.l?yn(t,"redirectUrl",this.l):Ln(t.a,"redirectUrl"),this.g?yn(t,"eventId",this.g):Ln(t.a,"eventId"),this.i?yn(t,"v",this.i):Ln(t.a,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!wn(t,a)&&yn(t,a,this.b[a]);return this.h?yn(t,"tid",this.h):Ln(t.a,"tid"),this.f?yn(t,"eid",this.f):Ln(t.a,"eid"),(a=js(this.c)).length&&yn(t,"fw",a.join(",")),t.toString()},(t=Us.prototype).Fb=function(e,n,t){var i=new Yi("popup-closed-by-user"),r=new Yi("web-storage-unsupported"),o=this,a=!1;return this.ia().then(function(){(function(t){var e={type:"webStorageSupport"};return Fs(t).then(function(){return function(e,n){return e.fb.then(function(){return new qt(function(t){e.a.send(n.type,n,t,mi("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}(t.i,e)}).then(function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()})})(o).then(function(t){t||(e&&ti(e),n(r),a=!0)})}).s(function(){}).then(function(){if(!a)return function(n){return new qt(function(e){return function t(){un(2e3).then(function(){if(n&&!n.closed)return t();e()})}()})}(e)}).then(function(){if(!a)return un(t).then(function(){n(i)})})},t.Ob=function(){var t=vi();return!Ii(t)&&!Si(t)},t.Jb=function(){return!1},t.Db=function(e,t,n,i,r,o,a,s){if(!e)return zt(new Yi("popup-blocked"));if(a&&!Ii())return this.ia().s(function(t){ti(e),r(t)}),i(),Yt();this.a||(this.a=Vs(Ks(this)));var u=this;return this.a.then(function(){var t=u.ia().s(function(t){throw ti(e),r(t),t});return i(),t}).then(function(){yo(n),a||Zn(qs(u.u,u.f,u.b,t,n,null,o,u.c,void 0,u.h,s),e)}).s(function(t){throw"auth/network-request-failed"==t.code&&(u.a=null),t})},t.Eb=function(t,e,n,i){this.a||(this.a=Vs(Ks(this)));var r=this;return this.a.then(function(){yo(e),Zn(qs(r.u,r.f,r.b,t,e,$n(),n,r.c,void 0,r.h,i))}).s(function(t){throw"auth/network-request-failed"==t.code&&(r.a=null),t})},t.ia=function(){var t=this;return Fs(this).then(function(){return t.i.fb}).s(function(){throw t.a=null,new Yi("network-request-failed")})},t.Rb=function(){return!0},t.ya=function(t){this.g.push(t)},t.La=function(e){K(this.g,function(t){return t==e})},(t=Hs.prototype).get=function(t){return Yt(this.a.getItem(t)).then(function(t){return t&&ki(t)})},t.set=function(t,e){return Yt(this.a.setItem(t,Ti(e)))},t.S=function(t){return Yt(this.a.removeItem(t))},t.$=function(){},t.ea=function(){};var Gs,Ws=[];function Xs(t,e,n){G(t.a)&&t.b.addEventListener("message",t.f),void 0===t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function Js(t){this.a=t}function Ys(t){this.c=t,this.b=!1,this.a=[]}function zs(i,t,e,n){var r,o,a,s,u=e||{},c=null;if(i.b)return zt(Error("connection_unavailable"));var h=n?800:50,l="undefined"!=typeof MessageChannel?new MessageChannel:null;return new qt(function(e,n){l?(r=Math.floor(Math.random()*Math.pow(10,20)).toString(),l.port1.start(),a=setTimeout(function(){n(Error("unsupported_event"))},h),c={messageChannel:l,onMessage:o=function(t){t.data.eventId===r&&("ack"===t.data.status?(clearTimeout(a),s=setTimeout(function(){n(Error("timeout"))},3e3)):"done"===t.data.status?(clearTimeout(s),void 0!==t.data.response?e(t.data.response):n(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),n(Error("invalid_response"))))}},i.a.push(c),l.port1.addEventListener("message",o),i.c.postMessage({eventType:t,eventId:r,data:u},[l.port2])):n(Error("connection_unavailable"))}).then(function(t){return $s(i,c),t}).s(function(t){throw $s(i,c),t})}function $s(t,e){if(e){var n=e.messageChannel,i=e.onMessage;n&&(n.port1.removeEventListener("message",i),n.port1.close()),K(t.a,function(t){return t==e})}}function Zs(){if(!eu())throw new Yi("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.u=l.indexedDB,this.type="indexedDB",this.g=this.l=this.f=this.i=null,this.o=!1,this.h=null;var i=this;si()&&self?(this.l=function(){var e=si()?self:null;if(M(Ws,function(t){t.b==e&&(n=t)}),!n){var n=new Bs(e);Ws.push(n)}return n}(),Xs(this.l,"keyChanged",function(t,n){return au(i).then(function(e){return 0<e.length&&M(i.a,function(t){t(e)}),{keyProcessed:V(e,n.key)}})}),Xs(this.l,"ping",function(){return Yt(["keyChanged"])})):function(){var t=l.navigator;return t&&t.serviceWorker?Yt().then(function(){return t.serviceWorker.ready}).then(function(t){return t.active||null}).s(function(){return null}):Yt(null)}().then(function(t){(i.h=t)&&(i.g=new Ys(new Js(t)),zs(i.g,"ping",null,!0).then(function(t){t[0].fulfilled&&V(t[0].value,"keyChanged")&&(i.o=!0)}).s(function(){}))})}function Qs(i){return new qt(function(e,n){var t=i.u.open("firebaseLocalStorageDb",1);t.onerror=function(t){try{t.preventDefault()}catch(t){}n(Error(t.target.error))},t.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(t){n(t)}},t.onsuccess=function(t){(t=t.target.result).objectStoreNames.contains("firebaseLocalStorage")?e(t):function(i){return new qt(function(t,e){var n=i.u.deleteDatabase("firebaseLocalStorageDb");n.onsuccess=function(){t()},n.onerror=function(t){e(Error(t.target.error))}})}(i).then(function(){return Qs(i)}).then(function(t){e(t)}).s(function(t){n(t)})}})}function tu(t){return t.m||(t.m=Qs(t)),t.m}function eu(){try{return!!l.indexedDB}catch(t){return!1}}function nu(t){return t.objectStore("firebaseLocalStorage")}function iu(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function ru(t){return new qt(function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}})}function ou(t,e){return t.g&&t.h&&function(){var t=l.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?zs(t.g,"keyChanged",{key:e},t.o).then(function(){}).s(function(){}):Yt()}function au(i){return tu(i).then(function(t){var r=nu(iu(t,!1));return r.getAll?ru(r.getAll()):new qt(function(e,n){var i=[],t=r.openCursor();t.onsuccess=function(t){(t=t.target.result)?(i.push(t.value),t.continue()):e(i)},t.onerror=function(t){n(t.target.error)}})}).then(function(t){var e={},n=[];if(0==i.b){for(n=0;n<t.length;n++)e[t[n].fbase_key]=t[n].value;n=function t(e,n){var i,r=[];for(i in e)i in n?typeof e[i]!=typeof n[i]?r.push(i):"object"==typeof e[i]&&null!=e[i]&&null!=n[i]?0<t(e[i],n[i]).length&&r.push(i):e[i]!==n[i]&&r.push(i):r.push(i);for(i in n)i in e||r.push(i);return r}(i.c,e),i.c=e}return n})}function su(t){t.i&&t.i.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function uu(t){var i=this,r=null;this.a=[],this.type="indexedDB",this.c=t,this.b=Yt().then(function(){if(eu()){var e=Ai(),n="__sak"+e;return Gs=Gs||new Zs,(r=Gs).set(n,e).then(function(){return r.get(n)}).then(function(t){if(t!==e)throw Error("indexedDB not supported!");return r.S(n)}).then(function(){return r}).s(function(){return i.c})}return i.c}).then(function(t){return i.type=t.type,t.$(function(e){M(i.a,function(t){t(e)})}),t})}function cu(){this.a={},this.type="inMemory"}function hu(){if(!function(){var t="Node"==ui();if(!(t=lu()||t&&fl.INTERNAL.node&&fl.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==ui())throw new Yi("internal-error","The LocalStorage compatibility library was not found.");throw new Yi("web-storage-unsupported")}this.a=lu()||fl.INTERNAL.node.localStorage,this.type="localStorage"}function lu(){try{var t=l.localStorage,e=Ai();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function fu(){this.type="nullStorage"}function du(){if(!function(){var t="Node"==ui();if(!(t=pu()||t&&fl.INTERNAL.node&&fl.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==ui())throw new Yi("internal-error","The SessionStorage compatibility library was not found.");throw new Yi("web-storage-unsupported")}this.a=pu()||fl.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function pu(){try{var t=l.sessionStorage,e=Ai();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function vu(){var t={};t.Browser=bu,t.Node=yu,t.ReactNative=wu,t.Worker=Iu,this.a=t[ui()]}Bs.prototype.c=function(n){var i=n.data.eventType,r=n.data.eventId,t=this.a[i];if(t&&0<t.length){n.ports[0].postMessage({status:"ack",eventId:r,eventType:i,response:null});var e=[];M(t,function(t){e.push(Yt().then(function(){return t(n.origin,n.data.data)}))}),Zt(e).then(function(t){var e=[];M(t,function(t){e.push({fulfilled:t.Gb,value:t.value,reason:t.reason?t.reason.message:void 0})}),M(e,function(t){for(var e in t)void 0===t[e]&&delete t[e]}),n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:e})})}},Js.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},Ys.prototype.close=function(){for(;0<this.a.length;)$s(this,this.a[0]);this.b=!0},(t=Zs.prototype).set=function(n,i){var r,o=!1,a=this;return tu(this).then(function(t){return ru((t=nu(iu(r=t,!0))).get(n))}).then(function(t){var e=nu(iu(r,!0));return t?(t.value=i,ru(e.put(t))):(a.b++,o=!0,(t={}).fbase_key=n,t.value=i,ru(e.add(t)))}).then(function(){return a.c[n]=i,ou(a,n)}).ka(function(){o&&a.b--})},t.get=function(e){return tu(this).then(function(t){return ru(nu(iu(t,!1)).get(e))}).then(function(t){return t&&t.value})},t.S=function(e){var n=!1,i=this;return tu(this).then(function(t){return n=!0,i.b++,ru(nu(iu(t,!0)).delete(e))}).then(function(){return delete i.c[e],ou(i,e)}).ka(function(){n&&i.b--})},t.$=function(t){0==this.a.length&&function(t){su(t),function e(){t.f=setTimeout(function(){t.i=au(t).then(function(e){0<e.length&&M(t.a,function(t){t(e)})}).then(function(){e()}).s(function(t){"STOP_EVENT"!=t.message&&e()})},800)}()}(this),this.a.push(t)},t.ea=function(e){K(this.a,function(t){return t==e}),0==this.a.length&&su(this)},(t=uu.prototype).get=function(e){return this.b.then(function(t){return t.get(e)})},t.set=function(e,n){return this.b.then(function(t){return t.set(e,n)})},t.S=function(e){return this.b.then(function(t){return t.S(e)})},t.$=function(t){this.a.push(t)},t.ea=function(e){K(this.a,function(t){return t==e})},(t=cu.prototype).get=function(t){return Yt(this.a[t])},t.set=function(t,e){return this.a[t]=e,Yt()},t.S=function(t){return delete this.a[t],Yt()},t.$=function(){},t.ea=function(){},(t=hu.prototype).get=function(t){var e=this;return Yt().then(function(){return ki(e.a.getItem(t))})},t.set=function(e,n){var i=this;return Yt().then(function(){var t=Ti(n);null===t?i.S(e):i.a.setItem(e,t)})},t.S=function(t){var e=this;return Yt().then(function(){e.a.removeItem(t)})},t.$=function(t){l.window&&Be(l.window,"storage",t)},t.ea=function(t){l.window&&Xe(l.window,"storage",t)},(t=fu.prototype).get=function(){return Yt(null)},t.set=function(){return Yt()},t.S=function(){return Yt()},t.$=function(){},t.ea=function(){},(t=du.prototype).get=function(t){var e=this;return Yt().then(function(){return ki(e.a.getItem(t))})},t.set=function(e,n){var i=this;return Yt().then(function(){var t=Ti(n);null===t?i.S(e):i.a.setItem(e,t)})},t.S=function(t){var e=this;return Yt().then(function(){e.a.removeItem(t)})},t.$=function(){},t.ea=function(){};var mu,gu,bu={C:hu,Sa:du},yu={C:hu,Sa:du},wu={C:Hs,Sa:fu},Iu={C:hu,Sa:fu},Tu={$c:"local",NONE:"none",bd:"session"};function Eu(){var t=!(Si(vi())||!ai()),e=Ii(),n=gi();this.m=t,this.h=e,this.l=n,this.a={},t=mu=mu||new vu;try{this.g=!zn()&&Ri()||!l.indexedDB?new t.a.C:new uu(si()?new cu:new t.a.C)}catch(t){this.g=new cu,this.h=!0}try{this.i=new t.a.Sa}catch(t){this.i=new cu}this.u=new cu,this.f=I(this.Pb,this),this.b={}}function ku(){return gu=gu||new Eu}function Au(t,e){switch(e){case"session":return t.i;case"none":return t.u;default:return t.g}}function Su(t,e){return"firebase:"+t.name+(e?":"+e:"")}function Nu(t,e,n){return n=Su(e,n),"local"==e.C&&(t.b[n]=null),Au(t,e.C).S(n)}function Ou(t){t.c&&(clearInterval(t.c),t.c=null)}function _u(t){this.a=t,this.b=ku()}(t=Eu.prototype).get=function(t,e){return Au(this,t.C).get(Su(t,e))},t.set=function(e,t,n){var i=Su(e,n),r=this,o=Au(this,e.C);return o.set(i,t).then(function(){return o.get(i)}).then(function(t){"local"==e.C&&(r.b[i]=t)})},t.addListener=function(t,e,n){t=Su(t,e),this.l&&(this.b[t]=l.localStorage.getItem(t)),G(this.a)&&(Au(this,"local").$(this.f),this.h||(zn()||!Ri())&&l.indexedDB||!this.l||function(i){Ou(i),i.c=setInterval(function(){for(var t in i.a){var e=l.localStorage.getItem(t),n=i.b[t];e!=n&&(i.b[t]=e,e=new Ce({type:"storage",key:t,target:window,oldValue:n,newValue:e,a:!0}),i.Pb(e))}},1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},t.removeListener=function(t,e,n){t=Su(t,e),this.a[t]&&(K(this.a[t],function(t){return t==n}),0==this.a[t].length&&delete this.a[t]),G(this.a)&&(Au(this,"local").ea(this.f),Ou(this))},t.Pb=function(t){if(t&&t.f){var e=t.a.key;if(null==e)for(var n in this.a){var i=this.b[n];void 0===i&&(i=null);var r=l.localStorage.getItem(n);r!==i&&(this.b[n]=r,this.Za(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?Au(this,"local").ea(this.f):Ou(this),this.m)if(n=l.localStorage.getItem(e),(i=t.a.newValue)!==n)null!==i?l.localStorage.setItem(e,i):l.localStorage.removeItem(e);else if(this.b[e]===i&&void 0===t.a.a)return;var o=this;n=function(){void 0===t.a.a&&o.b[e]===l.localStorage.getItem(e)||(o.b[e]=l.localStorage.getItem(e),o.Za(e))},me&&Ae&&10==Ae&&l.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else M(t,I(this.Za,this))},t.Za=function(t){this.a[t]&&M(this.a[t],function(t){t()})};var Pu,Ru={name:"authEvent",C:"local"};function Du(){this.a=ku()}function Cu(t,e){this.b=Lu,this.f=l.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=l.Int32Array?new Int32Array(64):Array(64),void 0!==Pu||(Pu=l.Int32Array?new Int32Array(Ku):Ku),this.reset()}k(Cu,function(){this.b=-1});for(var Lu=64,xu=Lu-1,Mu=[],ju=0;ju<xu;ju++)Mu[ju]=0;var Uu=q(128,Mu);function Vu(t){for(var e=t.f,n=t.l,i=0,r=0;r<e.length;)n[i++]=e[r]<<24|e[r+1]<<16|e[r+2]<<8|e[r+3],r=4*i;for(e=16;e<64;e++){r=0|n[e-15],i=0|n[e-2];var o=(0|n[e-16])+((r>>>7|r<<25)^(r>>>18|r<<14)^r>>>3)|0,a=(0|n[e-7])+((i>>>17|i<<15)^(i>>>19|i<<13)^i>>>10)|0;n[e]=o+a|0}i=0|t.a[0],r=0|t.a[1];var s=0|t.a[2],u=0|t.a[3],c=0|t.a[4],h=0|t.a[5],l=0|t.a[6];for(o=0|t.a[7],e=0;e<64;e++){var f=((i>>>2|i<<30)^(i>>>13|i<<19)^(i>>>22|i<<10))+(i&r^i&s^r&s)|0;a=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((a=(a=c&h^~c&l)+(0|Pu[e])|0)+(0|n[e])|0)|0,o=l,l=h,h=c,c=u+a|0,u=s,s=r,r=i,i=a+f|0}t.a[0]=t.a[0]+i|0,t.a[1]=t.a[1]+r|0,t.a[2]=t.a[2]+s|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+c|0,t.a[5]=t.a[5]+h|0,t.a[6]=t.a[6]+l|0,t.a[7]=t.a[7]+o|0}function Fu(t,e,n){void 0===n&&(n=e.length);var i=0,r=t.c;if(h(e))for(;i<n;)t.f[r++]=e.charCodeAt(i++),r==t.b&&(Vu(t),r=0);else{if(!v(e))throw Error("message must be string or array");for(;i<n;){var o=e[i++];if(!("number"==typeof o&&0<=o&&o<=255&&o==(0|o)))throw Error("message must be a byte array");t.f[r++]=o,r==t.b&&(Vu(t),r=0)}}t.c=r,t.g+=n}Cu.prototype.reset=function(){this.g=this.c=0,this.a=l.Int32Array?new Int32Array(this.h):H(this.h)};var Ku=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function qu(){Cu.call(this,8,Hu)}k(qu,Cu);var Hu=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Bu(t,e,n,i,r){this.u=t,this.i=e,this.l=n,this.m=i||null,this.o=r||null,this.h=e+":"+n,this.v=new Du,this.g=new _u(this.h),this.f=null,this.b=[],this.a=this.c=null}function Gu(t){return new Yi("invalid-cordova-configuration",t)}function Wu(t){var e=new qu;Fu(e,t),t=[];var n=8*e.g;e.c<56?Fu(e,Uu,56-e.c):Fu(e,Uu,e.b-(e.c-56));for(var i=63;56<=i;i--)e.f[i]=255&n,n/=256;for(Vu(e),i=n=0;i<e.i;i++)for(var r=24;0<=r;r-=8)t[n++]=e.a[i]>>r&255;return function(t){return j(t,function(t){return 1<(t=t.toString(16)).length?t:"0"+t}).join("")}(t)}function Xu(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(t){}}function Ju(i){return i.f||(i.f=i.ia().then(function(){return new qt(function(n){i.ya(function t(e){return n(e),i.La(t),!1}),function(r){function e(i){t=!0,n&&n.cancel(),Yu(r).then(function(t){var e=o;if(t&&i&&i.url){var n=null;-1!=(e=Kr(i.url)).indexOf("/__/auth/callback")&&(n=(n="object"==typeof(n=ki(wn(n=In(e),"firebaseError")||null))?zi(n):null)?new wo(t.c,t.b,null,null,n,null,t.R()):new wo(t.c,t.b,e,t.f,null,null,t.R())),e=n||o}Xu(r,e)})}var o=new wo("unknown",null,null,null,new Yi("no-auth-event")),t=!1,n=un(500).then(function(){return Yu(r).then(function(){t||Xu(r,o)})}),i=l.handleOpenURL;l.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(mi("BuildInfo.packageName",l).toLowerCase()+"://")&&e({url:t}),"function"==typeof i)try{i(t)}catch(t){console.error(t)}},ko=ko||new To,function(t){var n=ko;n.a.push(t),n.b||(n.b=function(t){for(var e=0;e<n.a.length;e++)n.a[e](t)},"function"==typeof(t=mi("universalLinks.subscribe",l))&&t(null,n.b))}(e)}(i)})})),i.f}function Yu(e){var n=null;return function(t){return t.b.get(Ru,t.a).then(function(t){return Io(t)})}(e.g).then(function(t){return n=t,Nu((t=e.g).b,Ru,t.a)}).then(function(){return n})}function zu(t){this.a=t,this.b=ku()}(t=Bu.prototype).ia=function(){return this.Ba?this.Ba:this.Ba=(oi(void 0)?ri().then(function(){return new qt(function(t,e){var n=l.document,i=setTimeout(function(){e(Error("Cordova framework is not ready."))},1e3);n.addEventListener("deviceready",function(){clearTimeout(i),t()},!1)})}):zt(Error("Cordova must run in an Android or iOS file scheme."))).then(function(){if("function"!=typeof mi("universalLinks.subscribe",l))throw Gu("cordova-universal-links-plugin-fix is not installed");if(void 0===mi("BuildInfo.packageName",l))throw Gu("cordova-plugin-buildinfo is not installed");if("function"!=typeof mi("cordova.plugins.browsertab.openUrl",l))throw Gu("cordova-plugin-browsertab is not installed");if("function"!=typeof mi("cordova.InAppBrowser.open",l))throw Gu("cordova-plugin-inappbrowser is not installed")},function(){throw new Yi("cordova-not-ready")})},t.Fb=function(t,e){return e(new Yi("operation-not-supported-in-this-environment")),Yt()},t.Db=function(){return zt(new Yi("operation-not-supported-in-this-environment"))},t.Rb=function(){return!1},t.Ob=function(){return!0},t.Jb=function(){return!0},t.Eb=function(t,e,n,i){if(this.c)return zt(new Yi("redirect-operation-pending"));var r=this,o=l.document,a=null,s=null,u=null,c=null;return this.c=Yt().then(function(){return yo(e),Ju(r)}).then(function(){return function(n,t,e,i,r){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),a=new wo(t,i,null,o,new Yi("no-auth-event"),null,r),s=mi("BuildInfo.packageName",l);if("string"!=typeof s)throw new Yi("invalid-cordova-configuration");var u=mi("BuildInfo.displayName",l),c={};if(vi().toLowerCase().match(/iphone|ipad|ipod/))c.ibi=s;else{if(!vi().toLowerCase().match(/android/))return zt(new Yi("operation-not-supported-in-this-environment"));c.apn=s}u&&(c.appDisplayName=u),o=Wu(o),c.sessionId=o;var h=qs(n.u,n.i,n.l,t,e,null,i,n.m,c,n.o,r);return n.ia().then(function(){var t=n.h;return n.v.a.set(Ru,a.A(),t)}).then(function(){var t=mi("cordova.plugins.browsertab.isAvailable",l);if("function"!=typeof t)throw new Yi("invalid-cordova-configuration");var e=null;t(function(t){if(t){if("function"!=typeof(e=mi("cordova.plugins.browsertab.openUrl",l)))throw new Yi("invalid-cordova-configuration");e(h)}else{if("function"!=typeof(e=mi("cordova.InAppBrowser.open",l)))throw new Yi("invalid-cordova-configuration");t=vi(),n.a=e(h,t.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||t.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}(r,t,e,n,i)}).then(function(){return new qt(function(e,t){s=function(){var t=mi("cordova.plugins.browsertab.close",l);return e(),"function"==typeof t&&t(),r.a&&"function"==typeof r.a.close&&(r.a.close(),r.a=null),!1},r.ya(s),u=function(){a=a||un(2e3).then(function(){t(new Yi("redirect-cancelled-by-user"))})},c=function(){_i()&&u()},o.addEventListener("resume",u,!1),vi().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",c,!1)}).s(function(t){return Yu(r).then(function(){throw t})})}).ka(function(){u&&o.removeEventListener("resume",u,!1),c&&o.removeEventListener("visibilitychange",c,!1),a&&a.cancel(),s&&r.La(s),r.c=null})},t.ya=function(e){this.b.push(e),Ju(this).s(function(t){"auth/invalid-cordova-configuration"===t.code&&(t=new wo("unknown",null,null,null,new Yi("no-auth-event")),e(t))})},t.La=function(e){K(this.b,function(t){return t==e})};var $u={name:"pendingRedirect",C:"session"};function Zu(t){return Nu(t.b,$u,t.a)}function Qu(t,e,n){this.i={},this.v=0,this.B=t,this.u=e,this.m=n,this.h=[],this.f=!1,this.l=I(this.o,this),this.b=new dc,this.w=new bc,this.g=new zu(this.u+":"+this.m),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.w,this.c.linkViaPopup=this.w,this.c.reauthViaPopup=this.w,this.a=tc(this.B,this.u,this.m,Ar)}function tc(t,e,n,i){var r=fl.SDK_VERSION||null;return oi()?new Bu(t,e,n,r,i):new Us(t,e,n,r,i)}function ec(e){e.f||(e.f=!0,e.a.ya(e.l));var n=e.a;return e.a.ia().s(function(t){throw e.a==n&&e.reset(),t})}function nc(n){n.a.Ob()&&ec(n).s(function(t){var e=new wo("unknown",null,null,null,new Yi("operation-not-supported-in-this-environment"));uc(t)&&n.o(e)}),n.a.Jb()||pc(n.b)}function ic(n,t){V(n.h,t)||n.h.push(t),n.f||function(t){return t.b.get($u,t.a).then(function(t){return"pending"==t})}(n.g).then(function(t){t?Zu(n.g).then(function(){ec(n).s(function(t){var e=new wo("unknown",null,null,null,new Yi("operation-not-supported-in-this-environment"));uc(t)&&n.o(e)})}):nc(n)}).s(function(){nc(n)})}function rc(t,e){K(t.h,function(t){return t==e})}Qu.prototype.reset=function(){this.f=!1,this.a.La(this.l),this.a=tc(this.B,this.u,this.m),this.i={}},Qu.prototype.o=function(t){if(!t)throw new Yi("invalid-auth-event");if(6e5<=E()-this.v&&(this.i={},this.v=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var i=this.h[n];if(i.xb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,i),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.v=E())),e=!0;break}}return pc(this.b),e};var oc=new Oi(2e3,1e4),ac=new Oi(3e4,6e4);function sc(t,e,n,i,r,o,a){return t.a.Db(e,n,i,function(){t.f||(t.f=!0,t.a.ya(t.l))},function(){t.reset()},r,o,a)}function uc(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function cc(e,t,n,i,r){var o;return function(t){return t.b.set($u,"pending",t.a)}(e.g).then(function(){return e.a.Eb(t,n,i,r).s(function(t){if(uc(t))throw new Yi("operation-not-supported-in-this-environment");return o=t,Zu(e.g).then(function(){throw o})}).then(function(){return e.a.Rb()?new qt(function(){}):Zu(e.g).then(function(){return e.oa()}).then(function(){}).s(function(){})})})}function hc(t,e,n,i,r){return t.a.Fb(i,function(t){e.ja(n,null,t,r)},oc.get())}Qu.prototype.oa=function(){return this.b.oa()};var lc={};function fc(t,e,n){var i=e+":"+n;return lc[i]||(lc[i]=new Qu(t,e,n)),lc[i]}function dc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function pc(t){t.g||(t.g=!0,gc(t,!1,null,null))}function vc(t){t.g&&!t.i&&gc(t,!1,null,null)}function mc(t,e){if(t.b=function(){return Yt(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function gc(t,e,n,i){e?i?function(t,e){if(t.b=function(){return zt(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,i):mc(t,n):mc(t,{user:null}),t.f=[],t.c=[]}function bc(){}function yc(){this.vb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.vb},set:function(t){this.vb=t},enumerable:!1})}function wc(t,e){this.a=e,Mi(this,"verificationId",t)}function Ic(t,e,n,i){return new mo(t).Va(e,n).then(function(t){return new wc(t,i)})}function Tc(t){var e=kr(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new Yi("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");ji(this,{token:t,expirationTime:Pi(1e3*e.exp),authTime:Pi(1e3*e.auth_time),issuedAtTime:Pi(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,claims:e})}function Ec(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function kc(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}function Ac(t){this.f=t,this.b=this.a=null,this.c=0}function Sc(t,e){var n=e[Da],i=e.refreshToken;e=Nc(e.expiresIn),t.b=n,t.c=e,t.a=i}function Nc(t){return E()+1e3*parseInt(t,10)}function Oc(e,t){return function(t,i){return new qt(function(e,n){"refresh_token"==i.grant_type&&i.refresh_token||"authorization_code"==i.grant_type&&i.code?Va(t,t.l+"?key="+encodeURIComponent(t.c),function(t){t?t.error?n(_s(t)):t.access_token&&t.refresh_token?e(t):n(new Yi("internal-error")):n(new Yi("network-request-failed"))},"POST",Cn(i).toString(),t.g,t.u.get()):n(new Yi("internal-error"))})}(e.f,t).then(function(t){return e.b=t.access_token,e.c=Nc(t.expires_in),e.a=t.refresh_token,{accessToken:e.b,expirationTime:e.c,refreshToken:e.a}}).s(function(t){throw"auth/user-token-expired"==t.code&&(e.a=null),t})}function _c(t,e){this.a=t||null,this.b=e||null,ji(this,{lastSignInTime:Pi(e||null),creationTime:Pi(t||null)})}function Pc(t,e,n,i,r,o){ji(this,{uid:t,displayName:i||null,photoURL:r||null,email:n||null,phoneNumber:o||null,providerId:e})}function Rc(t,e){for(var n in De.call(this,t),e)this[n]=e[n]}function Dc(t,e,n){this.I=[],this.l=t.apiKey,this.m=t.appName,this.o=t.authDomain||null,t=fl.SDK_VERSION?pi(fl.SDK_VERSION):null,this.a=new Pa(this.l,Nr(Ar),t),this.b=new Ac(this.a),Vc(this,e[Da]),Sc(this.b,e),Mi(this,"refreshToken",this.b.a),qc(this,n||{}),nn.call(this),this.J=!1,this.o&&bi()&&(this.i=fc(this.o,this.l,this.m)),this.O=[],this.h=null,this.w=function(e){return new Ec(function(){return e.G(!0)},function(t){return!(!t||"auth/network-request-failed"!=t.code)},function(){var t=e.b.c-E()-3e5;return 0<t?t:0})}(this),this.W=I(this.Ha,this);var i=this;this.ga=null,this.va=function(t){i.sa(t.g)},this.Z=null,this.P=[],this.ua=function(t){Lc(i,t.c)},this.Y=null}function Cc(t,e){t.Z&&Xe(t.Z,"languageCodeChanged",t.va),(t.Z=e)&&Be(e,"languageCodeChanged",t.va)}function Lc(t,e){t.P=e,Ua(t.a,fl.SDK_VERSION?pi(fl.SDK_VERSION,t.P):null)}function xc(t,e){t.Y&&Xe(t.Y,"frameworkChanged",t.ua),(t.Y=e)&&Be(e,"frameworkChanged",t.ua)}function Mc(e){try{return fl.app(e.m).auth()}catch(t){throw new Yi("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+e.m+"'!")}}function jc(t){t.B||t.w.b||(t.w.start(),Xe(t,"tokenChanged",t.W),Be(t,"tokenChanged",t.W))}function Uc(t){Xe(t,"tokenChanged",t.W),t.w.stop()}function Vc(t,e){t.ma=e,Mi(t,"_lat",e)}function Fc(t){for(var e=[],n=0;n<t.O.length;n++)e.push(t.O[n](t));return Zt(e).then(function(){return t})}function Kc(t){t.i&&!t.J&&(t.J=!0,ic(t.i,t))}function qc(t,e){ji(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new _c(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function Hc(){}function Bc(t){return Yt().then(function(){if(t.B)throw new Yi("app-deleted")})}function Gc(t){return j(t.providerData,function(t){return t.providerId})}function Wc(t,e){e&&(Xc(t,e.providerId),t.providerData.push(e))}function Xc(t,e){K(t.providerData,function(t){return t.providerId==e})}function Jc(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Mi(t,e,n)}function Yc(e,t){e!=t&&(ji(e,{uid:t.uid,displayName:t.displayName,photoURL:t.photoURL,email:t.email,emailVerified:t.emailVerified,phoneNumber:t.phoneNumber,isAnonymous:t.isAnonymous,tenantId:t.tenantId,providerData:[]}),t.metadata?Mi(e,"metadata",function(t){return new _c(t.a,t.b)}(t.metadata)):Mi(e,"metadata",new _c),M(t.providerData,function(t){Wc(e,t)}),function(t,e){t.b=e.b,t.a=e.a,t.c=e.c}(e.b,t.b),Mi(e,"refreshToken",e.b.a))}function zc(n){return n.G().then(function(t){var e=n.isAnonymous;return function(t,e){return Ns(t.a,us,{idToken:e}).then(I(t.zc,t))}(n,t).then(function(){return e||Jc(n,"isAnonymous",!1),t})})}function $c(t,e){e[Da]&&t.ma!=e[Da]&&(Sc(t.b,e),t.dispatchEvent(new Rc("tokenChanged")),Vc(t,e[Da]),Jc(t,"refreshToken",t.b.a))}function Zc(t,e){return zc(t).then(function(){if(V(Gc(t),e))return Fc(t).then(function(){throw new Yi("provider-already-linked")})})}function Qc(t,e,n){return Ui({user:t,credential:bo(e),additionalUserInfo:e=Dr(e),operationType:n})}function th(t,e){return $c(t,e),t.reload().then(function(){return t})}function eh(n,i,t,e,r){if(!bi())return zt(new Yi("operation-not-supported-in-this-environment"));if(n.h&&!r)return zt(n.h);var o=Rr(t.providerId),a=Ai(n.uid+":::"),s=null;(!Ii()||ai())&&n.o&&t.isOAuthProvider&&(s=qs(n.o,n.l,n.m,i,t,null,a,fl.SDK_VERSION||null,null,null,n.tenantId));var u=ei(s,o&&o.Da,o&&o.Ca);return e=e().then(function(){if(ih(n),!r)return n.G().then(function(){})}).then(function(){return sc(n.i,u,i,t,a,!!s,n.tenantId)}).then(function(){return new qt(function(t,e){n.ja(i,null,new Yi("cancelled-popup-request"),n.g||null),n.f=t,n.v=e,n.g=a,n.c=hc(n.i,n,i,u,a)})}).then(function(t){return u&&ti(u),t?Ui(t):null}).s(function(t){throw u&&ti(u),t}),rh(n,e,r)}function nh(e,t,n,i,r){if(!bi())return zt(new Yi("operation-not-supported-in-this-environment"));if(e.h&&!r)return zt(e.h);var o=null,a=Ai(e.uid+":::");return i=i().then(function(){if(ih(e),!r)return e.G().then(function(){})}).then(function(){return e.ca=a,Fc(e)}).then(function(t){return e.da&&(t=(t=e.da).b.set(sh,e.A(),t.a)),t}).then(function(){return cc(e.i,t,n,a,e.tenantId)}).s(function(t){if(o=t,e.da)return uh(e.da);throw o}).then(function(){if(o)throw o}),rh(e,i,r)}function ih(t){if(!t.i||!t.J){if(t.i&&!t.J)throw new Yi("internal-error");throw new Yi("auth-domain-config-required")}}function rh(t,e,n){var i=function(e,t,n){return e.h&&!n?(t.cancel(),zt(e.h)):t.s(function(t){throw!t||"auth/user-disabled"!=t.code&&"auth/user-token-expired"!=t.code||(e.h||e.dispatchEvent(new Rc("userInvalidated")),e.h=t),t})}(t,e,n);return t.I.push(i),i.ka(function(){F(t.I,i)}),i}function oh(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName},n={};if(!(t.stsTokenManager&&t.stsTokenManager.accessToken&&t.stsTokenManager.expirationTime))return null;n[Da]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null,n.expiresIn=(t.stsTokenManager.expirationTime-E())/1e3;var i=new Dc(e,n,t);return t.providerData&&M(t.providerData,function(t){t&&Wc(i,Ui(t))}),t.redirectEventId&&(i.ca=t.redirectEventId),i}function ah(t){this.a=t,this.b=ku()}dc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},dc.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,i=t.b,r=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!r&&!o),"unknown"!=n||r||o?t.a?(gc(this,!0,null,t.a),Yt()):e.za(n,i)?function(e,t,n){n=n.za(t.c,t.b);var i=t.g,r=t.f,o=t.i,a=t.R(),s=!!t.c.match(/Redirect$/);n(i,r,a,o).then(function(t){gc(e,s,t,null)}).s(function(t){gc(e,s,null,t)})}(this,t,e):zt(new Yi("invalid-auth-event")):(gc(this,!1,null,null),Yt())}else zt(new Yi("invalid-auth-event"))},dc.prototype.oa=function(){var n=this;return new qt(function(t,e){n.b?n.b().then(t,e):(n.f.push(t),n.c.push(e),function(t){var e=new Yi("timeout");t.a&&t.a.cancel(),t.a=un(ac.get()).then(function(){t.b||(t.g=!0,gc(t,!0,null,e))})}(n))})},bc.prototype.h=function(t,e){if(t){var n=t.c,i=t.b;t.a?(e.ja(t.c,null,t.a,t.b),Yt()):e.za(n,i)?function(t,e){var n=t.b,i=t.c;e.za(i,n)(t.g,t.f,t.R(),t.i).then(function(t){e.ja(i,t,null,n)}).s(function(t){e.ja(i,null,t,n)})}(t,e):zt(new Yi("invalid-auth-event"))}else zt(new Yi("invalid-auth-event"))},wc.prototype.confirm=function(t){return t=go(this.verificationId,t),this.a(t)},Ec.prototype.start=function(){this.a=this.c,function e(n,t){n.stop();n.b=un(kc(n,t)).then(function(){return e=l.document,n=null,_i()||!e?Yt():new qt(function(t){n=function(){_i()&&(e.removeEventListener("visibilitychange",n,!1),t())},e.addEventListener("visibilitychange",n,!1)}).s(function(t){throw e.removeEventListener("visibilitychange",n,!1),t});var e,n}).then(function(){return n.h()}).then(function(){e(n,!0)}).s(function(t){n.i(t)&&e(n,!1)})}(this,!0)},Ec.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},Ac.prototype.A=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b,expirationTime:this.c}},Ac.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?zt(new Yi("user-token-expired")):t||!this.b||E()>this.c-3e4?this.a?Oc(this,{grant_type:"refresh_token",refresh_token:this.a}):Yt(null):Yt({accessToken:this.b,expirationTime:this.c,refreshToken:this.a})},_c.prototype.A=function(){return{lastLoginAt:this.b,createdAt:this.a}},k(Rc,De),k(Dc,nn),Dc.prototype.sa=function(t){this.ga=t,ja(this.a,t)},Dc.prototype.ha=function(){return this.ga},Dc.prototype.Aa=function(){return H(this.P)},Dc.prototype.Ha=function(){this.w.b&&(this.w.stop(),this.w.start())},Mi(Dc.prototype,"providerId","firebase"),(t=Dc.prototype).reload=function(){var t=this;return rh(this,Bc(this).then(function(){return zc(t).then(function(){return Fc(t)}).then(Hc)}))},t.dc=function(t){return this.G(t).then(function(t){return new Tc(t)})},t.G=function(t){var e=this;return rh(this,Bc(this).then(function(){return e.b.getToken(t)}).then(function(t){if(!t)throw new Yi("internal-error");return t.accessToken!=e.ma&&(Vc(e,t.accessToken),e.dispatchEvent(new Rc("tokenChanged"))),Jc(e,"refreshToken",t.refreshToken),t.accessToken}))},t.zc=function(t){if(!(t=t.users)||!t.length)throw new Yi("internal-error");qc(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?j(t,function(t){return new Pc(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)}):[]}(t),n=0;n<e.length;n++)Wc(this,e[n]);Jc(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length))},t.Ac=function(t){return Li("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.gb(t)},t.gb=function(t){var e=this,n=null;return rh(this,t.f(this.a,this.uid).then(function(t){return $c(e,t),n=Qc(e,t,"reauthenticate"),e.h=null,e.reload()}).then(function(){return n}),!0)},t.rc=function(t){return Li("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.eb(t)},t.eb=function(e){var n=this,i=null;return rh(this,Zc(this,e.providerId).then(function(){return n.G()}).then(function(t){return e.b(n.a,t)}).then(function(t){return i=Qc(n,t,"link"),th(n,t)}).then(function(){return i}))},t.sc=function(t,e){var n=this;return rh(this,Zc(this,"phone").then(function(){return Ic(Mc(n),t,e,I(n.eb,n))}))},t.Bc=function(t,e){var n=this;return rh(this,Yt().then(function(){return Ic(Mc(n),t,e,I(n.gb,n))}),!0)},t.rb=function(e){var n=this;return rh(this,this.G().then(function(t){return n.a.rb(t,e)}).then(function(t){return $c(n,t),n.reload()}))},t.Sc=function(e){var n=this;return rh(this,this.G().then(function(t){return e.b(n.a,t)}).then(function(t){return $c(n,t),n.reload()}))},t.sb=function(e){var n=this;return rh(this,this.G().then(function(t){return n.a.sb(t,e)}).then(function(t){return $c(n,t),n.reload()}))},t.tb=function(e){if(void 0===e.displayName&&void 0===e.photoURL)return Bc(this);var n=this;return rh(this,this.G().then(function(t){return n.a.tb(t,{displayName:e.displayName,photoUrl:e.photoURL})}).then(function(t){return $c(n,t),Jc(n,"displayName",t.displayName||null),Jc(n,"photoURL",t.photoUrl||null),M(n.providerData,function(t){"password"===t.providerId&&(Mi(t,"displayName",n.displayName),Mi(t,"photoURL",n.photoURL))}),Fc(n)}).then(Hc))},t.Qc=function(e){var n=this;return rh(this,zc(this).then(function(t){return V(Gc(n),e)?function(t,e,n){return Ns(t,os,{idToken:e,deleteProvider:n})}(n.a,t,[e]).then(function(t){var e={};return M(t.providerUserInfo||[],function(t){e[t.providerId]=!0}),M(Gc(n),function(t){e[t]||Xc(n,t)}),e[mo.PROVIDER_ID]||Mi(n,"phoneNumber",null),Fc(n)}):Fc(n).then(function(){throw new Yi("no-such-provider")})}))},t.delete=function(){var e=this;return rh(this,this.G().then(function(t){return Ns(e.a,rs,{idToken:t})}).then(function(){e.dispatchEvent(new Rc("userDeleted"))})).then(function(){for(var t=0;t<e.I.length;t++)e.I[t].cancel("app-deleted");Cc(e,null),xc(e,null),e.I=[],e.B=!0,Uc(e),Mi(e,"refreshToken",null),e.i&&rc(e.i,e)})},t.xb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.ca||null)==e||"reauthViaRedirect"==t&&(this.ca||null)==e)},t.ja=function(t,e,n,i){"linkViaPopup"!=t&&"reauthViaPopup"!=t||i!=(this.g||null)||(n&&this.v?this.v(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.v)},t.za=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?I(this.Bb,this):"reauthViaPopup"==t&&e==(this.g||null)?I(this.Cb,this):"linkViaRedirect"==t&&(this.ca||null)==e?I(this.Bb,this):"reauthViaRedirect"==t&&(this.ca||null)==e?I(this.Cb,this):null},t.tc=function(t){var e=this;return eh(this,"linkViaPopup",t,function(){return Zc(e,t.providerId).then(function(){return Fc(e)})},!1)},t.Cc=function(t){return eh(this,"reauthViaPopup",t,function(){return Yt()},!0)},t.uc=function(t){var e=this;return nh(this,"linkViaRedirect",t,function(){return Zc(e,t.providerId)},!1)},t.Dc=function(t){return nh(this,"reauthViaRedirect",t,function(){return Yt()},!0)},t.Bb=function(e,n,t,i){var r=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return t=this.G().then(function(t){return $a(r.a,{requestUri:e,postBody:i,sessionId:n,idToken:t})}).then(function(t){return o=Qc(r,t,"link"),th(r,t)}).then(function(){return o}),rh(this,t)},t.Cb=function(t,e,n,i){var r=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return rh(this,Yt().then(function(){return Hr(Za(r.a,{requestUri:t,sessionId:e,postBody:i,tenantId:n}),r.uid)}).then(function(t){return o=Qc(r,t,"reauthenticate"),$c(r,t),r.h=null,r.reload()}).then(function(){return o}),!0)},t.jb=function(e){var n=this,i=null;return rh(this,this.G().then(function(t){return i=t,void 0===e||G(e)?{}:br(new ur(e))}).then(function(t){return n.a.jb(i,t)}).then(function(t){if(n.email!=t)return n.reload()}).then(function(){}))},t.toJSON=function(){return this.A()},t.A=function(){var e={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.o,stsTokenManager:this.b.A(),redirectEventId:this.ca||null};return this.metadata&&J(e,this.metadata.A()),M(this.providerData,function(t){e.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(t))}),e};var sh={name:"redirectUser",C:"session"};function uh(t){return Nu(t.b,sh,t.a)}function ch(t){this.a=t,this.b=ku(),this.c=null,this.f=function(e){var n=fh("local"),i=fh("session"),r=fh("none");return function(n,i,r){var o=Su(i,r),a=Au(n,i.C);return n.get(i,r).then(function(t){var e=null;try{e=ki(l.localStorage.getItem(o))}catch(t){}if(e&&!t)return l.localStorage.removeItem(o),n.set(i,e,r);e&&t&&"localStorage"!=a.type&&l.localStorage.removeItem(o)})}(e.b,n,e.a).then(function(){return e.b.get(i,e.a)}).then(function(t){return t?i:e.b.get(r,e.a).then(function(t){return t?r:e.b.get(n,e.a).then(function(t){return t?n:e.b.get(lh,e.a).then(function(t){return t?fh(t):n})})})}).then(function(t){return e.c=t,hh(e,t.C)}).s(function(){e.c||(e.c=n)})}(this),this.b.addListener(fh("local"),this.a,I(this.g,this))}function hh(t,e){var n,i=[];for(n in Tu)Tu[n]!==e&&i.push(Nu(t.b,fh(Tu[n]),t.a));return i.push(Nu(t.b,lh,t.a)),function(s){return new qt(function(n,e){var i=s.length,r=[];if(i)for(var t=function(t,e){i--,r[t]=e,0==i&&n(r)},o=function(t){e(t)},a=0;a<s.length;a++)$t(s[a],T(t,a),o);else n(r)})}(i)}ch.prototype.g=function(){var e=this,n=fh("local");mh(this,function(){return Yt().then(function(){return e.c&&"local"!=e.c.C?e.b.get(n,e.a):null}).then(function(t){if(t)return hh(e,"local").then(function(){e.c=n})})})};var lh={name:"persistence",C:"session"};function fh(t){return{name:"authUser",C:t}}function dh(t,e){return mh(t,function(){return t.b.set(t.c,e.A(),t.a)})}function ph(t){return mh(t,function(){return Nu(t.b,t.c,t.a)})}function vh(t,e){return mh(t,function(){return t.b.get(t.c,t.a).then(function(t){return t&&e&&(t.authDomain=e),oh(t||{})})})}function mh(t,e){return t.f=t.f.then(e,e),t.f}function gh(t){if(this.l=!1,Mi(this,"settings",new yc),Mi(this,"app",t),!Ah(this).options||!Ah(this).options.apiKey)throw new Yi("invalid-api-key");t=fl.SDK_VERSION?pi(fl.SDK_VERSION):null,this.b=new Pa(Ah(this).options&&Ah(this).options.apiKey,Nr(Ar),t),this.O=[],this.m=[],this.J=[],this.Ub=fl.INTERNAL.createSubscribe(I(this.oc,this)),this.W=void 0,this.Vb=fl.INTERNAL.createSubscribe(I(this.pc,this)),Eh(this,null),this.h=new ch(Ah(this).options.apiKey+":"+Ah(this).name),this.w=new ah(Ah(this).options.apiKey+":"+Ah(this).name),this.Y=_h(this,function(n){var t=Ah(n).options.authDomain,e=function(e){var t=function(t,e){return t.b.get(sh,t.a).then(function(t){return t&&e&&(t.authDomain=e),oh(t||{})})}(e.w,Ah(e).options.authDomain).then(function(t){return(e.B=t)&&(t.da=e.w),uh(e.w)});return _h(e,t)}(n).then(function(){return vh(n.h,t)}).then(function(e){return e?(e.da=n.w,n.B&&(n.B.ca||null)==(e.ca||null)?e:e.reload().then(function(){return dh(n.h,e).then(function(){return e})}).s(function(t){return"auth/network-request-failed"==t.code?e:ph(n.h)})):null}).then(function(t){Eh(n,t||null)});return _h(n,e)}(this)),this.i=_h(this,function(e){return e.Y.then(function(){return Ih(e)}).s(function(){}).then(function(){if(!e.l)return e.ma()}).s(function(){}).then(function(){if(!e.l){e.ga=!0;var t=e.h;t.b.addListener(fh("local"),t.a,e.ma)}})}(this)),this.ga=!1,this.ma=I(this.Nc,this),this.ub=I(this.aa,this),this.ua=I(this.bc,this),this.va=I(this.mc,this),this.Ha=I(this.nc,this),this.a=null,function(e){var n=Ah(e).options.authDomain,i=Ah(e).options.apiKey;n&&bi()&&(e.Tb=e.Y.then(function(){if(!e.l){if(e.a=fc(n,i,Ah(e).name),ic(e.a,e),Sh(e)&&Kc(Sh(e)),e.B){Kc(e.B);var t=e.B;t.sa(e.ha()),Cc(t,e),Lc(t=e.B,e.I),xc(t,e),e.B=null}return e.a}}))}(this),this.INTERNAL={},this.INTERNAL.delete=I(this.delete,this),this.INTERNAL.logFramework=I(this.vc,this),this.o=0,nn.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.ha()},set:function(t){this.sa(t)},enumerable:!1}),t.Z=null,Object.defineProperty(t,"ti",{get:function(){return this.R()},set:function(t){this.nb(t)},enumerable:!1}),t.P=null}(this),this.I=[]}function bh(t){De.call(this,"languageCodeChanged"),this.g=t}function yh(t){De.call(this,"frameworkChanged"),this.c=t}function wh(t){return t.Tb||zt(new Yi("auth-domain-config-required"))}function Ih(t){if(!bi())return zt(new Yi("operation-not-supported-in-this-environment"));var e=wh(t).then(function(){return t.a.oa()}).then(function(t){return t?Ui(t):null});return _h(t,e)}function Th(e,t){var n={};return n.apiKey=Ah(e).options.apiKey,n.authDomain=Ah(e).options.authDomain,n.appName=Ah(e).name,e.Y.then(function(){return function(t,e,n,i){var r=new Dc(t,e);return n&&(r.da=n),i&&Lc(r,i),r.reload().then(function(){return r})}(n,t,e.w,e.Aa())}).then(function(t){return Sh(e)&&t.uid==Sh(e).uid?Yc(Sh(e),t):(Eh(e,t),Kc(t)),e.aa(t)}).then(function(){Oh(e)})}function Eh(t,e){Sh(t)&&(function(t,e){K(t.O,function(t){return t==e})}(Sh(t),t.ub),Xe(Sh(t),"tokenChanged",t.ua),Xe(Sh(t),"userDeleted",t.va),Xe(Sh(t),"userInvalidated",t.Ha),Uc(Sh(t))),e&&(e.O.push(t.ub),Be(e,"tokenChanged",t.ua),Be(e,"userDeleted",t.va),Be(e,"userInvalidated",t.Ha),0<t.o&&jc(e)),Mi(t,"currentUser",e),e&&(e.sa(t.ha()),Cc(e,t),Lc(e,t.I),xc(e,t))}function kh(e,t){var n=null,i=null;return _h(e,t.then(function(t){return n=bo(t),i=Dr(t),Th(e,t)}).then(function(){return Ui({user:Sh(e),credential:n,additionalUserInfo:i,operationType:"signIn"})}))}function Ah(t){return t.app}function Sh(t){return t.currentUser}function Nh(t){return Sh(t)&&Sh(t)._lat||null}function Oh(t){if(t.ga){for(var e=0;e<t.m.length;e++)t.m[e]&&t.m[e](Nh(t));if(t.W!==t.getUid()&&t.J.length)for(t.W=t.getUid(),e=0;e<t.J.length;e++)t.J[e]&&t.J[e](Nh(t))}}function _h(t,e){return t.O.push(e),e.ka(function(){F(t.O,e)}),e}function Ph(){}function Rh(){this.a={},this.b=1e12}ch.prototype.mb=function(e){var n=null,i=this;return function(t){var e=new Yi("invalid-persistence-type"),n=new Yi("unsupported-persistence-type");t:{for(i in Tu)if(Tu[i]==t){var i=!0;break t}i=!1}if(!i||"string"!=typeof t)throw e;switch(ui()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;default:if(!gi()&&"none"!==t)throw n}}(e),mh(this,function(){return e!=i.c.C?i.b.get(i.c,i.a).then(function(t){return n=t,hh(i,e)}).then(function(){if(i.c=fh(e),n)return i.b.set(i.c,n,i.a)}):Yt()})},k(gh,nn),k(bh,De),k(yh,De),(t=gh.prototype).mb=function(t){return t=this.h.mb(t),_h(this,t)},t.sa=function(t){this.Z===t||this.l||(this.Z=t,ja(this.b,this.Z),this.dispatchEvent(new bh(this.ha())))},t.ha=function(){return this.Z},t.Tc=function(){var t=l.navigator;this.sa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.vc=function(t){this.I.push(t),Ua(this.b,fl.SDK_VERSION?pi(fl.SDK_VERSION,this.I):null),this.dispatchEvent(new yh(this.I))},t.Aa=function(){return H(this.I)},t.nb=function(t){this.P===t||this.l||(this.P=t,this.b.b=this.P)},t.R=function(){return this.P},t.toJSON=function(){return{apiKey:Ah(this).options.apiKey,authDomain:Ah(this).options.authDomain,appName:Ah(this).name,currentUser:Sh(this)&&Sh(this).A()}},t.xb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},t.ja=function(t,e,n,i){"signInViaPopup"==t&&this.g==i&&(n&&this.v?this.v(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.v)},t.za=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?I(this.ac,this):null},t.ac=function(t,e,n,i){var r=this;t={requestUri:t,postBody:i,sessionId:e,tenantId:n},this.c&&(this.c.cancel(),this.c=null);var o=null,a=null,s=za(r.b,t).then(function(t){return o=bo(t),a=Dr(t),t});return _h(this,t=r.Y.then(function(){return s}).then(function(t){return Th(r,t)}).then(function(){return Ui({user:Sh(r),credential:o,additionalUserInfo:a,operationType:"signIn"})}))},t.Lc=function(e){if(!bi())return zt(new Yi("operation-not-supported-in-this-environment"));var n=this,t=Rr(e.providerId),i=Ai(),r=null;(!Ii()||ai())&&Ah(this).options.authDomain&&e.isOAuthProvider&&(r=qs(Ah(this).options.authDomain,Ah(this).options.apiKey,Ah(this).name,"signInViaPopup",e,null,i,fl.SDK_VERSION||null,null,null,this.R()));var o=ei(r,t&&t.Da,t&&t.Ca);return _h(this,t=wh(this).then(function(t){return sc(t,o,"signInViaPopup",e,i,!!r,n.R())}).then(function(){return new qt(function(t,e){n.ja("signInViaPopup",null,new Yi("cancelled-popup-request"),n.g),n.f=t,n.v=e,n.g=i,n.c=hc(n.a,n,"signInViaPopup",o,i)})}).then(function(t){return o&&ti(o),t?Ui(t):null}).s(function(t){throw o&&ti(o),t}))},t.Mc=function(t){if(!bi())return zt(new Yi("operation-not-supported-in-this-environment"));var e=this;return _h(this,wh(this).then(function(){return function(t){return mh(t,function(){return t.b.set(lh,t.c.C,t.a)})}(e.h)}).then(function(){return cc(e.a,"signInViaRedirect",t,void 0,e.R())}))},t.oa=function(){var e=this;return Ih(this).then(function(t){return e.a&&vc(e.a.b),t}).s(function(t){throw e.a&&vc(e.a.b),t})},t.Rc=function(t){if(!t)return zt(new Yi("null-user"));if(this.P!=t.tenantId)return zt(new Yi("tenant-id-mismatch"));var e=this,n={};n.apiKey=Ah(this).options.apiKey,n.authDomain=Ah(this).options.authDomain,n.appName=Ah(this).name;var i=function(t,e,n,i){e=e||{apiKey:t.l,authDomain:t.o,appName:t.m};var r=t.b,o={};return o[Da]=r.b,o.refreshToken=r.a,o.expiresIn=(r.c-E())/1e3,e=new Dc(e,o),n&&(e.da=n),i&&Lc(e,i),Yc(e,t),e}(t,n,e.w,e.Aa());return _h(this,this.i.then(function(){if(Ah(e).options.apiKey!=t.l)return i.reload()}).then(function(){return Sh(e)&&t.uid==Sh(e).uid?(Yc(Sh(e),t),e.aa(t)):(Eh(e,i),Kc(i),e.aa(i))}).then(function(){Oh(e)}))},t.pb=function(){var t=this,e=this.i.then(function(){return t.a&&vc(t.a.b),Sh(t)?(Eh(t,null),ph(t.h).then(function(){Oh(t)})):Yt()});return _h(this,e)},t.Nc=function(){var i=this;return vh(this.h,Ah(this).options.authDomain).then(function(t){if(!i.l){var e;if(e=Sh(i)&&t){e=Sh(i).uid;var n=t.uid;e=null!=e&&""!==e&&null!=n&&""!==n&&e==n}if(e)return Yc(Sh(i),t),Sh(i).G();(Sh(i)||t)&&(Eh(i,t),t&&(Kc(t),t.da=i.w),i.a&&ic(i.a,i),Oh(i))}})},t.aa=function(t){return dh(this.h,t)},t.bc=function(){Oh(this),this.aa(Sh(this))},t.mc=function(){this.pb()},t.nc=function(){this.pb()},t.oc=function(t){var e=this;this.addAuthTokenListener(function(){t.next(Sh(e))})},t.pc=function(t){var e=this;!function(t,e){t.J.push(e),_h(t,t.i.then(function(){!t.l&&V(t.J,e)&&t.W!==t.getUid()&&(t.W=t.getUid(),e(Nh(t)))}))}(this,function(){t.next(Sh(e))})},t.xc=function(t,e,n){var i=this;return this.ga&&Promise.resolve().then(function(){m(t)?t(Sh(i)):m(t.next)&&t.next(Sh(i))}),this.Ub(t,e,n)},t.wc=function(t,e,n){var i=this;return this.ga&&Promise.resolve().then(function(){i.W=i.getUid(),m(t)?t(Sh(i)):m(t.next)&&t.next(Sh(i))}),this.Vb(t,e,n)},t.cc=function(t){var e=this,n=this.i.then(function(){return Sh(e)?Sh(e).G(t).then(function(t){return{accessToken:t}}):null});return _h(this,n)},t.Hc=function(t){var n=this;return this.i.then(function(){return kh(n,Ns(n.b,Ts,{token:t}))}).then(function(t){var e=t.user;return Jc(e,"isAnonymous",!1),n.aa(e),t})},t.Ic=function(t,e){var n=this;return this.i.then(function(){return kh(n,Ns(n.b,Es,{email:t,password:e}))})},t.Xb=function(t,e){var n=this;return this.i.then(function(){return kh(n,Ns(n.b,ns,{email:t,password:e}))})},t.Ra=function(t){var e=this;return this.i.then(function(){return kh(e,t.na(e.b))})},t.Gc=function(t){return Li("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.Ra(t)},t.ob=function(){var n=this;return this.i.then(function(){var t=Sh(n);return t&&t.isAnonymous?Ui({user:t,credential:null,additionalUserInfo:Ui({providerId:null,isNewUser:!1}),operationType:"signIn"}):kh(n,n.b.ob()).then(function(t){var e=t.user;return Jc(e,"isAnonymous",!0),n.aa(e),t})})},t.getUid=function(){return Sh(this)&&Sh(this).uid||null},t.Wb=function(t){this.addAuthTokenListener(t),this.o++,0<this.o&&Sh(this)&&jc(Sh(this))},t.Ec=function(e){var n=this;M(this.m,function(t){t==e&&n.o--}),this.o<0&&(this.o=0),0==this.o&&Sh(this)&&Uc(Sh(this)),this.removeAuthTokenListener(e)},t.addAuthTokenListener=function(t){var e=this;this.m.push(t),_h(this,this.i.then(function(){e.l||V(e.m,t)&&t(Nh(e))}))},t.removeAuthTokenListener=function(e){K(this.m,function(t){return t==e})},t.delete=function(){this.l=!0;for(var t=0;t<this.O.length;t++)this.O[t].cancel("app-deleted");return this.O=[],this.h&&(t=this.h).b.removeListener(fh("local"),t.a,this.ma),this.a&&(rc(this.a,this),vc(this.a.b)),Promise.resolve()},t.$b=function(t){return _h(this,function(t,e){return Ns(t,is,{identifier:e,continueUri:yi()?$n():"http://localhost"}).then(function(t){return t.signinMethods||[]})}(this.b,t))},t.qc=function(t){return!!lo(t)},t.lb=function(e,n){var i=this;return _h(this,Yt().then(function(){var t=new ur(n);if(!t.c)throw new Yi("argument-error",lr+" must be true when sending sign in link to email");return br(t)}).then(function(t){return i.b.lb(e,t)}).then(function(){}))},t.Uc=function(t){return this.Ka(t).then(function(t){return t.data.email})},t.$a=function(t,e){return _h(this,this.b.$a(t,e).then(function(){}))},t.Ka=function(t){return _h(this,this.b.Ka(t).then(function(t){return new Fi(t)}))},t.Xa=function(t){return _h(this,this.b.Xa(t).then(function(){}))},t.kb=function(e,t){var n=this;return _h(this,Yt().then(function(){return void 0===t||G(t)?{}:br(new ur(t))}).then(function(t){return n.b.kb(e,t)}).then(function(){}))},t.Kc=function(t,e){return _h(this,Ic(this,t,e,I(this.Ra,this)))},t.Jc=function(n,i){var r=this;return _h(this,Yt().then(function(){var t=i||$n(),e=ho(n,t);if(!(t=lo(t)))throw new Yi("argument-error","Invalid email link!");if(t.tenantId!==r.R())throw new Yi("tenant-id-mismatch");return r.Ra(e)}))},Ph.prototype.render=function(){},Ph.prototype.reset=function(){},Ph.prototype.getResponse=function(){},Ph.prototype.execute=function(){};var Dh=null;function Ch(t,e){return(e=Lh(e))&&t.a[e]||null}function Lh(t){return(t=void 0===t?1e12:t)?t.toString():null}function xh(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=Fn(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():Be(this.f,"click",this.i)}function Mh(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function jh(){}Rh.prototype.render=function(t,e){return this.a[this.b.toString()]=new xh(t,e),this.b++},Rh.prototype.reset=function(t){var e=Ch(this,t);t=Lh(t),e&&t&&(e.delete(),delete this.a[t])},Rh.prototype.getResponse=function(t){return(t=Ch(this,t))?t.getResponse():null},Rh.prototype.execute=function(t){(t=Ch(this,t))&&t.execute()},xh.prototype.getResponse=function(){return Mh(this),this.b},xh.prototype.execute=function(){Mh(this);var n=this;this.a||(this.a=setTimeout(function(){n.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var t=n.c.callback,e=n.c["expired-callback"];if(t)try{t(n.b)}catch(t){}n.a=setTimeout(function(){if(n.a=null,n.b=null,e)try{e()}catch(t){}n.h&&n.execute()},6e4)},500))},xh.prototype.delete=function(){Mh(this),this.g=!0,clearTimeout(this.a),this.a=null,Xe(this.f,"click",this.i)},jh.prototype.g=function(){return Yt(Dh=Dh||new Rh)},jh.prototype.c=function(){};var Uh=null;function Vh(){this.b=l.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Fh=new Y(Z,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Kh=new Oi(3e4,6e4);Vh.prototype.g=function(r){var o=this;return new qt(function(t,e){var i=setTimeout(function(){e(new Yi("network-request-failed"))},Kh.get());!l.grecaptcha||r!==o.f&&!o.b?(l[o.a]=function(){if(l.grecaptcha){o.f=r;var n=l.grecaptcha.render;l.grecaptcha.render=function(t,e){return t=n(t,e),o.b++,t},clearTimeout(i),t(l.grecaptcha)}else clearTimeout(i),e(new Yi("internal-error"));delete l[o.a]},Yt(Ea(nt(Fh,{onload:o.a,hl:r||""}))).s(function(){clearTimeout(i),e(new Yi("internal-error","Unable to load external reCAPTCHA dependencies!"))})):(clearTimeout(i),t(l.grecaptcha))})},Vh.prototype.c=function(){this.b--};var qh=null;function Hh(t,e,n,i,r,o,a){if(Mi(this,"type","recaptcha"),this.c=this.f=null,this.B=!1,this.u=e,this.g=null,a=a?Uh=Uh||new jh:qh=qh||new Vh,this.m=a,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Wh])throw new Yi("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Xh],!l.document)throw new Yi("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!Fn(e)||!this.i&&Fn(e).hasChildNodes())throw new Yi("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.o=new Pa(t,o||null,r||null),this.v=i||function(){return null};var s=this;this.l=[];var u=this.a[Bh];this.a[Bh]=function(t){if(Jh(s,t),"function"==typeof u)u(t);else if("string"==typeof u){var e=mi(u,l);"function"==typeof e&&e(t)}};var c=this.a[Gh];this.a[Gh]=function(){if(Jh(s,null),"function"==typeof c)c();else if("string"==typeof c){var t=mi(c,l);"function"==typeof t&&t()}}}var Bh="callback",Gh="expired-callback",Wh="sitekey",Xh="size";function Jh(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(t){}}function Yh(t,e){return t.h.push(e),e.ka(function(){F(t.h,e)}),e}function zh(t){if(t.B)throw new Yi("internal-error","RecaptchaVerifier instance has been destroyed.")}function $h(t,e,n){var i=!1;try{this.b=n||fl.app()}catch(t){throw new Yi("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new Yi("invalid-api-key");n=this.b.options.apiKey;var r=this,o=null;try{o=this.b.auth().Aa()}catch(t){}try{i=this.b.auth().settings.appVerificationDisabledForTesting}catch(t){}o=fl.SDK_VERSION?pi(fl.SDK_VERSION,o):null,Hh.call(this,n,t,e,function(){try{var e=r.b.auth().ha()}catch(t){e=null}return e},o,Nr(Ar),i)}function Zh(t,e,n,i){t:{n=Array.prototype.slice.call(n);for(var r=0,o=!1,a=0;a<e.length;a++)if(e[a].optional)o=!0;else{if(o)throw new Yi("internal-error","Argument validator encountered a required argument after an optional argument.");r++}if(o=e.length,n.length<r||o<n.length)i="Expected "+(r==o?1==r?"1 argument":r+" arguments":r+"-"+o+" arguments")+" but got "+n.length+".";else{for(r=0;r<n.length;r++)if(o=e[r].optional&&void 0===n[r],!e[r].N(n[r])&&!o){if(e=e[r],r<0||r>=Qh.length)throw new Yi("internal-error","Argument validator received an unsupported number of arguments.");n=Qh[r],i=(i?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.M+".";break t}i=null}}if(i)throw new Yi("argument-error",t+" failed: "+i)}(t=Hh.prototype).Ba=function(){var e=this;return this.f?this.f:this.f=Yh(this,Yt().then(function(){if(yi()&&!si())return ri();throw new Yi("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return e.m.g(e.v())}).then(function(t){return e.g=t,Ns(e.o,ds,{})}).then(function(t){e.a[Wh]=t.recaptchaSiteKey}).s(function(t){throw e.f=null,t}))},t.render=function(){zh(this);var n=this;return Yh(this,this.Ba().then(function(){if(null===n.c){var t=n.u;if(!n.i){var e=Fn(t);t=Hn("DIV"),e.appendChild(t)}n.c=n.g.render(t,n.a)}return n.c}))},t.verify=function(){zh(this);var r=this;return Yh(this,this.render().then(function(i){return new qt(function(e){var t=r.g.getResponse(i);if(t)e(t);else{var n=function(t){t&&(function(t,e){K(t.l,function(t){return t==e})}(r,n),e(t))};r.l.push(n),r.i&&r.g.execute(r.c)}})}))},t.reset=function(){zh(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){zh(this),this.B=!0,this.m.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=Fn(this.u);for(var e;e=t.firstChild;)t.removeChild(e)}},k($h,Hh);var Qh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function tl(t,e){return{name:t||"",M:"a valid string",optional:!!e,N:h}}function el(t,e){return{name:t||"",M:"a boolean",optional:!!e,N:n}}function nl(t,e){return{name:t||"",M:"a valid object",optional:!!e,N:g}}function il(t,e){return{name:t||"",M:"a function",optional:!!e,N:m}}function rl(t,e){return{name:t||"",M:"null",optional:!!e,N:r}}function ol(n){return{name:n?n+"Credential":"credential",M:n?"a valid "+n+" credential":"a valid credential",optional:!1,N:function(t){if(!t)return!1;var e=!n||t.providerId===n;return!(!t.na||!e)}}}function al(){return{name:"applicationVerifier",M:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,N:function(t){return!!(t&&h(t.type)&&m(t.verify))}}}function sl(e,n,t,i){return{name:t||"",M:e.M+" or "+n.M,optional:!!i,N:function(t){return e.N(t)||n.N(t)}}}function ul(t,e){for(var n in e){var i=e[n].name;t[i]=ll(i,t[n],e[n].j)}}function cl(t,e){for(var n in e){var i=e[n].name;i!==n&&Object.defineProperty(t,i,{get:T(function(t){return this[t]},n),set:T(function(t,e,n,i){Zh(t,[n],[i],!0),this[e]=i},i,n,e[n].Ya),enumerable:!0})}}function hl(t,e,n,i){t[e]=ll(e,n,i)}function ll(t,e,n){function i(){var t=Array.prototype.slice.call(arguments);return Zh(o,n,t),e.apply(this,t)}if(!n)return e;var r,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(r in e)i[r]=e[r];for(r in e.prototype)i.prototype[r]=e.prototype[r];return i}ul(gh.prototype,{Xa:{name:"applyActionCode",j:[tl("code")]},Ka:{name:"checkActionCode",j:[tl("code")]},$a:{name:"confirmPasswordReset",j:[tl("code"),tl("newPassword")]},Xb:{name:"createUserWithEmailAndPassword",j:[tl("email"),tl("password")]},$b:{name:"fetchSignInMethodsForEmail",j:[tl("email")]},oa:{name:"getRedirectResult",j:[]},qc:{name:"isSignInWithEmailLink",j:[tl("emailLink")]},wc:{name:"onAuthStateChanged",j:[sl(nl(),il(),"nextOrObserver"),il("opt_error",!0),il("opt_completed",!0)]},xc:{name:"onIdTokenChanged",j:[sl(nl(),il(),"nextOrObserver"),il("opt_error",!0),il("opt_completed",!0)]},kb:{name:"sendPasswordResetEmail",j:[tl("email"),sl(nl("opt_actionCodeSettings",!0),rl(null,!0),"opt_actionCodeSettings",!0)]},lb:{name:"sendSignInLinkToEmail",j:[tl("email"),nl("actionCodeSettings")]},mb:{name:"setPersistence",j:[tl("persistence")]},Gc:{name:"signInAndRetrieveDataWithCredential",j:[ol()]},ob:{name:"signInAnonymously",j:[]},Ra:{name:"signInWithCredential",j:[ol()]},Hc:{name:"signInWithCustomToken",j:[tl("token")]},Ic:{name:"signInWithEmailAndPassword",j:[tl("email"),tl("password")]},Jc:{name:"signInWithEmailLink",j:[tl("email"),tl("emailLink",!0)]},Kc:{name:"signInWithPhoneNumber",j:[tl("phoneNumber"),al()]},Lc:{name:"signInWithPopup",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Mc:{name:"signInWithRedirect",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Rc:{name:"updateCurrentUser",j:[sl({name:"user",M:"an instance of Firebase User",optional:!1,N:function(t){return!!(t&&t instanceof Dc)}},rl(),"user")]},pb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[tl(null,!0)]},Tc:{name:"useDeviceLanguage",j:[]},Uc:{name:"verifyPasswordResetCode",j:[tl("code")]}}),cl(gh.prototype,{lc:{name:"languageCode",Ya:sl(tl(),rl(),"languageCode")},ti:{name:"tenantId",Ya:sl(tl(),rl(),"tenantId")}}),(gh.Persistence=Tu).LOCAL="local",gh.Persistence.SESSION="session",gh.Persistence.NONE="none",ul(Dc.prototype,{delete:{name:"delete",j:[]},dc:{name:"getIdTokenResult",j:[el("opt_forceRefresh",!0)]},G:{name:"getIdToken",j:[el("opt_forceRefresh",!0)]},rc:{name:"linkAndRetrieveDataWithCredential",j:[ol()]},eb:{name:"linkWithCredential",j:[ol()]},sc:{name:"linkWithPhoneNumber",j:[tl("phoneNumber"),al()]},tc:{name:"linkWithPopup",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},uc:{name:"linkWithRedirect",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Ac:{name:"reauthenticateAndRetrieveDataWithCredential",j:[ol()]},gb:{name:"reauthenticateWithCredential",j:[ol()]},Bc:{name:"reauthenticateWithPhoneNumber",j:[tl("phoneNumber"),al()]},Cc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Dc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},jb:{name:"sendEmailVerification",j:[sl(nl("opt_actionCodeSettings",!0),rl(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[tl(null,!0)]},Qc:{name:"unlink",j:[tl("provider")]},rb:{name:"updateEmail",j:[tl("email")]},sb:{name:"updatePassword",j:[tl("password")]},Sc:{name:"updatePhoneNumber",j:[ol("phone")]},tb:{name:"updateProfile",j:[nl("profile")]}}),ul(Rh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),ul(Ph.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),ul(qt.prototype,{ka:{name:"finally"},s:{name:"catch"},then:{name:"then"}}),cl(yc.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",Ya:el("appVerificationDisabledForTesting")}}),ul(wc.prototype,{confirm:{name:"confirm",j:[tl("verificationCode")]}}),hl(qr,"fromJSON",function(t){t=h(t)?JSON.parse(t):t;for(var e,n=[Yr,uo,po,Wr],i=0;i<n.length;i++)if(e=n[i](t))return e;return null},[sl(tl(),nl(),"json")]),hl(co,"credential",function(t,e){return new so(t,e)},[tl("email"),tl("password")]),ul(so.prototype,{A:{name:"toJSON",j:[tl(null,!0)]}}),ul(Qr.prototype,{wa:{name:"addScope",j:[tl("scope")]},Ea:{name:"setCustomParameters",j:[nl("customOAuthParameters")]}}),hl(Qr,"credential",to,[sl(tl(),nl(),"token")]),hl(co,"credentialWithLink",ho,[tl("email"),tl("emailLink")]),ul(eo.prototype,{wa:{name:"addScope",j:[tl("scope")]},Ea:{name:"setCustomParameters",j:[nl("customOAuthParameters")]}}),hl(eo,"credential",no,[sl(tl(),nl(),"token")]),ul(io.prototype,{wa:{name:"addScope",j:[tl("scope")]},Ea:{name:"setCustomParameters",j:[nl("customOAuthParameters")]}}),hl(io,"credential",ro,[sl(tl(),sl(nl(),rl()),"idToken"),sl(tl(),rl(),"accessToken",!0)]),ul(oo.prototype,{Ea:{name:"setCustomParameters",j:[nl("customOAuthParameters")]}}),hl(oo,"credential",ao,[sl(tl(),nl(),"token"),tl("secret",!0)]),ul(Zr.prototype,{wa:{name:"addScope",j:[tl("scope")]},credential:{name:"credential",j:[sl(tl(),sl(nl(),rl()),"optionsOrIdToken"),sl(tl(),rl(),"accessToken",!0)]},Ea:{name:"setCustomParameters",j:[nl("customOAuthParameters")]}}),ul(Xr.prototype,{A:{name:"toJSON",j:[tl(null,!0)]}}),ul(Br.prototype,{A:{name:"toJSON",j:[tl(null,!0)]}}),hl(mo,"credential",go,[tl("verificationId"),tl("verificationCode")]),ul(mo.prototype,{Va:{name:"verifyPhoneNumber",j:[tl("phoneNumber"),al()]}}),ul(fo.prototype,{A:{name:"toJSON",j:[tl(null,!0)]}}),ul(Yi.prototype,{toJSON:{name:"toJSON",j:[tl(null,!0)]}}),ul(So.prototype,{toJSON:{name:"toJSON",j:[tl(null,!0)]}}),ul(Ao.prototype,{toJSON:{name:"toJSON",j:[tl(null,!0)]}}),ul($h.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),hl(Qi,"parseLink",sr,[tl("link")]),function(){if(void 0===fl||!fl.INTERNAL||!fl.INTERNAL.registerService)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Ki,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:gh,AuthCredential:qr,Error:Yi};hl(t,"EmailAuthProvider",co,[]),hl(t,"FacebookAuthProvider",Qr,[]),hl(t,"GithubAuthProvider",eo,[]),hl(t,"GoogleAuthProvider",io,[]),hl(t,"TwitterAuthProvider",oo,[]),hl(t,"OAuthProvider",Zr,[tl("providerId")]),hl(t,"SAMLAuthProvider",$r,[tl("providerId")]),hl(t,"PhoneAuthProvider",mo,[{name:"auth",M:"an instance of Firebase Auth",optional:!0,N:function(t){return!!(t&&t instanceof gh)}}]),hl(t,"RecaptchaVerifier",$h,[sl(tl(),{name:"",M:"an HTML element",optional:!1,N:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),nl("recaptchaParameters",!0),{name:"app",M:"an instance of Firebase App",optional:!0,N:function(t){return!!(t&&t instanceof fl.app.App)}}]),hl(t,"ActionCodeURL",Qi,[]),fl.INTERNAL.registerService("auth",function(t,e){return e({INTERNAL:{getUid:I((t=new gh(t)).getUid,t),getToken:I(t.cc,t),addAuthTokenListener:I(t.Wb,t),removeAuthTokenListener:I(t.Ec,t)}}),t},t,function(t,e){if("create"===t)try{e.auth()}catch(t){}}),fl.INTERNAL.extendNamespace({User:Dc})}()}.apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})}).apply(this,arguments)}catch(t){throw console.error(t),new Error("Cannot instantiate firebase-auth - be sure to load firebase-app.js first.")}});
//# sourceMappingURL=firebase-auth.js.map
</script>
<script>
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(require("@firebase/app")):"function"==typeof define&&define.amd?define(["@firebase/app"],e):e((t=t||self).firebase)}(this,function(Vp){"use strict";try{(function(){Vp=Vp&&Vp.hasOwnProperty("default")?Vp.default:Vp;var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function t(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o,e,l=function(){return(l=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function d(o,a,s,u){return new(s=s||Promise)(function(t,e){function n(t){try{i(u.next(t))}catch(t){e(t)}}function r(t){try{i(u.throw(t))}catch(t){e(t)}}function i(e){e.done?t(e.value):new s(function(t){t(e.value)}).then(n,r)}i((u=u.apply(o,a||[])).next())})}function p(n,r){var i,o,a,t,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return t={next:e(0),throw:e(1),return:e(2)},"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(e){return function(t){return function(e){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,o&&(a=2&e[0]?o.return:e[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,e[1])).done)return a;switch(o=0,a&&(e=[2&e[0],a.value]),e[0]){case 0:case 1:a=e;break;case 4:return s.label++,{value:e[1],done:!1};case 5:s.label++,o=e[1],e=[0];continue;case 7:e=s.ops.pop(),s.trys.pop();continue;default:if(!(a=0<(a=s.trys).length&&a[a.length-1])&&(6===e[0]||2===e[0])){s=0;continue}if(3===e[0]&&(!a||e[1]>a[0]&&e[1]<a[3])){s.label=e[1];break}if(6===e[0]&&s.label<a[1]){s.label=a[1],a=e;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(e);break}a[2]&&s.ops.pop(),s.trys.pop();continue}e=r.call(n,s)}catch(t){e=[6,t],o=0}finally{i=a=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,t])}}}function a(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function s(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}(e=o=o||{})[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT";function n(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var i=(new Date).toISOString();switch(e){case o.DEBUG:case o.VERBOSE:console.log.apply(console,s(["["+i+"]  "+t.name+":"],n));break;case o.INFO:console.info.apply(console,s(["["+i+"]  "+t.name+":"],n));break;case o.WARN:console.warn.apply(console,s(["["+i+"]  "+t.name+":"],n));break;case o.ERROR:console.error.apply(console,s(["["+i+"]  "+t.name+":"],n));break;default:throw new Error("Attempted to log a message with an invalid logType (value: "+e+")")}}}var i=o.INFO,u=(Object.defineProperty(c.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in o))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=t},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!0,configurable:!0}),c.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,s([this,o.DEBUG],t))},c.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,s([this,o.VERBOSE],t))},c.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,s([this,o.INFO],t))},c.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,s([this,o.WARN],t))},c.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,s([this,o.ERROR],t))},c);function c(t){this.name=t,this._logLevel=i,this._logHandler=n}function h(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}var f,m=(t(y,f=Error),y);function y(t,e){var n=f.call(this,e)||this;return n.code=t,n.name="FirebaseError",Object.setPrototypeOf(n,y.prototype),Error.captureStackTrace&&Error.captureStackTrace(n,g.prototype.create),n}var g=(v.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],a=o?function(t,r){return t.replace(w,function(t,e){var n=r[e];return null!=n?n.toString():"<"+e+"?>"})}(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new m(i,s),c=0,h=Object.keys(r);c<h.length;c++){var l=h[c];"_"!==l.slice(-1)&&(l in u&&console.warn('Overwriting FirebaseError base field "'+l+'" can cause unexpected behavior.'),u[l]=r[l])}return u},v);function v(t,e,n){this.service=t,this.serviceName=e,this.errors=n}var b,w=/\{\$([^}]+)}/g,S="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},T=T||{},E=S;function I(t){return"string"==typeof t}function C(t){return"number"==typeof t}function D(t,e){t=t.split("."),e=e||E;for(var n=0;n<t.length;n++)if(null==(e=e[t[n]]))return null;return e}function N(){}function A(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function k(t){return"array"==A(t)}function R(t){var e=A(t);return"array"==e||"object"==e&&"number"==typeof t.length}function M(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var O="closure_uid_"+(1e9*Math.random()>>>0),_=0;function L(t,e,n){return t.call.apply(t.bind,arguments)}function P(e,n,t){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var t=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(t,r),e.apply(n,t)}}return function(){return e.apply(n,arguments)}}function x(t,e,n){return(x=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?L:P).apply(null,arguments)}function q(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}var F=Date.now||function(){return+new Date};function V(t,o){function e(){}e.prototype=o.prototype,t.N=o.prototype,t.prototype=new e,(t.prototype.constructor=t).yb=function(t,e,n){for(var r=Array(arguments.length-2),i=2;i<arguments.length;i++)r[i-2]=arguments[i];return o.prototype[e].apply(t,r)}}function B(){this.j=this.j,this.i=this.i}B.prototype.j=!1,B.prototype.la=function(){if(!this.j&&(this.j=!0,this.G(),0))this[O]||(this[O]=++_)},B.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var U=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(I(t))return I(e)&&1==e.length?t.indexOf(e,0):-1;for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Q=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i=I(t)?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function K(t){return Array.prototype.concat.apply([],arguments)}function j(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function W(t){return/^[\s\xa0]*$/.test(t)}var G,z=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function H(t,e){return-1!=t.indexOf(e)}function Y(t,e){return t<e?-1:e<t?1:0}t:{var X=E.navigator;if(X){var J=X.userAgent;if(J){G=J;break t}}G=""}function Z(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function $(t){var e,n={};for(e in t)n[e]=t[e];return n}var tt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function et(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<tt.length;o++)n=tt[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function nt(t){return nt[" "](t),t}nt[" "]=N;var rt,it,ot=H(G,"Opera"),at=H(G,"Trident")||H(G,"MSIE"),st=H(G,"Edge"),ut=st||at,ct=H(G,"Gecko")&&!(H(G.toLowerCase(),"webkit")&&!H(G,"Edge"))&&!(H(G,"Trident")||H(G,"MSIE"))&&!H(G,"Edge"),ht=H(G.toLowerCase(),"webkit")&&!H(G,"Edge");function lt(){var t=E.document;return t?t.documentMode:void 0}t:{var ft="",dt=(it=G,ct?/rv:([^\);]+)(\)|;)/.exec(it):st?/Edge\/([\d\.]+)/.exec(it):at?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(it):ht?/WebKit\/(\S+)/.exec(it):ot?/(?:Version)[ \/]?(\S+)/.exec(it):void 0);if(dt&&(ft=dt?dt[1]:""),at){var pt=lt();if(null!=pt&&pt>parseFloat(ft)){rt=String(pt);break t}}rt=ft}var mt,yt={};function gt(s){return function(t,e){var n=yt;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(s,function(){for(var t=0,e=z(String(rt)).split("."),n=z(String(s)).split("."),r=Math.max(e.length,n.length),i=0;0==t&&i<r;i++){var o=e[i]||"",a=n[i]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;t=Y(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||Y(0==o[2].length,0==a[2].length)||Y(o[2],a[2]),o=o[3],a=a[3]}while(0==t)}return 0<=t})}var vt=E.document;mt=vt&&at?lt()||("CSS1Compat"==vt.compatMode?parseInt(rt,10):5):void 0;var bt=!at||9<=Number(mt),wt=at&&!gt("9"),St=function(){if(!E.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{E.addEventListener("test",N,e),E.removeEventListener("test",N,e)}catch(t){}return t}();function Tt(t,e){this.type=t,this.a=this.target=e,this.Ja=!0}function Et(t,e){if(Tt.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(ct){t:{try{nt(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=I(t.pointerType)?t.pointerType:It[t.pointerType]||"",(this.c=t).defaultPrevented&&this.b()}}Tt.prototype.b=function(){this.Ja=!1},V(Et,Tt);var It={2:"touch",3:"pen",4:"mouse"};Et.prototype.b=function(){Et.N.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,wt)try{(t.ctrlKey||112<=t.keyCode&&t.keyCode<=123)&&(t.keyCode=-1)}catch(t){}};var Ct="closure_listenable_"+(1e6*Math.random()|0),Dt=0;function Nt(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.da=i,this.key=++Dt,this.X=this.Z=!1}function At(t){t.X=!0,t.listener=null,t.proxy=null,t.src=null,t.da=null}function kt(t){this.src=t,this.a={},this.b=0}function Rt(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=U(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(At(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function Mt(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.X&&o.listener==e&&o.capture==!!n&&o.da==r)return i}return-1}kt.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=Mt(t,e,r,i);return-1<a?(e=t[a],n||(e.Z=!1)):((e=new Nt(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var Ot="closure_lm_"+(1e6*Math.random()|0),_t={};function Lt(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,o){if(k(n)){for(var a=0;a<n.length;a++)t(e,n[a],r,i,o);return null}r=Qt(r);return e&&e[Ct]?e.Ba(n,r,M(i)?!!i.capture:!!i,o):Pt(e,n,r,!0,i,o)}(t,e,n,r,i);if(k(e)){for(var o=0;o<e.length;o++)Lt(t,e[o],n,r,i);return null}return n=Qt(n),t&&t[Ct]?t.Aa(e,n,M(r)?!!r.capture:!!r,i):Pt(t,e,n,!1,r,i)}function Pt(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=M(i)?!!i.capture:!!i;if(a&&!bt)return null;var s=Bt(t);if(s||(t[Ot]=s=new kt(t)),(n=s.add(e,n,r,a,o)).proxy)return n;if(r=function(){var e=Vt,n=bt?function(t){return e.call(n.src,n.listener,t)}:function(t){if(!(t=e.call(n.src,n.listener,t)))return t};return n}(),(n.proxy=r).src=t,r.listener=n,t.addEventListener)St||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(qt(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function xt(t){if(!C(t)&&t&&!t.X){var e=t.src;if(e&&e[Ct])Rt(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(qt(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Bt(e))?(Rt(n,t),0==n.b&&(n.src=null,e[Ot]=null)):At(t)}}}function qt(t){return t in _t?_t[t]:_t[t]="on"+t}function Ft(t,e){var n=t.listener,r=t.da||t.src;return t.Z&&xt(t),n.call(r,e)}function Vt(t,e){return!!t.X||(bt?Ft(t,new Et(e,this)):Ft(t,e=new Et(e||D("window.event"),this)))}function Bt(t){return(t=t[Ot])instanceof kt?t:null}var Ut="__closure_events_fn_"+(1e9*Math.random()>>>0);function Qt(e){return"function"==A(e)?e:(e[Ut]||(e[Ut]=function(t){return e.handleEvent(t)}),e[Ut])}function Kt(){B.call(this),this.c=new kt(this),(this.J=this).B=null}function jt(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.X&&a.capture==n){var s=a.listener,u=a.da||a.src;a.Z&&Rt(t.c,a),i=!1!==s.call(u,r)&&i}}return i&&0!=r.Ja}V(Kt,B),Kt.prototype[Ct]=!0,(b=Kt.prototype).addEventListener=function(t,e,n,r){Lt(this,t,e,n,r)},b.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,o){if(k(n))for(var a=0;a<n.length;a++)t(e,n[a],r,i,o);else i=M(i)?!!i.capture:!!i,r=Qt(r),e&&e[Ct]?(e=e.c,(n=String(n).toString())in e.a&&-1<(r=Mt(a=e.a[n],r,i,o))&&(At(a[r]),Array.prototype.splice.call(a,r,1),0==a.length&&(delete e.a[n],e.b--))):(e=e&&Bt(e))&&(n=e.a[n.toString()],e=-1,n&&(e=Mt(n,r,i,o)),(r=-1<e?n[e]:null)&&xt(r))}(this,t,e,n,r)},b.dispatchEvent=function(t){var e,n=this.B;if(n)for(e=[];n;n=n.B)e.push(n);n=this.J;var r=t.type||t;if(I(t))t=new Tt(t,n);else if(t instanceof Tt)t.target=t.target||n;else{var i=t;et(t=new Tt(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var a=t.a=e[o];i=jt(a,r,!0,t)&&i}if(i=jt(a=t.a=n,r,!0,t)&&i,i=jt(a,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=jt(a=t.a=e[o],r,!1,t)&&i;return i},b.G=function(){if(Kt.N.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)At(n[r]);delete e.a[t],e.b--}}this.B=null},b.Aa=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},b.Ba=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var Wt=E.JSON.stringify;function Gt(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function zt(){this.b=this.a=null}Gt.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var Ht,Yt=new Gt(function(){return new Xt},function(t){t.reset()});function Xt(){this.next=this.b=this.a=null}function Jt(t){E.setTimeout(function(){throw t},0)}function Zt(t,e){Ht||function(){var t=E.Promise.resolve(void 0);Ht=function(){t.then(ee)}}(),$t||(Ht(),$t=!0),te.add(t,e)}zt.prototype.add=function(t,e){var n=Yt.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Xt.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null};var $t=!(Xt.prototype.reset=function(){this.next=this.b=this.a=null}),te=new zt;function ee(){for(var t;r=n=void 0,r=null,(n=te).a&&(r=n.a,n.a=n.a.next,n.a||(n.b=null),r.next=null),t=r;){try{t.a.call(t.b)}catch(t){Jt(t)}var e=Yt;e.f(t),e.b<100&&(e.b++,t.next=e.a,e.a=t)}var n,r;$t=!1}function ne(t,e){Kt.call(this),this.b=t||1,this.a=e||E,this.f=x(this.gb,this),this.g=F()}function re(t){t.ba=!1,t.L&&(t.a.clearTimeout(t.L),t.L=null)}function ie(t,e,n){if("function"==A(t))n&&(t=x(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=x(t.handleEvent,t)}return 2147483647<Number(e)?-1:E.setTimeout(t,e||0)}function oe(t,e,n){B.call(this),this.f=null!=n?x(t,n):t,this.c=e,this.b=x(this.ab,this),this.a=[]}function ae(t){t.U=ie(t.b,t.c),t.f.apply(null,t.a)}function se(t){B.call(this),this.b=t,this.a={}}V(ne,Kt),(b=ne.prototype).ba=!1,b.L=null,b.gb=function(){if(this.ba){var t=F()-this.g;0<t&&t<.8*this.b?this.L=this.a.setTimeout(this.f,this.b-t):(this.L&&(this.a.clearTimeout(this.L),this.L=null),this.dispatchEvent("tick"),this.ba&&(re(this),this.start()))}},b.start=function(){this.ba=!0,this.L||(this.L=this.a.setTimeout(this.f,this.b),this.g=F())},b.G=function(){ne.N.G.call(this),re(this),delete this.a},V(oe,B),(b=oe.prototype).ea=!1,b.U=null,b.Ua=function(t){this.a=arguments,this.U?this.ea=!0:ae(this)},b.G=function(){oe.N.G.call(this),this.U&&(E.clearTimeout(this.U),this.U=null,this.ea=!1,this.a=[])},b.ab=function(){this.U=null,this.ea&&(this.ea=!1,ae(this))},V(se,B);var ue=[];function ce(t,e,n,r){k(n)||(n&&(ue[0]=n.toString()),n=ue);for(var i=0;i<n.length;i++){var o=Lt(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function he(t){Z(t.a,function(t,e){this.a.hasOwnProperty(e)&&xt(t)},t),t.a={}}function le(){}se.prototype.G=function(){se.N.G.call(this),he(this)},se.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var fe=new Kt;function de(t){Tt.call(this,"serverreachability",t)}function pe(t){fe.dispatchEvent(new de(fe,t))}function me(t){Tt.call(this,"statevent",t)}function ye(t){fe.dispatchEvent(new me(fe,t))}function ge(t){Tt.call(this,"timingevent",t)}function ve(t,e){if("function"!=A(t))throw Error("Fn must not be null and must be a function");return E.setTimeout(function(){t()},e)}V(de,Tt),V(me,Tt),V(ge,Tt);var be={NO_ERROR:0,hb:1,ob:2,nb:3,kb:4,mb:5,pb:6,Ma:7,TIMEOUT:8,sb:9},we={jb:"complete",wb:"success",Na:"error",Ma:"abort",ub:"ready",vb:"readystatechange",TIMEOUT:"timeout",qb:"incrementaldata",tb:"progress",lb:"downloadprogress",xb:"uploadprogress"};function Se(){}function Te(t){var e;return(e=t.a)||(e=t.a={}),e}function Ee(){}Se.prototype.a=null;var Ie,Ce={OPEN:"a",ib:"b",Na:"c",rb:"d"};function De(){Tt.call(this,"d")}function Ne(){Tt.call(this,"c")}function Ae(){}function ke(t,e,n){this.g=t,this.W=e,this.V=n||1,this.I=new se(this),this.O=Re,t=ut?125:void 0,this.P=new ne(t),this.h=null,this.b=!1,this.l=this.D=this.f=this.F=this.v=this.R=this.i=null,this.j=[],this.a=null,this.A=0,this.c=this.w=null,this.o=-1,this.m=!1,this.J=0,this.B=null,this.s=this.S=this.H=!1}V(De,Tt),V(Ne,Tt),V(Ae,Se),Ie=new Ae;var Re=45e3,Me={},Oe={};function _e(t,e,n){t.F=1,t.f=on(Je(e)),t.l=n,t.H=!0,Pe(t,null)}function Le(t,e,n,r){t.F=1,t.f=on(Je(e)),t.l=null,t.H=n,Pe(t,r)}function Pe(t,e){t.v=F(),Fe(t),t.D=Je(t.f),rn(t.D,"t",t.V),t.A=0,t.a=t.g.$(t.g.Y()?e:null),0<t.J&&(t.B=new oe(x(t.Ka,t,t.a),t.J)),ce(t.I,t.a,"readystatechange",t.eb),e=t.h?$(t.h):{},t.l?(t.w||(t.w="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ca(t.D,t.w,t.l,e)):(t.w="GET",t.a.ca(t.D,t.w,null,e)),pe(1)}function xe(t,e,n){for(var r=!0;!t.m&&t.A<n.length;){var i=qe(t,n);if(i==Oe){4==e&&(t.c=4,ye(14),r=!1);break}if(i==Me){t.c=4,ye(15),r=!1;break}Ke(t,i)}4==e&&0==n.length&&(t.c=1,ye(16),r=!1),t.b=t.b&&r,r||(Qe(t),Ue(t))}function qe(t,e){var n=t.A,r=e.indexOf("\n",n);return-1==r?Oe:(n=Number(e.substring(n,r)),isNaN(n)?Me:(r+=1)+n>e.length?Oe:(e=e.substr(r,n),t.A=r+n,e))}function Fe(t){t.R=F()+t.O,Ve(t,t.O)}function Ve(t,e){if(null!=t.i)throw Error("WatchDog timer not null");t.i=ve(x(t.bb,t),e)}function Be(t){t.i&&(E.clearTimeout(t.i),t.i=null)}function Ue(t){t.g.Da()||t.m||t.g.na(t)}function Qe(t){Be(t);var e=t.B;e&&"function"==typeof e.la&&e.la(),t.B=null,re(t.P),he(t.I),t.a&&(e=t.a,t.a=null,e.abort(),e.la())}function Ke(t,e){try{t.g.Ga(t,e),pe(4)}catch(t){}}function je(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(R(t)||I(t))Q(t,e,void 0);else{if(t.K&&"function"==typeof t.K)var n=t.K();else if(t.C&&"function"==typeof t.C)n=void 0;else if(R(t)||I(t)){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.C&&"function"==typeof t.C)return t.C();if(I(t))return t.split("");if(R(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function We(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof We)for(n=t.K(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Ge(t,e){He(t.b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&ze(t))}function ze(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];He(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)He(i,r=t.a[e])||(i[t.a[n++]=r]=1),e++;t.a.length=n}}function He(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(b=ke.prototype).setTimeout=function(t){this.O=t},b.eb=function(t){t=t.target;var e=this.B;e&&3==Jn(t)?e.Ua():this.Ka(t)},b.Ka=function(t){try{if(t==this.a)t:{var e=Jn(this.a),n=this.a.ya(),r=this.a.T();if(!(e<3||3==e&&!ut&&!this.a.aa())){this.m||4!=e||7==n||pe(8==n||r<=0?3:2),Be(this);var i=this.a.T();this.o=i;var o=this.a.aa();if(this.b=200==i){if(this.S&&!this.s){e:{if(this.a){var a=Zn(this.a,"X-HTTP-Initial-Response");if(a&&!W(a)){var s=a;break e}}s=null}if(!s){this.b=!1,this.c=3,ye(12),Qe(this),Ue(this);break t}this.s=!0,Ke(this,s)}this.H?(xe(this,e,o),ut&&this.b&&3==e&&(ce(this.I,this.P,"tick",this.cb),this.P.start())):Ke(this,o),4==e&&Qe(this),this.b&&!this.m&&(4==e?this.g.na(this):(this.b=!1,Fe(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.c=3,ye(12)):(this.c=0,ye(13)),Qe(this),Ue(this)}}}catch(t){}},b.cb=function(){if(this.a){var t=Jn(this.a),e=this.a.aa();this.A<e.length&&(Be(this),xe(this,t,e),this.b&&4!=t&&Fe(this))}},b.cancel=function(){this.m=!0,Qe(this)},b.bb=function(){this.i=null;var t=F();0<=t-this.R?(2!=this.F&&(pe(3),ye(17)),Qe(this),this.c=2,Ue(this)):Ve(this,this.R-t)},(b=We.prototype).C=function(){ze(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},b.K=function(){return ze(this),this.a.concat()},b.get=function(t,e){return He(this.b,t)?this.b[t]:e},b.set=function(t,e){He(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},b.forEach=function(t,e){for(var n=this.K(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Ye=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Xe(t,e){var n;this.b=this.j=this.f="",this.i=null,this.g=this.a="",this.h=!1,t instanceof Xe?(this.h=void 0!==e?e:t.h,Ze(this,t.f),this.j=t.j,$e(this,t.b),tn(this,t.i),this.a=t.a,en(this,bn(t.c)),this.g=t.g):t&&(n=String(t).match(Ye))?(this.h=!!e,Ze(this,n[1]||"",!0),this.j=an(n[2]||""),$e(this,n[3]||"",!0),tn(this,n[4]),this.a=an(n[5]||"",!0),en(this,n[6]||"",!0),this.g=an(n[7]||"")):(this.h=!!e,this.c=new pn(null,this.h))}function Je(t){return new Xe(t)}function Ze(t,e,n){t.f=n?an(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function $e(t,e,n){t.b=n?an(e,!0):e}function tn(t,e){if(e){if(e=Number(e),isNaN(e)||e<0)throw Error("Bad port number "+e);t.i=e}else t.i=null}function en(t,e,n){e instanceof pn?(t.c=e,function(t,e){e&&!t.f&&(mn(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(yn(this,e),vn(this,n,t))},t)),t.f=e}(t.c,t.h)):(n||(e=sn(e,fn)),t.c=new pn(e,t.h))}function nn(t,e,n){t.c.set(e,n)}function rn(t,e,n){k(n)||(n=[String(n)]),vn(t.c,e,n)}function on(t){return nn(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^F()).toString(36)),t}function an(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function sn(t,e,n){return I(t)?(t=encodeURI(t).replace(e,un),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function un(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Xe.prototype.toString=function(){var t=[],e=this.f;e&&t.push(sn(e,cn,!0),":");var n=this.b;return!n&&"file"!=e||(t.push("//"),(e=this.j)&&t.push(sn(e,cn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.i)&&t.push(":",String(n))),(n=this.a)&&(this.b&&"/"!=n.charAt(0)&&t.push("/"),t.push(sn(n,"/"==n.charAt(0)?ln:hn,!0))),(n=this.c.toString())&&t.push("?",n),(n=this.g)&&t.push("#",sn(n,dn)),t.join("")},Xe.prototype.resolve=function(t){var e=Je(this),n=!!t.f;n?Ze(e,t.f):n=!!t.j,n?e.j=t.j:n=!!t.b,n?$e(e,t.b):n=null!=t.i;var r=t.a;if(n)tn(e,t.i);else if(n=!!t.a){if("/"!=r.charAt(0))if(this.b&&!this.a)r="/"+r;else{var i=e.a.lastIndexOf("/");-1!=i&&(r=e.a.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(H(i,"./")||H(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?e.a=r:n=""!==t.c.toString(),n?en(e,bn(t.c)):n=!!t.g,n&&(e.g=t.g),e};var cn=/[#\/\?@]/g,hn=/[#\?:]/g,ln=/[#\?]/g,fn=/[#\?@]/g,dn=/#/g;function pn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function mn(n){n.a||(n.a=new We,n.b=0,n.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.c,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function yn(t,e){mn(t),e=wn(t,e),He(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Ge(t.a,e))}function gn(t,e){return mn(t),e=wn(t,e),He(t.a.b,e)}function vn(t,e,n){yn(t,e),0<n.length&&(t.c=null,t.a.set(wn(t,e),j(n)),t.b+=n.length)}function bn(t){var e=new pn;return e.c=t.c,t.a&&(e.a=new We(t.a),e.b=t.b),e}function wn(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function Sn(t){this.a=t,this.b=this.h=null,this.g=!1,this.i=null,this.c=-1,this.l=this.f=null}function Tn(t){var e=t.a.F.a;if(null!=e)ye(4),e?(ye(10),hr(t.a,t,!1)):(ye(11),hr(t.a,t,!0));else{t.b=new ke(t,void 0,void 0),t.b.h=t.h,e=mr(e=t.a,e.Y()?t.f:null,t.i),ye(4),rn(e,"TYPE","xmlhttp");var n=t.a.j,r=t.a.I;n&&r&&nn(e,n,r),Le(t.b,e,!1,t.f)}}function En(){this.a=this.b=null}function In(){this.a=new We}function Cn(t){var e=typeof t;return"object"==e&&t||"function"==e?"o"+(t[O]||(t[O]=++_)):e.charAt(0)+t}function Dn(t,e){this.b=t,this.a=e}function Nn(t){this.g=t||An,t=E.PerformanceNavigationTiming?0<(t=E.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(E.ka&&E.ka.Ea&&E.ka.Ea()&&E.ka.Ea().zb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new In),this.b=null,this.c=[]}(b=pn.prototype).add=function(t,e){mn(this),this.c=null,t=wn(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},b.forEach=function(n,r){mn(this),this.a.forEach(function(t,e){Q(t,function(t){n.call(r,t,e,this)},this)},this)},b.K=function(){mn(this);for(var t=this.a.C(),e=this.a.K(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},b.C=function(t){mn(this);var e=[];if(I(t))gn(this,t)&&(e=K(e,this.a.get(wn(this,t))));else{t=this.a.C();for(var n=0;n<t.length;n++)e=K(e,t[n])}return e},b.set=function(t,e){return mn(this),this.c=null,gn(this,t=wn(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},b.get=function(t,e){return t&&0<(t=this.C(t)).length?String(t[0]):e},b.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.K(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.C(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")},V(function(){},function(){}),(b=Sn.prototype).M=null,b.$=function(t){return this.a.$(t)},b.abort=function(){this.b&&(this.b.cancel(),this.b=null),this.c=-1},b.Da=function(){return!1},b.Ga=function(t,e){if(this.c=t.o,0==this.M){if(!this.a.o&&(t=t.a)){var n=Zn(t,"X-Client-Wire-Protocol");this.l=n||null,this.a.j&&(t=Zn(t,"X-HTTP-Session-Id"))&&(this.a.I=t)}if(e){try{var r=this.a.ja.a.parse(e)}catch(t){return(e=this.a).m=this.c,void dr(e,2)}this.f=r[0]}else(e=this.a).m=this.c,dr(e,2)}else 1==this.M&&(this.g?ye(6):"11111"==e?(ye(5),this.g=!0,(!at||10<=Number(mt))&&(this.c=200,this.b.cancel(),ye(11),hr(this.a,this,!0))):(ye(7),this.g=!1))},b.na=function(){if(this.c=this.b.o,this.b.b)0==this.M?(this.M=1,Tn(this)):1==this.M&&(this.g?(ye(11),hr(this.a,this,!0)):(ye(10),hr(this.a,this,!1)));else{0==this.M?ye(8):1==this.M&&ye(9);var t=this.a;t.m=this.c,dr(t,2)}},b.Y=function(){return this.a.Y()},b.ma=function(){return this.a.ma()},In.prototype.add=function(t){this.a.set(Cn(t),t)},In.prototype.C=function(){return this.a.C()};var An=10;function kn(t,e){!t.a&&(H(e,"spdy")||H(e,"quic")||H(e,"h2"))&&(t.f=t.g,t.a=new In,t.b&&(_n(t,t.b),t.b=null))}function Rn(t){return!!t.b||!!t.a&&t.a.a.c>=t.f}function Mn(t){return t.b?1:t.a?t.a.a.c:0}function On(t,e){return t=t.b?t.b==e:!!t.a&&(e=Cn(e),He(t.a.a.b,e))}function _n(t,e){t.a?t.a.add(e):t.b=e}function Ln(t,e){var n;t.b&&t.b==e?t.b=null:((n=t.a)&&(n=Cn(e),n=He(t.a.a.b,n)),n&&Ge(t.a.a,Cn(e)))}function Pn(t){if(null!=t.b)return t.c.concat(t.b.j);if(null==t.a||0==t.a.a.c)return j(t.c);var e=t.c;return Q(t.a.C(),function(t){e=e.concat(t.j)}),e}function xn(){}function qn(){this.a=new xn}function Fn(t,r,e){var i=e||"";try{je(t,function(t,e){var n=t;M(t)&&(n=Wt(t)),r.push(i+e+"="+encodeURIComponent(n))})}catch(t){throw r.push(i+"type="+encodeURIComponent("_badmap")),t}}function Vn(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(t){}}Nn.prototype.cancel=function(){this.c=Pn(this),this.b?(this.b.cancel(),this.b=null):this.a&&0!=this.a.a.c&&(Q(this.a.C(),function(t){t.cancel()}),function(t){t.b={},t.a.length=0,t.c=0}(this.a.a))},xn.prototype.stringify=function(t){return E.JSON.stringify(t,void 0)},xn.prototype.parse=function(t){return E.JSON.parse(t,void 0)};var Bn=E.JSON.parse;function Un(t){Kt.call(this),this.headers=new We,this.H=t||null,this.b=!1,this.s=this.a=null,this.A="",this.h=0,this.f="",this.g=this.w=this.l=this.v=!1,this.o=0,this.m=null,this.I=Qn,this.D=this.F=!1}V(Un,Kt);var Qn="",Kn=/^https?$/i,jn=["POST","PUT"];function Wn(t){return"content-type"==t.toLowerCase()}function Gn(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,zn(t),Yn(t)}function zn(t){t.v||(t.v=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function Hn(t){if(t.b&&void 0!==T&&(!t.s[1]||4!=Jn(t)||2!=t.T()))if(t.l&&4==Jn(t))ie(t.Fa,0,t);else if(t.dispatchEvent("readystatechange"),4==Jn(t)){t.b=!1;try{var e,n=t.T();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.A).match(Ye)[1]||null;if(!o&&E.self&&E.self.location){var a=E.self.location.protocol;o=a.substr(0,a.length-1)}i=!Kn.test(o?o.toLowerCase():"")}e=i}e?(t.dispatchEvent("complete"),t.dispatchEvent("success")):(t.h=6,t.f=t.za()+" ["+t.T()+"]",zn(t))}finally{Yn(t)}}}function Yn(t,e){if(t.a){Xn(t);var n=t.a,r=t.s[0]?N:null;t.a=null,t.s=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(t){}}}function Xn(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(E.clearTimeout(t.m),t.m=null)}function Jn(t){return t.a?t.a.readyState:0}function Zn(t,e){return t.a?t.a.getResponseHeader(e):null}function $n(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}if(r)return t;if(n=function(t){var n="";return Z(t,function(t,e){n+=e,n+=":",n+=t,n+="\r\n"}),n}(n),I(t)){if(e=encodeURIComponent(String(e)),e+=n=null!=n?"="+encodeURIComponent(String(n)):""){if((n=t.indexOf("#"))<0&&(n=t.length),(r=t.indexOf("?"))<0||n<r){r=n;var i=""}else i=t.substring(r+1,n);n=(t=[t.substr(0,r),i,t.substr(n)])[1],t[1]=e?n?n+"&"+e:e:n,t=t[0]+(t[1]?"?"+t[1]:"")+t[2]}return t}return nn(t,e,n),t}function tr(t){this.f=[],this.F=new En,this.ga=this.pa=this.B=this.ha=this.a=this.I=this.j=this.V=this.g=this.J=this.i=null,this.Ra=this.P=0,this.Pa=!!D("internalChannelParams.failFast",t),this.ia=this.w=this.s=this.l=this.h=this.c=null,this.oa=!0,this.m=this.ra=this.O=-1,this.S=this.v=this.A=0,this.Oa=D("internalChannelParams.baseRetryDelayMs",t)||5e3,this.Sa=D("internalChannelParams.retryDelaySeedMs",t)||1e4,this.Qa=D("internalChannelParams.forwardChannelMaxRetries",t)||2,this.qa=D("internalChannelParams.forwardChannelRequestTimeoutMs",t)||2e4,this.La=t&&t.Ab||void 0,this.D=void 0,this.R=t&&t.supportsCrossDomainXhr||!1,this.H="",this.b=new Nn(t&&t.concurrentRequestLimit),this.ja=new qn,this.o=!t||void 0===t.backgroundChannelTest||t.backgroundChannelTest,(this.W=t&&t.fastHandshake||!1)&&!this.o&&(this.o=!0),t&&t.forceLongPolling&&(this.oa=!1),this.fa=void 0}function er(t){if(nr(t),3==t.u){var e=t.P++,n=Je(t.B);nn(n,"SID",t.H),nn(n,"RID",e),nn(n,"TYPE","terminate"),ar(t,n),(e=new ke(t,e,void 0)).F=2,e.f=on(Je(n)),n=!1,E.navigator&&E.navigator.sendBeacon&&(n=E.navigator.sendBeacon(e.f.toString(),"")),!n&&E.Image&&((new Image).src=e.f,n=!0),n||(e.a=e.g.$(null),e.a.ca(e.f)),e.v=F(),Fe(e)}pr(t)}function nr(t){t.w&&(t.w.abort(),t.w=null),t.a&&(t.a.cancel(),t.a=null),t.l&&(E.clearTimeout(t.l),t.l=null),lr(t),t.b.cancel(),t.h&&(C(t.h)&&E.clearTimeout(t.h),t.h=null)}function rr(t,e){t.f.push(new Dn(t.Ra++,e)),3==t.u&&ir(t)}function ir(t){Rn(t.b)||t.h||(t.h=!0,Zt(t.Ia,t),t.A=0)}function or(t,e){var n;n=e?e.W:t.P++;var r=Je(t.B);nn(r,"SID",t.H),nn(r,"RID",n),nn(r,"AID",t.O),ar(t,r),t.g&&t.i&&$n(r,t.g,t.i),n=new ke(t,n,t.A+1),null===t.g&&(n.h=t.i),e&&(t.f=e.j.concat(t.f)),e=sr(t,n,1e3),n.setTimeout(Math.round(.5*t.qa)+Math.round(.5*t.qa*Math.random())),_n(t.b,n),_e(n,r,e)}function ar(t,n){t.c&&je({},function(t,e){nn(n,e,t)})}function sr(t,e,n){n=Math.min(t.f.length,n);var r=t.c?x(t.c.Ta,t.c,t):null;t:for(var i=t.f,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].b,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].b,h=i[u].a;if((c-=o)<0)o=Math.max(0,i[u].b-100),s=!1;else try{Fn(h,a,"req"+c+"_")}catch(t){r&&r(h)}}if(s){r=a.join("&");break t}}return t=t.f.splice(0,n),e.j=t,r}function ur(t){t.a||t.l||(t.S=1,Zt(t.Ha,t),t.v=0)}function cr(t){return!(t.a||t.l||3<=t.v)&&(t.S++,t.l=ve(x(t.Ha,t),fr(t,t.v)),t.v++,!0)}function hr(t,e,n){var r=e.l;r&&kn(t.b,r),t.ia=t.oa&&n,t.m=e.c,t.B=mr(t,null,t.ha),ir(t)}function lr(t){null!=t.s&&(E.clearTimeout(t.s),t.s=null)}function fr(t,e){var n=t.Oa+Math.floor(Math.random()*t.Sa);return t.ma()||(n*=2),n*e}function dr(t,e){if(2==e){var n=null;t.c&&(n=null);var r=x(t.fb,t);n||(n=new Xe("//www.google.com/images/cleardot.gif"),E.location&&"http"==E.location.protocol||Ze(n,"https"),on(n)),function(t,e){var n=new le;if(E.Image){var r=new Image;r.onload=q(Vn,n,r,"TestLoadImage: loaded",!0,e),r.onerror=q(Vn,n,r,"TestLoadImage: error",!1,e),r.onabort=q(Vn,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=q(Vn,n,r,"TestLoadImage: timeout",!1,e),E.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else ye(2);t.u=0,t.c&&t.c.ta(e),pr(t),nr(t)}function pr(t){t.u=0,t.m=-1,t.c&&(0==Pn(t.b).length&&0==t.f.length||(t.b.c.length=0,j(t.f),t.f.length=0),t.c.sa())}function mr(t,e,n){var r=function(t){return t instanceof Xe?Je(t):new Xe(t,void 0)}(n);if(""!=r.b)e&&$e(r,e+"."+r.b),tn(r,r.i);else{var i,o=E.location;i=e?e+"."+o.hostname:o.hostname,r=function(t,e,n,r){var i=new Xe(null,void 0);return t&&Ze(i,t),e&&$e(i,e),n&&tn(i,n),r&&(i.a=r),i}(o.protocol,i,+o.port,n)}return t.V&&Z(t.V,function(t,e){nn(r,e,t)}),e=t.j,n=t.I,e&&n&&nn(r,e,n),nn(r,"VER",t.wa),ar(t,r),r}function yr(){}function gr(){if(at&&!(10<=Number(mt)))throw Error("Environmental error: no available transport.")}function vr(t,e){Kt.call(this),this.a=new tr(e),this.g=t,this.m=e&&e.testUrl?e.testUrl:function(t){for(var e=t,n=1;n<arguments.length;n++){var r,i=arguments[n];if(0==i.lastIndexOf("/",0))e=i;else(r=""==e)||(r=0<=(r=e.length-1)&&e.indexOf("/",r)==r),e+=r?i:"/"+i}return e}(this.g,"test"),this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.i=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.xa&&(t?t["X-WebChannel-Client-Profile"]=e.xa:t={"X-WebChannel-Client-Profile":e.xa}),this.a.J=t,(t=e&&e.httpHeadersOverwriteParam)&&!W(t)&&(this.a.g=t),this.l=e&&e.supportsCrossDomainXhr||!1,this.h=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!W(e)&&(this.a.j=e,null!==(t=this.b)&&e in t&&(e in(t=this.b)&&delete t[e])),this.f=new Sr(this)}function br(t){De.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function wr(){Ne.call(this),this.status=1}function Sr(t){this.a=t}(b=Un.prototype).ca=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.A+"; newUri="+t);e=e?e.toUpperCase():"GET",this.A=t,this.f="",this.h=0,this.v=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?Te(this.H):Te(Ie),this.a.onreadystatechange=x(this.Fa,this);try{this.w=!0,this.a.open(e,String(t),!0),this.w=!1}catch(t){return void Gn(this,t)}t=n||"";var i=new We(this.headers);r&&je(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=Wn,n=t.length,r=I(t)?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return e<0?null:I(t)?t.charAt(e):t[e]}(i.K()),n=E.FormData&&t instanceof E.FormData,0<=U(jn,e)&&!r&&!n&&i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Xn(this),0<this.o&&((this.D=function(t){return at&&gt(9)&&C(t.timeout)&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=x(this.Ca,this)):this.m=ie(this.Ca,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(t){Gn(this,t)}},b.Ca=function(){void 0!==T&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},b.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Yn(this))},b.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Yn(this,!0)),Un.N.G.call(this)},b.Fa=function(){this.j||(this.w||this.l||this.g?Hn(this):this.$a())},b.$a=function(){Hn(this)},b.T=function(){try{return 2<Jn(this)?this.a.status:-1}catch(t){return-1}},b.za=function(){try{return 2<Jn(this)?this.a.statusText:""}catch(t){return""}},b.aa=function(){try{return this.a?this.a.responseText:""}catch(t){return""}},b.Va=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Bn(e)}},b.ya=function(){return this.h},b.Ya=function(){return I(this.f)?this.f:String(this.f)},(b=tr.prototype).wa=8,b.u=1,b.Da=function(){return 0==this.u},b.Ia=function(t){if(this.h)if(this.h=null,1==this.u){if(!t){this.P=Math.floor(1e5*Math.random()),t=this.P++;var e,n=new ke(this,t,void 0),r=this.i;if(this.J&&(r?et(r=$(r),this.J):r=this.J),null===this.g&&(n.h=r),this.W)t:{for(var i=e=0;i<this.f.length;i++){var o=this.f[i];if(void 0===(o="__data__"in o.a&&I(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.f.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=sr(this,n,e),nn(i=Je(this.B),"RID",t),nn(i,"CVER",22),this.o&&this.j&&nn(i,"X-HTTP-Session-Id",this.j),ar(this,i),this.g&&r&&$n(i,this.g,r),_n(this.b,n),this.W?(nn(i,"$req",e),nn(i,"SID","null"),n.S=!0,_e(n,i,null)):_e(n,i,e),this.u=2}}else 3==this.u&&(t?or(this,t):0==this.f.length||Rn(this.b)||or(this))},b.Ha=function(){this.l=null,this.a=new ke(this,"rpc",this.S),null===this.g&&(this.a.h=this.i),this.a.J=0;var t=Je(this.pa);nn(t,"RID","rpc"),nn(t,"SID",this.H),nn(t,"CI",this.ia?"0":"1"),nn(t,"AID",this.O),ar(this,t),nn(t,"TYPE","xmlhttp"),this.g&&this.i&&$n(t,this.g,this.i),this.D&&this.a.setTimeout(this.D),Le(this.a,t,!0,this.ga)},b.Ga=function(t,e){if(0!=this.u&&(this.a==t||On(this.b,t)))if(this.m=t.o,!t.s&&On(this.b,t)&&3==this.u){try{var n=this.ja.a.parse(e)}catch(t){n=null}if(k(n)&&3==n.length){if(0==(e=n)[0]){t:if(!this.l){if(this.a){if(!(this.a.v+3e3<t.v))break t;lr(this),this.a.cancel(),this.a=null}cr(this),ye(18)}}else this.ra=e[1],0<this.ra-this.O&&e[2]<37500&&this.ia&&0==this.v&&!this.s&&(this.s=ve(x(this.Za,this),6e3));if(Mn(this.b)<=1&&this.fa){try{this.fa()}catch(t){}this.fa=void 0}}else dr(this,11)}else if(!t.s&&this.a!=t||lr(this),!W(e))for(e=n=this.ja.a.parse(e),n=0;n<e.length;n++){var r=e[n];if(this.O=r[0],r=r[1],2==this.u)if("c"==r[0]){this.H=r[1],this.ga=r[2];var i=r[3];null!=i&&(this.wa=i),null!=(r=r[5])&&C(r)&&0<r&&(this.D=1.5*r),this.o&&(r=t.a)&&((i=Zn(r,"X-Client-Wire-Protocol"))&&kn(this.b,i),this.j&&(r=Zn(r,"X-HTTP-Session-Id")))&&(this.I=r,nn(this.B,this.j,r)),this.u=3,this.c&&this.c.va(),r=t,this.pa=mr(this,this.Y()?this.ga:null,this.ha),r.s?(Ln(this.b,r),(i=this.D)&&r.setTimeout(i),r.i&&(Be(r),Fe(r)),this.a=r):ur(this),0<this.f.length&&ir(this)}else"stop"!=r[0]&&"close"!=r[0]||dr(this,7);else 3==this.u&&("stop"==r[0]||"close"==r[0]?"stop"==r[0]?dr(this,7):er(this):"noop"!=r[0]&&this.c&&this.c.ua(r),this.v=0)}},b.Za=function(){null!=this.s&&(this.s=null,this.a.cancel(),this.a=null,cr(this),ye(19))},b.na=function(t){var e=null;if(this.a==t){lr(this),this.a=null;var n=2}else{if(!On(this.b,t))return;e=t.j,Ln(this.b,t),n=1}if(this.m=t.o,0!=this.u)if(t.b)1==n?(e=F()-t.v,fe.dispatchEvent(new ge(fe,t.l?t.l.length:0,e,this.A)),ir(this)):ur(this);else{var r=t.c;if(3==r||0==r&&0<this.m||!(1==n&&function(t,e){return!(Mn(t.b)>=t.b.f-(t.h?1:0))&&(t.h?(t.f=e.j.concat(t.f),!0):!(1==t.u||2==t.u||t.A>=(t.Pa?0:t.Qa))&&(t.h=ve(x(t.Ia,t,e),fr(t,t.A)),t.A++,!0))}(this,t)||2==n&&cr(this)))switch(e&&0<e.length&&(t=this.b,t.c=t.c.concat(e)),r){case 1:dr(this,5);break;case 4:dr(this,10);break;case 3:dr(this,6);break;default:dr(this,2)}}},b.fb=function(t){ye(t?2:1)},b.$=function(t){if(t&&!this.R)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new Un(this.La)).F=this.R,t},b.ma=function(){return!!this.c&&!0},b.Y=function(){return this.R},(b=yr.prototype).va=function(){},b.ua=function(){},b.ta=function(){},b.sa=function(){},b.Ta=function(){},gr.prototype.a=function(t,e){return new vr(t,e)},V(vr,Kt),(b=vr.prototype).addEventListener=function(t,e,n,r){vr.N.addEventListener.call(this,t,e,n,r)},b.removeEventListener=function(t,e,n,r){vr.N.removeEventListener.call(this,t,e,n,r)},b.Wa=function(){this.a.c=this.f,this.l&&(this.a.R=!0);var t=this.a,e=this.m,n=this.g,r=this.b||void 0;ye(0),t.ha=n,t.V=r||{},t.o&&(t.F.b=[],t.F.a=!1),t.w=new Sn(t),null===t.g&&(t.w.h=t.i),n=e,t.g&&t.i&&(n=$n(e,t.g,t.i)),(t=t.w).i=n,e=mr(t.a,null,t.i),ye(3),null!=(n=t.a.F.b)?(t.f=n[0],t.M=1,Tn(t)):(rn(e,"MODE","init"),!t.a.o&&t.a.j&&rn(e,"X-HTTP-Session-Id",t.a.j),t.b=new ke(t,void 0,void 0),t.b.h=t.h,Le(t.b,e,!1,null),t.M=0)},b.close=function(){er(this.a)},b.Xa=function(t){if(I(t)){var e={};e.__data__=t,rr(this.a,e)}else this.h?((e={}).__data__=Wt(t),rr(this.a,e)):rr(this.a,t)},b.G=function(){this.a.c=null,delete this.f,er(this.a),delete this.a,vr.N.G.call(this)},V(br,De),V(wr,Ne),V(Sr,yr),Sr.prototype.va=function(){this.a.dispatchEvent("a")},Sr.prototype.ua=function(t){this.a.dispatchEvent(new br(t))},Sr.prototype.ta=function(t){this.a.dispatchEvent(new wr(t))},Sr.prototype.sa=function(){this.a.dispatchEvent("b")};var Tr=q(function(t,e){function n(){}n.prototype=t.prototype;var r=new n;return t.apply(r,Array.prototype.slice.call(arguments,1)),r},gr);gr.prototype.createWebChannel=gr.prototype.a,vr.prototype.send=vr.prototype.Xa,vr.prototype.open=vr.prototype.Wa,vr.prototype.close=vr.prototype.close,be.NO_ERROR=0,be.TIMEOUT=8,be.HTTP_ERROR=6,we.COMPLETE="complete",(Ee.EventType=Ce).OPEN="a",Ce.CLOSE="b",Ce.ERROR="c",Ce.MESSAGE="d",Kt.prototype.listen=Kt.prototype.Aa,Un.prototype.listenOnce=Un.prototype.Ba,Un.prototype.getLastError=Un.prototype.Ya,Un.prototype.getLastErrorCode=Un.prototype.ya,Un.prototype.getStatus=Un.prototype.T,Un.prototype.getStatusText=Un.prototype.za,Un.prototype.getResponseJson=Un.prototype.Va,Un.prototype.getResponseText=Un.prototype.aa,Un.prototype.send=Un.prototype.ca;var Er,Ir,Cr={createWebChannelTransport:Tr,ErrorCode:be,EventType:we,WebChannel:Ee,XhrIo:Un},Dr=Cr.createWebChannelTransport,Nr=Cr.ErrorCode,Ar=Cr.EventType,kr=Cr.WebChannel,Rr=Cr.XhrIo,Mr=Vp.SDK_VERSION,Or=new u("@firebase/firestore");function _r(){return Or.logLevel===o.DEBUG?Er.DEBUG:Or.logLevel===o.SILENT?Er.SILENT:Er.ERROR}function Lr(t){switch(t){case Er.DEBUG:Or.logLevel=o.DEBUG;break;case Er.ERROR:Or.logLevel=o.ERROR;break;case Er.SILENT:Or.logLevel=o.SILENT;break;default:Or.error("Firestore ("+Mr+"): Invalid value passed to `setLogLevel`")}}function Pr(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(Or.logLevel<=o.DEBUG){var i=n.map(qr);Or.debug.apply(Or,a(["Firestore ("+Mr+") ["+t+"]: "+e],i))}}function xr(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Or.logLevel<=o.ERROR){var r=e.map(qr);Or.error.apply(Or,a(["Firestore ("+Mr+"): "+t],r))}}function qr(e){if("string"==typeof e)return e;var t=Br.getPlatform();try{return t.formatJSON(e)}catch(t){return e}}function Fr(t){var e="FIRESTORE ("+Mr+") INTERNAL ASSERTION FAILED: "+t;throw xr(e),new Error(e)}function Vr(t,e){t||Fr(e)}(Ir=Er=Er||{})[Ir.DEBUG=0]="DEBUG",Ir[Ir.ERROR=1]="ERROR",Ir[Ir.SILENT=2]="SILENT";var Br=(Ur.setPlatform=function(t){Ur.platform&&Fr("Platform already defined"),Ur.platform=t},Ur.getPlatform=function(){return Ur.platform||Fr("Platform not set"),Ur.platform},Ur);function Ur(){}function Qr(){return Br.getPlatform().emptyByteString}var Kr,jr={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Wr=(t(Gr,Kr=Error),Gr);function Gr(t,e){var n=Kr.call(this,e)||this;return n.code=t,n.message=e,n.name="FirebaseError",n.toString=function(){return n.name+": [code="+n.code+"]: "+n.message},n}function zr(t,e){function n(){var t="This constructor is private.";throw e&&(t+=" ",t+=e),new Wr(jr.INVALID_ARGUMENT,t)}for(var r in n.prototype=t.prototype,t)t.hasOwnProperty(r)&&(n[r]=t[r]);return n}function Hr(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Yr(t,e){return void 0!==t?t:e}function Xr(t,e){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Number(n);isNaN(r)||e(r,t[n])}}function Jr(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Zr(t){for(var e in Vr(null!=t&&"object"==typeof t,"isEmpty() expects object parameter."),t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function $r(t,e){if(0!==e.length)throw new Wr(jr.INVALID_ARGUMENT,"Function "+t+"() does not support arguments, but was called with "+yi(e.length,"argument")+".")}function ti(t,e,n){if(e.length!==n)throw new Wr(jr.INVALID_ARGUMENT,"Function "+t+"() requires "+yi(n,"argument")+", but was called with "+yi(e.length,"argument")+".")}function ei(t,e,n){if(e.length<n)throw new Wr(jr.INVALID_ARGUMENT,"Function "+t+"() requires at least "+yi(n,"argument")+", but was called with "+yi(e.length,"argument")+".")}function ni(t,e,n,r){if(e.length<n||e.length>r)throw new Wr(jr.INVALID_ARGUMENT,"Function "+t+"() requires between "+n+" and "+r+" arguments, but was called with "+yi(e.length,"argument")+".")}function ri(t,e,n,r){ci(t,e,mi(n)+" argument",r)}function ii(t,e,n,r){void 0!==r&&ri(t,e,n,r)}function oi(t,e,n,r){ci(t,e,n+" option",r)}function ai(t,e,n,r){void 0!==r&&oi(t,e,n,r)}function si(t,e,n,r,i){void 0!==r&&function(t,e,n,r,i){if(!(r instanceof Array))throw new Wr(jr.INVALID_ARGUMENT,"Function "+t+"() requires its "+e+" option to be an array, but it was: "+li(r));for(var o=0;o<r.length;++o)if(!i(r[o]))throw new Wr(jr.INVALID_ARGUMENT,"Function "+t+"() requires all "+e+" elements to be "+n+", but the value at index "+o+" was: "+li(r[o]))}(t,e,n,r,i)}function ui(t,e,n,r,i){void 0!==r&&function(t,e,n,r,i){for(var o=[],a=0,s=i;a<s.length;a++){var u=s[a];if(u===r)return;o.push(li(u))}var c=li(r);throw new Wr(jr.INVALID_ARGUMENT,"Invalid value "+c+" provided to function "+t+'() for option "'+n+'". Acceptable values: '+o.join(", "))}(t,0,n,r,i)}function ci(t,e,n,r){if(!("object"===e?hi(r):"non-empty string"===e?"string"==typeof r&&""!==r:typeof r===e)){var i=li(r);throw new Wr(jr.INVALID_ARGUMENT,"Function "+t+"() requires its "+n+" to be of type "+e+", but it was: "+i)}}function hi(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}function li(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return 20<t.length&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"!=typeof t)return"function"==typeof t?"a function":Fr("Unknown wrong type: "+typeof t);if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&1<e.length)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}function fi(t,e,n){if(void 0===n)throw new Wr(jr.INVALID_ARGUMENT,"Function "+t+"() requires a valid "+mi(e)+" argument, but it was undefined.")}function di(n,t,r){Jr(t,function(t,e){if(r.indexOf(t)<0)throw new Wr(jr.INVALID_ARGUMENT,"Unknown option '"+t+"' passed to function "+n+"(). Available options: "+r.join(", "))})}function pi(t,e,n,r){var i=li(r);return new Wr(jr.INVALID_ARGUMENT,"Function "+t+"() requires its "+mi(n)+" argument to be a "+e+", but it was: "+i)}function mi(t){switch(t){case 1:return"first";case 2:return"second";case 3:return"third";default:return t+"th"}}function yi(t,e){return t+" "+e+(1===t?"":"s")}var gi=(vi.newId=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e="",n=0;n<20;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return Vr(20===e.length,"Invalid auto ID: "+e),e},vi);function vi(){}function bi(t,e){return t<e?-1:e<t?1:0}function wi(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].isEqual(e[n]))return!1;return!0}function Si(t){return t+"\0"}function Ti(){if("undefined"==typeof Uint8Array)throw new Wr(jr.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Ei(){if(!Br.getPlatform().base64Available)throw new Wr(jr.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Ii=(Ci.fromBase64String=function(t){ti("Blob.fromBase64String",arguments,1),ri("Blob.fromBase64String","string",1,t),Ei();try{return new Ci(Br.getPlatform().atob(t))}catch(t){throw new Wr(jr.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+t)}},Ci.fromUint8Array=function(t){if(ti("Blob.fromUint8Array",arguments,1),Ti(),!(t instanceof Uint8Array))throw pi("Blob.fromUint8Array","Uint8Array",1,t);return new Ci(Array.prototype.map.call(t,function(t){return String.fromCharCode(t)}).join(""))},Ci.prototype.toBase64=function(){return ti("Blob.toBase64",arguments,0),Ei(),Br.getPlatform().btoa(this._binaryString)},Ci.prototype.toUint8Array=function(){ti("Blob.toUint8Array",arguments,0),Ti();for(var t=new Uint8Array(this._binaryString.length),e=0;e<this._binaryString.length;e++)t[e]=this._binaryString.charCodeAt(e);return t},Ci.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},Ci.prototype.isEqual=function(t){return this._binaryString===t._binaryString},Ci.prototype._compareTo=function(t){return bi(this._binaryString,t._binaryString)},Ci);function Ci(t){Ei(),this._binaryString=t}var Di=zr(Ii,"Use Blob.fromUint8Array() or Blob.fromBase64String() instead."),Ni=function(t,e,n,r,i){this.databaseId=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i},Ai="(default)",ki=(Object.defineProperty(Ri.prototype,"isDefaultDatabase",{get:function(){return this.database===Ai},enumerable:!0,configurable:!0}),Ri.prototype.isEqual=function(t){return t instanceof Ri&&t.projectId===this.projectId&&t.database===this.database},Ri.prototype.compareTo=function(t){return bi(this.projectId,t.projectId)||bi(this.database,t.database)},Ri);function Ri(t,e){this.projectId=t,this.database=e||Ai}var Mi=(Oi.prototype.setPreviousValue=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},Oi.prototype.next=function(){var t=++this.previousValue;return this.writeNewSequenceNumber&&this.writeNewSequenceNumber(t),t},Oi.INVALID=-1,Oi);function Oi(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.setPreviousValue(t)},this.writeNewSequenceNumber=function(t){return e.writeSequenceNumber(t)})}var _i="__name__",Li=(Object.defineProperty(Pi.prototype,"length",{get:function(){return this.len},enumerable:!0,configurable:!0}),Pi.prototype.isEqual=function(t){return 0===Pi.comparator(this,t)},Pi.prototype.child=function(t){var e=this.segments.slice(this.offset,this.limit());return t instanceof Pi?t.forEach(function(t){e.push(t)}):e.push(t),this.construct(e)},Pi.prototype.limit=function(){return this.offset+this.length},Pi.prototype.popFirst=function(t){return t=void 0===t?1:t,Vr(this.length>=t,"Can't call popFirst() with less segments"),this.construct(this.segments,this.offset+t,this.length-t)},Pi.prototype.popLast=function(){return Vr(!this.isEmpty(),"Can't call popLast() on empty path"),this.construct(this.segments,this.offset,this.length-1)},Pi.prototype.firstSegment=function(){return Vr(!this.isEmpty(),"Can't call firstSegment() on empty path"),this.segments[this.offset]},Pi.prototype.lastSegment=function(){return this.get(this.length-1)},Pi.prototype.get=function(t){return Vr(t<this.length,"Index out of range"),this.segments[this.offset+t]},Pi.prototype.isEmpty=function(){return 0===this.length},Pi.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},Pi.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},Pi.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},Pi.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},Pi.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(o<i)return 1}return t.length<e.length?-1:t.length>e.length?1:0},Pi);function Pi(t,e,n){void 0===e?e=0:e>t.length&&Fr("offset "+e+" out of range "+t.length),void 0===n?n=t.length-e:n>t.length-e&&Fr("length "+n+" out of range "+(t.length-e)),this.segments=t,this.offset=e,this.len=n}var xi,qi=(t(Fi,xi=Li),Fi.prototype.construct=function(t,e,n){return new Fi(t,e,n)},Fi.prototype.canonicalString=function(){return this.toArray().join("/")},Fi.prototype.toString=function(){return this.canonicalString()},Fi.fromString=function(t){if(0<=t.indexOf("//"))throw new Wr(jr.INVALID_ARGUMENT,"Invalid path ("+t+"). Paths must not contain // in them.");return new Fi(t.split("/").filter(function(t){return 0<t.length}))},Fi.EMPTY_PATH=new Fi([]),Fi);function Fi(){return null!==xi&&xi.apply(this,arguments)||this}var Vi,Bi=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ui=(t(Qi,Vi=Li),Qi.prototype.construct=function(t,e,n){return new Qi(t,e,n)},Qi.isValidIdentifier=function(t){return Bi.test(t)},Qi.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),Qi.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},Qi.prototype.toString=function(){return this.canonicalString()},Qi.prototype.isKeyField=function(){return 1===this.length&&this.get(0)===_i},Qi.keyField=function(){return new Qi([_i])},Qi.fromServerFormat=function(t){for(var e=[],n="",r=0,i=function(){if(0===n.length)throw new Wr(jr.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");e.push(n),n=""},o=!1;r<t.length;){var a=t[r];if("\\"===a){if(r+1===t.length)throw new Wr(jr.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var s=t[r+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new Wr(jr.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=s,r+=2}else"`"===a?o=!o:"."!==a||o?n+=a:i(),r++}if(i(),o)throw new Wr(jr.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Qi(e)},Qi.EMPTY_PATH=new Qi([]),Qi);function Qi(){return null!==Vi&&Vi.apply(this,arguments)||this}var Ki=(ji.prototype.hasCollectionId=function(t){return 2<=this.path.length&&this.path.get(this.path.length-2)===t},ji.prototype.isEqual=function(t){return null!==t&&0===qi.comparator(this.path,t.path)},ji.prototype.toString=function(){return this.path.toString()},ji.comparator=function(t,e){return qi.comparator(t.path,e.path)},ji.isDocumentKey=function(t){return t.length%2==0},ji.fromSegments=function(t){return new ji(new qi(t.slice()))},ji.fromPathString=function(t){return new ji(qi.fromString(t))},ji.EMPTY=new ji(new qi([])),ji);function ji(t){this.path=t,Vr(ji.isDocumentKey(t),"Invalid DocumentKey with an odd number of segments: "+t.toArray().join("/"))}var Wi,Gi,zi=function(){var n=this;this.promise=new Promise(function(t,e){n.resolve=t,n.reject=e})};(Gi=Wi=Wi||{}).All="all",Gi.ListenStreamIdle="listen_stream_idle",Gi.ListenStreamConnectionBackoff="listen_stream_connection_backoff",Gi.WriteStreamIdle="write_stream_idle",Gi.WriteStreamConnectionBackoff="write_stream_connection_backoff",Gi.OnlineStateTimeout="online_state_timeout",Gi.ClientMetadataRefresh="client_metadata_refresh",Gi.LruGarbageCollection="lru_garbage_collection",Gi.RetryTransaction="retry_transaction";var Hi=(Yi.createAndSchedule=function(t,e,n,r,i){var o=new Yi(t,e,Date.now()+n,r,i);return o.start(n),o},Yi.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},Yi.prototype.skipDelay=function(){return this.handleDelayElapsed()},Yi.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Wr(jr.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},Yi.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget(function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then(function(t){return e.deferred.resolve(t)})):Promise.resolve()})},Yi.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},Yi);function Yi(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new zi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.catch=this.deferred.promise.catch.bind(this.deferred.promise),this.deferred.promise.catch(function(t){})}var Xi=(Object.defineProperty(Ji.prototype,"isShuttingDown",{get:function(){return this._isShuttingDown},enumerable:!0,configurable:!0}),Ji.prototype.enqueueAndForget=function(t){this.enqueue(t)},Ji.prototype.enqueueAndForgetEvenAfterShutdown=function(t){this.verifyNotFailed(),this.enqueueInternal(t)},Ji.prototype.enqueueEvenAfterShutdown=function(t){return this.verifyNotFailed(),this.enqueueInternal(t)},Ji.prototype.enqueueAndInitiateShutdown=function(e){return d(this,void 0,void 0,function(){return p(this,function(t){switch(t.label){case 0:return this.verifyNotFailed(),this._isShuttingDown?[3,2]:(this._isShuttingDown=!0,[4,this.enqueueEvenAfterShutdown(e)]);case 1:t.sent(),t.label=2;case 2:return[2]}})})},Ji.prototype.enqueue=function(t){return this.verifyNotFailed(),this._isShuttingDown?new Promise(function(t){}):this.enqueueInternal(t)},Ji.prototype.enqueueInternal=function(t){var n=this,e=this.tail.then(function(){return n.operationInProgress=!0,t().catch(function(t){n.failure=t,n.operationInProgress=!1;var e=t.stack||t.message||"";throw xr("INTERNAL UNHANDLED ERROR: ",e),e.indexOf("Firestore Test Simulated Error")<0&&setTimeout(function(){throw t},0),t}).then(function(t){return n.operationInProgress=!1,t})});return this.tail=e},Ji.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.verifyNotFailed(),Vr(0<=e,"Attempted to schedule an operation with a negative delay of "+e),-1<this.timerIdsToSkip.indexOf(t)&&(e=0);var i=Hi.createAndSchedule(this,t,e,n,function(t){return r.removeDelayedOperation(t)});return this.delayedOperations.push(i),i},Ji.prototype.verifyNotFailed=function(){this.failure&&Fr("AsyncQueue is already failed: "+(this.failure.stack||this.failure.message))},Ji.prototype.verifyOperationInProgress=function(){Vr(this.operationInProgress,"verifyOpInProgress() called when no op in progress on this queue.")},Ji.prototype.drain=function(){return this.enqueueEvenAfterShutdown(function(){return Promise.resolve()})},Ji.prototype.containsDelayedOperation=function(t){for(var e=0,n=this.delayedOperations;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},Ji.prototype.runDelayedOperationsEarly=function(r){var i=this;return this.drain().then(function(){Vr(r===Wi.All||i.containsDelayedOperation(r),"Attempted to drain to missing operation "+r),i.delayedOperations.sort(function(t,e){return t.targetTimeMs-e.targetTimeMs});for(var t=0,e=i.delayedOperations;t<e.length;t++){var n=e[t];if(n.skipDelay(),r!==Wi.All&&n.timerId===r)break}return i.drain()})},Ji.prototype.skipDelaysForTimerId=function(t){this.timerIdsToSkip.push(t)},Ji.prototype.removeDelayedOperation=function(t){var e=this.delayedOperations.indexOf(t);Vr(0<=e,"Delayed operation not found."),this.delayedOperations.splice(e,1)},Ji);function Ji(){this.tail=Promise.resolve(),this._isShuttingDown=!1,this.delayedOperations=[],this.failure=null,this.operationInProgress=!1,this.timerIdsToSkip=[]}var Zi="",$i="",to="",eo="";function no(t){for(var e="",n=0;n<t.length;n++)0<e.length&&(e=io(e)),e=ro(t.get(n),e);return io(e)}function ro(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+=Zi+to;break;case Zi:n+=Zi+eo;break;default:n+=o}}return n}function io(t){return t+Zi+$i}function oo(t){var e=t.length;if(Vr(2<=e,"Invalid path "+t),2===e)return Vr(t.charAt(0)===Zi&&t.charAt(1)===$i,"Non-empty path "+t+" had length 2"),qi.EMPTY_PATH;for(var n=e-2,r=[],i="",o=0;o<e;){var a=t.indexOf(Zi,o);switch((a<0||n<a)&&Fr('Invalid encoded resource path: "'+t+'"'),t.charAt(a+1)){case $i:var s=t.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case to:i+=t.substring(o,a),i+="\0";break;case eo:i+=t.substring(o,a+1);break;default:Fr('Invalid encoded resource path: "'+t+'"')}o=a+2}return new qi(r)}var ao=(so.now=function(){return so.fromMillis(Date.now())},so.fromDate=function(t){return so.fromMillis(t.getTime())},so.fromMillis=function(t){var e=Math.floor(t/1e3);return new so(e,1e6*(t-1e3*e))},so.prototype.toDate=function(){return new Date(this.toMillis())},so.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},so.prototype._compareTo=function(t){return this.seconds===t.seconds?bi(this.nanoseconds,t.nanoseconds):bi(this.seconds,t.seconds)},so.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},so.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},so);function so(t,e){if(this.seconds=t,(this.nanoseconds=e)<0)throw new Wr(jr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(1e9<=e)throw new Wr(jr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Wr(jr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(253402300800<=t)throw new Wr(jr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}var uo=(co.fromMicroseconds=function(t){var e=Math.floor(t/1e6);return new co(new ao(e,t%1e6*1e3))},co.fromTimestamp=function(t){return new co(t)},co.forDeletedDoc=function(){return co.MIN},co.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},co.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},co.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},co.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},co.prototype.toTimestamp=function(){return this.timestamp},co.MIN=new co(new ao(0,0)),co);function co(t){this.timestamp=t}var ho=(lo.prototype.insert=function(t,e){return new lo(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,mo.BLACK,null,null))},lo.prototype.remove=function(t){return new lo(this.comparator,this.root.remove(t,this.comparator).copy(null,null,mo.BLACK,null,null))},lo.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:0<n&&(e=e.right)}return null},lo.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;n=r<0?n.left:(e+=n.left.size+1,n.right)}return-1},lo.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(lo.prototype,"size",{get:function(){return this.root.size},enumerable:!0,configurable:!0}),lo.prototype.minKey=function(){return this.root.minKey()},lo.prototype.maxKey=function(){return this.root.maxKey()},lo.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},lo.prototype.forEach=function(n){this.inorderTraversal(function(t,e){return n(t,e),!1})},lo.prototype.toString=function(){var n=[];return this.inorderTraversal(function(t,e){return n.push(t+":"+e),!1}),"{"+n.join(", ")+"}"},lo.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},lo.prototype.getIterator=function(){return new fo(this.root,null,this.comparator,!1)},lo.prototype.getIteratorFrom=function(t){return new fo(this.root,t,this.comparator,!1)},lo.prototype.getReverseIterator=function(){return new fo(this.root,null,this.comparator,!0)},lo.prototype.getReverseIteratorFrom=function(t){return new fo(this.root,t,this.comparator,!0)},lo);function lo(t,e){this.comparator=t,this.root=e||mo.EMPTY}var fo=(po.prototype.getNext=function(){Vr(0<this.nodeStack.length,"getNext() called on iterator when hasNext() is false.");var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},po.prototype.hasNext=function(){return 0<this.nodeStack.length},po.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},po);function po(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}var mo=(yo.prototype.copy=function(t,e,n,r,i){return new yo(null!=t?t:this.key,null!=e?e:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)},yo.prototype.isEmpty=function(){return!1},yo.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},yo.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},yo.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},yo.prototype.minKey=function(){return this.min().key},yo.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},yo.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},yo.prototype.removeMin=function(){if(this.left.isEmpty())return yo.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},yo.prototype.remove=function(t,e){var n,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return yo.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()},yo.prototype.isRed=function(){return this.color},yo.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},yo.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},yo.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},yo.prototype.rotateLeft=function(){var t=this.copy(null,null,yo.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},yo.prototype.rotateRight=function(){var t=this.copy(null,null,yo.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},yo.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},yo.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},yo.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw Fr("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed())throw Fr("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check();if(t!==this.right.check())throw Fr("Black depths differ");return t+(this.isRed()?0:1)},yo.EMPTY=null,yo.RED=!0,yo.BLACK=!1,yo);function yo(t,e,n,r,i){this.key=t,this.value=e,this.color=null!=n?n:yo.RED,this.left=null!=r?r:yo.EMPTY,this.right=null!=i?i:yo.EMPTY,this.size=this.left.size+1+this.right.size}var go=(Object.defineProperty(vo.prototype,"key",{get:function(){throw Fr("LLRBEmptyNode has no key.")},enumerable:!0,configurable:!0}),Object.defineProperty(vo.prototype,"value",{get:function(){throw Fr("LLRBEmptyNode has no value.")},enumerable:!0,configurable:!0}),Object.defineProperty(vo.prototype,"color",{get:function(){throw Fr("LLRBEmptyNode has no color.")},enumerable:!0,configurable:!0}),Object.defineProperty(vo.prototype,"left",{get:function(){throw Fr("LLRBEmptyNode has no left child.")},enumerable:!0,configurable:!0}),Object.defineProperty(vo.prototype,"right",{get:function(){throw Fr("LLRBEmptyNode has no right child.")},enumerable:!0,configurable:!0}),vo.prototype.copy=function(t,e,n,r,i){return this},vo.prototype.insert=function(t,e,n){return new mo(t,e)},vo.prototype.remove=function(t,e){return this},vo.prototype.isEmpty=function(){return!0},vo.prototype.inorderTraversal=function(t){return!1},vo.prototype.reverseTraversal=function(t){return!1},vo.prototype.minKey=function(){return null},vo.prototype.maxKey=function(){return null},vo.prototype.isRed=function(){return!1},vo.prototype.checkMaxDepth=function(){return!0},vo.prototype.check=function(){return 0},vo);function vo(){this.size=0}mo.EMPTY=new go;var bo=(wo.fromMapKeys=function(t){var e=new wo(t.comparator);return t.forEach(function(t){e=e.add(t)}),e},wo.prototype.has=function(t){return null!==this.data.get(t)},wo.prototype.first=function(){return this.data.minKey()},wo.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(wo.prototype,"size",{get:function(){return this.data.size},enumerable:!0,configurable:!0}),wo.prototype.indexOf=function(t){return this.data.indexOf(t)},wo.prototype.forEach=function(n){this.data.inorderTraversal(function(t,e){return n(t),!1})},wo.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(0<=this.comparator(r.key,t[1]))return;e(r.key)}},wo.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},wo.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},wo.prototype.getIterator=function(){return new So(this.data.getIterator())},wo.prototype.getIteratorFrom=function(t){return new So(this.data.getIteratorFrom(t))},wo.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},wo.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},wo.prototype.isEmpty=function(){return this.data.isEmpty()},wo.prototype.unionWith=function(t){var e=this;return t.forEach(function(t){e=e.add(t)}),e},wo.prototype.isEqual=function(t){if(!(t instanceof wo))return!1;if(this.size!==t.size)return!1;for(var e=this.data.getIterator(),n=t.data.getIterator();e.hasNext();){var r=e.getNext().key,i=n.getNext().key;if(0!==this.comparator(r,i))return!1}return!0},wo.prototype.toArray=function(){var e=[];return this.forEach(function(t){e.push(t)}),e},wo.prototype.toString=function(){var e=[];return this.forEach(function(t){return e.push(t)}),"SortedSet("+e.toString()+")"},wo.prototype.copy=function(t){var e=new wo(this.comparator);return e.data=t,e},wo);function wo(t){this.comparator=t,this.data=new ho(this.comparator)}var So=(To.prototype.getNext=function(){return this.iter.getNext().key},To.prototype.hasNext=function(){return this.iter.hasNext()},To);function To(t){this.iter=t}var Eo=new ho(Ki.comparator);function Io(){return Eo}function Co(){return Io()}var Do=new ho(Ki.comparator);function No(){return Do}var Ao=new ho(Ki.comparator);function ko(){return Ao}var Ro=new bo(Ki.comparator);function Mo(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Ro,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Oo=new bo(bi);function _o(){return Oo}var Lo=(Po.prototype.applyToRemoteDocument=function(t,e,n){e&&Vr(e.key.isEqual(t),"applyToRemoteDocument: key "+t+" should match maybeDoc key\n        "+e.key);var r=n.mutationResults;Vr(r.length===this.mutations.length,"Mismatch between mutations length\n      ("+this.mutations.length+") and mutation results length\n      ("+r.length+").");for(var i=0;i<this.mutations.length;i++){var o=this.mutations[i];if(o.key.isEqual(t)){var a=r[i];e=o.applyToRemoteDocument(e,a)}}return e},Po.prototype.applyToLocalView=function(t,e){e&&Vr(e.key.isEqual(t),"applyToLocalDocument: key "+t+" should match maybeDoc key\n        "+e.key);for(var n=0,r=this.baseMutations;n<r.length;n++)(s=r[n]).key.isEqual(t)&&(e=s.applyToLocalView(e,e,this.localWriteTime));for(var i=e,o=0,a=this.mutations;o<a.length;o++){var s;(s=a[o]).key.isEqual(t)&&(e=s.applyToLocalView(e,i,this.localWriteTime))}return e},Po.prototype.applyToLocalDocumentSet=function(n){var r=this,i=n;return this.mutations.forEach(function(t){var e=r.applyToLocalView(t.key,n.get(t.key));e&&(i=i.insert(t.key,e))}),i},Po.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},Mo())},Po.prototype.isEqual=function(t){return this.batchId===t.batchId&&wi(this.mutations,t.mutations)&&wi(this.baseMutations,t.baseMutations)},Po);function Po(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,Vr(0<(this.mutations=r).length,"Cannot create an empty mutation batch")}var xo=(qo.from=function(t,e,n,r){Vr(t.mutations.length===n.length,"Mutations sent "+t.mutations.length+" must equal results received "+n.length);for(var i=ko(),o=t.mutations,a=0;a<o.length;a++)i=i.insert(o[a].key,n[a].version);return new qo(t,e,n,r,i)},qo);function qo(t,e,n,r,i){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.streamToken=r,this.docVersions=i}var Fo=(Vo.prototype.catch=function(t){return this.next(void 0,t)},Vo.prototype.next=function(r,i){var o=this;return this.callbackAttached&&Fr("Called next() or catch() twice for PersistencePromise"),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(r,this.result):new Vo(function(e,n){o.nextCallback=function(t){o.wrapSuccess(r,t).next(e,n)},o.catchCallback=function(t){o.wrapFailure(i,t).next(e,n)}})},Vo.prototype.toPromise=function(){var n=this;return new Promise(function(t,e){n.next(t,e)})},Vo.prototype.wrapUserFunction=function(t){try{var e=t();return e instanceof Vo?e:Vo.resolve(e)}catch(t){return Vo.reject(t)}},Vo.prototype.wrapSuccess=function(t,e){return t?this.wrapUserFunction(function(){return t(e)}):Vo.resolve(e)},Vo.prototype.wrapFailure=function(t,e){return t?this.wrapUserFunction(function(){return t(e)}):Vo.reject(e)},Vo.resolve=function(n){return new Vo(function(t,e){t(n)})},Vo.reject=function(n){return new Vo(function(t,e){e(n)})},Vo.waitFor=function(t){return new Vo(function(e,n){var r=0,i=0,o=!1;t.forEach(function(t){++r,t.next(function(){++i,o&&i===r&&e()},function(t){return n(t)})}),o=!0,i===r&&e()})},Vo.or=function(t){for(var n=Vo.resolve(!1),e=function(e){n=n.next(function(t){return t?Vo.resolve(t):e()})},r=0,i=t;r<i.length;r++)e(i[r]);return n},Vo.forEach=function(t,n){var r=this,i=[];return t.forEach(function(t,e){i.push(n.call(r,t,e))}),this.waitFor(i)},Vo);function Vo(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}var Bo=(Uo.forUser=function(t,e,n,r){return Vr(""!==t.uid,"UserID must not be an empty string."),new Uo(t.isAuthenticated()?t.uid:"",e,n,r)},Uo.prototype.checkEmpty=function(t){var r=!0,e=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Wo(t).iterate({index:pu.userMutationsIndex,range:e},function(t,e,n){r=!1,n.done()}).next(function(){return r})},Uo.prototype.acknowledgeBatch=function(e,t,n){return this.getMutationQueueMetadata(e).next(function(t){return t.lastStreamToken=jo(n),zo(e).put(t)})},Uo.prototype.getLastStreamToken=function(t){return this.getMutationQueueMetadata(t).next(function(t){return t.lastStreamToken})},Uo.prototype.setLastStreamToken=function(e,n){return this.getMutationQueueMetadata(e).next(function(t){return t.lastStreamToken=jo(n),zo(e).put(t)})},Uo.prototype.addMutationBatch=function(c,h,l,f){var d=this,p=Go(c),m=Wo(c);return m.add({}).next(function(t){Vr("number"==typeof t,"Auto-generated key is not a number");for(var e=new Lo(t,h,l,f),n=d.serializer.toDbMutationBatch(d.userId,e),r=[],i=new bo(function(t,e){return bi(t.canonicalString(),e.canonicalString())}),o=0,a=f;o<a.length;o++){var s=a[o],u=yu.key(d.userId,s.key.path,t);i=i.add(s.key.path.popLast()),r.push(m.put(n)),r.push(p.put(u,yu.PLACEHOLDER))}return i.forEach(function(t){r.push(d.indexManager.addToCollectionParentIndex(c,t))}),c.addOnCommittedListener(function(){d.documentKeysByBatchId[t]=e.keys()}),Fo.waitFor(r).next(function(){return e})})},Uo.prototype.lookupMutationBatch=function(t,e){var n=this;return Wo(t).get(e).next(function(t){return t?(Vr(t.userId===n.userId,"Unexpected user '"+t.userId+"' for mutation batch "+e),n.serializer.fromDbMutationBatch(t)):null})},Uo.prototype.lookupMutationKeys=function(t,n){var r=this;return this.documentKeysByBatchId[n]?Fo.resolve(this.documentKeysByBatchId[n]):this.lookupMutationBatch(t,n).next(function(t){if(t){var e=t.keys();return r.documentKeysByBatchId[n]=e}return null})},Uo.prototype.getNextMutationBatchAfterBatchId=function(t,e){var r=this,i=e+1,n=IDBKeyRange.lowerBound([this.userId,i]),o=null;return Wo(t).iterate({index:pu.userMutationsIndex,range:n},function(t,e,n){e.userId===r.userId&&(Vr(e.batchId>=i,"Should have found mutation after "+i),o=r.serializer.fromDbMutationBatch(e)),n.done()}).next(function(){return o})},Uo.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),r=-1;return Wo(t).iterate({index:pu.userMutationsIndex,range:e,reverse:!0},function(t,e,n){r=e.batchId,n.done()}).next(function(){return r})},Uo.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Wo(t).loadAll(pu.userMutationsIndex,n).next(function(t){return t.map(function(t){return e.serializer.fromDbMutationBatch(t)})})},Uo.prototype.getAllMutationBatchesAffectingDocumentKey=function(s,u){var c=this,t=yu.prefixForPath(this.userId,u.path),e=IDBKeyRange.lowerBound(t),h=[];return Go(s).iterate({range:e},function(e,t,n){var r=e[0],i=e[1],o=e[2],a=oo(i);if(r===c.userId&&u.path.isEqual(a))return Wo(s).get(o).next(function(t){if(!t)throw Fr("Dangling document-mutation reference found: "+e+" which points to "+o);Vr(t.userId===c.userId,"Unexpected user '"+t.userId+"' for mutation batch "+o),h.push(c.serializer.fromDbMutationBatch(t))});n.done()}).next(function(){return h})},Uo.prototype.getAllMutationBatchesAffectingDocumentKeys=function(r,t){var u=this,c=new bo(bi),i=[];return t.forEach(function(s){var t=yu.prefixForPath(u.userId,s.path),e=IDBKeyRange.lowerBound(t),n=Go(r).iterate({range:e},function(t,e,n){var r=t[0],i=t[1],o=t[2],a=oo(i);r===u.userId&&s.path.isEqual(a)?c=c.add(o):n.done()});i.push(n)}),Fo.waitFor(i).next(function(){return u.lookupMutationBatches(r,c)})},Uo.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var s=this;Vr(!e.isDocumentQuery(),"Document queries shouldn't go down this path"),Vr(!e.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var u=e.path,c=u.length+1,n=yu.prefixForPath(this.userId,u),r=IDBKeyRange.lowerBound(n),h=new bo(bi);return Go(t).iterate({range:r},function(t,e,n){var r=t[0],i=t[1],o=t[2],a=oo(i);r===s.userId&&u.isPrefixOf(a)?a.length===c&&(h=h.add(o)):n.done()}).next(function(){return s.lookupMutationBatches(t,h)})},Uo.prototype.lookupMutationBatches=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(Wo(t).get(e).next(function(t){if(null===t)throw Fr("Dangling document-mutation reference found, which points to "+e);Vr(t.userId===n.userId,"Unexpected user '"+t.userId+"' for mutation batch "+e),r.push(n.serializer.fromDbMutationBatch(t))}))}),Fo.waitFor(i).next(function(){return r})},Uo.prototype.removeMutationBatch=function(e,n){var r=this;return Ko(e.simpleDbTransaction,this.userId,n).next(function(t){return e.addOnCommittedListener(function(){r.removeCachedMutationKeys(n.batchId)}),Fo.forEach(t,function(t){return r.referenceDelegate.removeMutationReference(e,t)})})},Uo.prototype.removeCachedMutationKeys=function(t){delete this.documentKeysByBatchId[t]},Uo.prototype.performConsistencyCheck=function(n){var o=this;return this.checkEmpty(n).next(function(t){if(!t)return Fo.resolve();var e=IDBKeyRange.lowerBound(yu.prefixForUser(o.userId)),i=[];return Go(n).iterate({range:e},function(t,e,n){if(t[0]===o.userId){var r=oo(t[1]);i.push(r)}else n.done()}).next(function(){Vr(0===i.length,"Document leak -- detected dangling mutation references when queue is empty. Dangling keys: "+i.map(function(t){return t.canonicalString()}))})})},Uo.prototype.containsKey=function(t,e){return Qo(t,this.userId,e)},Uo.prototype.getMutationQueueMetadata=function(t){var e=this;return zo(t).get(this.userId).next(function(t){return t||new fu(e.userId,-1,"")})},Uo);function Uo(t,e,n,r){this.userId=t,this.serializer=e,this.indexManager=n,this.referenceDelegate=r,this.documentKeysByBatchId={}}function Qo(t,o,e){var n=yu.prefixForPath(o,e.path),a=n[1],r=IDBKeyRange.lowerBound(n),s=!1;return Go(t).iterate({range:r,keysOnly:!0},function(t,e,n){var r=t[0],i=t[1];t[2];r===o&&i===a&&(s=!0),n.done()}).next(function(){return s})}function Ko(t,e,n){var r=t.store(pu.store),i=t.store(yu.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.iterate({range:a},function(t,e,n){return s++,n.delete()});o.push(u.next(function(){Vr(1===s,"Dangling document-mutation reference found: Missing batch "+n.batchId)}));for(var c=[],h=0,l=n.mutations;h<l.length;h++){var f=l[h],d=yu.key(e,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return Fo.waitFor(o).next(function(){return c})}function jo(t){return t instanceof Uint8Array?(Vr("YES"===process.env.USE_MOCK_PERSISTENCE,"Persisting non-string stream tokens is only supported with mock persistence."),t.toString()):t}function Wo(t){return cc.getStore(t,pu.store)}function Go(t){return cc.getStore(t,yu.store)}function zo(t){return cc.getStore(t,fu.store)}var Ho,Yo;(Yo=Ho=Ho||{})[Yo.QueryCache=0]="QueryCache",Yo[Yo.SyncEngine=1]="SyncEngine";var Xo=(Jo.prototype.next=function(){var t=this.nextId;return this.nextId+=2,t},Jo.prototype.after=function(t){return this.seek(t+2),this.next()},Jo.prototype.seek=function(t){Vr((1&t)===this.generatorId,"Cannot supply target ID from different generator ID"),this.nextId=t},Jo.forQueryCache=function(){return new Jo(Ho.QueryCache,2)},Jo.forSyncEngine=function(){return new Jo(Ho.SyncEngine)},Jo);function Jo(t,e){Vr((1&(this.generatorId=t))===t,"Generator ID "+t+" contains more than 1 reserved bits"),this.seek(void 0!==e?e:this.generatorId)}var Zo="SimpleDb",$o=(ta.openOrCreate=function(o,t,a){return Vr(ta.isAvailable(),"IndexedDB not supported in current environment."),Pr(Zo,"Opening database:",o),new Fo(function(n,r){var i=window.indexedDB.open(o,t);i.onsuccess=function(t){var e=t.target.result;n(new ta(e))},i.onblocked=function(){r(new Wr(jr.FAILED_PRECONDITION,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(t){var e=t.target.error;"VersionError"===e.name?r(new Wr(jr.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(e)},i.onupgradeneeded=function(t){Pr(Zo,'Database "'+o+'" requires upgrade from version:',t.oldVersion);var e=t.target.result;a.createOrUpgrade(e,i.transaction,t.oldVersion,au).next(function(){Pr(Zo,"Database upgrade to version "+au+" complete")})}}).toPromise()},ta.delete=function(t){return Pr(Zo,"Removing database:",t),sa(window.indexedDB.deleteDatabase(t)).toPromise()},ta.isAvailable=function(){if("undefined"==typeof window||null==window.indexedDB)return!1;if(void 0===window.navigator)return"YES"===process.env.USE_MOCK_PERSISTENCE;var t=h(),e=ta.getIOSVersion(t),n=0<e&&e<10,r=ta.getAndroidVersion(t),i=0<r&&r<4.5;return!(0<t.indexOf("MSIE ")||0<t.indexOf("Trident/")||0<t.indexOf("Edge/")||n||i)},ta.getStore=function(t,e){return t.store(e)},ta.getIOSVersion=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},ta.getAndroidVersion=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},ta.prototype.setVersionChangeListener=function(e){this.db.onversionchange=function(t){return e(t)}},ta.prototype.runTransaction=function(r,c,h){return d(this,void 0,void 0,function(){var o,a,s,e,u,n;return p(this,function(t){switch(t.label){case 0:o=r.startsWith("readonly"),a=r.endsWith("idempotent"),s=0,e=function(){var e,n,r,i;return p(this,function(t){switch(t.label){case 0:++s,e=ra.open(u.db,o?"readonly":"readwrite",c),t.label=1;case 1:return t.trys.push([1,3,,4]),(n=h(e).catch(function(t){return e.abort(t),Fo.reject(t)}).toPromise()).catch(function(){}),[4,e.completionPromise];case 2:return t.sent(),[2,{value:n}];case 3:return r=t.sent(),i=a&&function(t){return"undefined"!=typeof DOMException&&t instanceof DOMException||"DOMException"===t.constructor.name}(r)&&s<3,Pr("Transaction failed with error: %s. Retrying: %s.",r.message,i),i?[3,4]:[2,{value:Promise.reject(r)}];case 4:return[2]}})},u=this,t.label=1;case 1:return[5,e()];case 2:return"object"==typeof(n=t.sent())?[2,n.value]:[3,1];case 3:return[2]}})})},ta.prototype.close=function(){this.db.close()},ta);function ta(t){this.db=t,12.2===ta.getIOSVersion(h())&&xr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}var ea=(Object.defineProperty(na.prototype,"isDone",{get:function(){return this.shouldStop},enumerable:!0,configurable:!0}),Object.defineProperty(na.prototype,"skipToKey",{get:function(){return this.nextKey},enumerable:!0,configurable:!0}),Object.defineProperty(na.prototype,"cursor",{set:function(t){this.dbCursor=t},enumerable:!0,configurable:!0}),na.prototype.done=function(){this.shouldStop=!0},na.prototype.skip=function(t){this.nextKey=t},na.prototype.delete=function(){return sa(this.dbCursor.delete())},na);function na(t){this.dbCursor=t,this.shouldStop=!1,this.nextKey=null}var ra=(ia.open=function(t,e,n){return new ia(t.transaction(n,e))},Object.defineProperty(ia.prototype,"completionPromise",{get:function(){return this.completionDeferred.promise},enumerable:!0,configurable:!0}),ia.prototype.abort=function(t){t&&this.completionDeferred.reject(t),this.aborted||(Pr(Zo,"Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},ia.prototype.store=function(t){var e=this.transaction.objectStore(t);return Vr(!!e,"Object store not part of transaction: "+t),new oa(e)},ia);function ia(t){var n=this;this.transaction=t,this.aborted=!1,this.completionDeferred=new zi,this.transaction.oncomplete=function(){n.completionDeferred.resolve()},this.transaction.onabort=function(){t.error?n.completionDeferred.reject(t.error):n.completionDeferred.resolve()},this.transaction.onerror=function(t){var e=ca(t.target.error);n.completionDeferred.reject(e)}}var oa=(aa.prototype.put=function(t,e){return sa(void 0!==e?(Pr(Zo,"PUT",this.store.name,t,e),this.store.put(e,t)):(Pr(Zo,"PUT",this.store.name,"<auto-key>",t),this.store.put(t)))},aa.prototype.add=function(t){return Pr(Zo,"ADD",this.store.name,t,t),sa(this.store.add(t))},aa.prototype.get=function(e){var n=this;return sa(this.store.get(e)).next(function(t){return void 0===t&&(t=null),Pr(Zo,"GET",n.store.name,e,t),t})},aa.prototype.delete=function(t){return Pr(Zo,"DELETE",this.store.name,t),sa(this.store.delete(t))},aa.prototype.count=function(){return Pr(Zo,"COUNT",this.store.name),sa(this.store.count())},aa.prototype.loadAll=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.iterateCursor(n,function(t,e){r.push(e)}).next(function(){return r})},aa.prototype.deleteAll=function(t,e){Pr(Zo,"DELETE ALL",this.store.name);var n=this.options(t,e);n.keysOnly=!1;var r=this.cursor(n);return this.iterateCursor(r,function(t,e,n){return n.delete()})},aa.prototype.iterate=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.iterateCursor(r,e)},aa.prototype.iterateSerial=function(i){var t=this.cursor({});return new Fo(function(n,r){t.onerror=function(t){var e=ca(t.target.error);r(e)},t.onsuccess=function(t){var e=t.target.result;e?i(e.primaryKey,e.value).next(function(t){t?e.continue():n()}):n()}})},aa.prototype.iterateCursor=function(t,a){var s=[];return new Fo(function(o,e){t.onerror=function(t){e(t.target.error)},t.onsuccess=function(t){var e=t.target.result;if(e){var n=new ea(e),r=a(e.primaryKey,e.value,n);if(r instanceof Fo){var i=r.catch(function(t){return n.done(),Fo.reject(t)});s.push(i)}n.isDone?o():null===n.skipToKey?e.continue():e.continue(n.skipToKey)}else o()}}).next(function(){return Fo.waitFor(s)})},aa.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:(Vr(void 0===e,"3rd argument must not be defined if 2nd is a range."),e=t)),{index:n,range:e}},aa.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.keysOnly?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},aa);function aa(t){this.store=t}function sa(t){return new Fo(function(n,r){t.onsuccess=function(t){var e=t.target.result;n(e)},t.onerror=function(t){var e=ca(t.target.error);r(e)}})}var ua=!1;function ca(t){var e=$o.getIOSVersion(h());if(12.2<=e&&e<13){var n="An internal error was encountered in the Indexed Database server";if(0<=t.message.indexOf(n)){var r=new Wr("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return ua||(ua=!0,setTimeout(function(){throw r},0)),r}}return t}var ha=(la.prototype.allocateTargetId=function(e){var n=this;return this.retrieveMetadata(e).next(function(t){return t.highestTargetId=n.targetIdGenerator.after(t.highestTargetId),n.saveMetadata(e,t).next(function(){return t.highestTargetId})})},la.prototype.getLastRemoteSnapshotVersion=function(t){return this.retrieveMetadata(t).next(function(t){return uo.fromTimestamp(new ao(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},la.prototype.getHighestSequenceNumber=function(t){return pa(t.simpleDbTransaction)},la.prototype.setTargetsMetadata=function(e,n,r){var i=this;return this.retrieveMetadata(e).next(function(t){return t.highestListenSequenceNumber=n,r&&(t.lastRemoteSnapshotVersion=r.toTimestamp()),n>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=n),i.saveMetadata(e,t)})},la.prototype.addQueryData=function(e,n){var r=this;return this.saveQueryData(e,n).next(function(){return r.retrieveMetadata(e).next(function(t){return t.targetCount+=1,r.updateMetadataFromQueryData(n,t),r.saveMetadata(e,t)})})},la.prototype.updateQueryData=function(t,e){return this.saveQueryData(t,e)},la.prototype.removeQueryData=function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next(function(){return fa(e).delete(t.targetId)}).next(function(){return n.retrieveMetadata(e)}).next(function(t){return Vr(0<t.targetCount,"Removing from an empty query cache"),t.targetCount-=1,n.saveMetadata(e,t)})},la.prototype.removeTargets=function(r,i,o){var a=this,s=0,u=[];return fa(r).iterate(function(t,e){var n=a.serializer.fromDbTarget(e);n.sequenceNumber<=i&&null===o.get(n.targetId)&&(s++,u.push(a.removeQueryData(r,n)))}).next(function(){return Fo.waitFor(u)}).next(function(){return s})},la.prototype.forEachTarget=function(t,r){var i=this;return fa(t).iterate(function(t,e){var n=i.serializer.fromDbTarget(e);r(n)})},la.prototype.retrieveMetadata=function(t){return da(t.simpleDbTransaction)},la.prototype.saveMetadata=function(t,e){return function(t){return cc.getStore(t,Au.store)}(t).put(Au.key,e)},la.prototype.saveQueryData=function(t,e){return fa(t).put(this.serializer.toDbTarget(e))},la.prototype.updateMetadataFromQueryData=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},la.prototype.getQueryCount=function(t){return this.retrieveMetadata(t).next(function(t){return t.targetCount})},la.prototype.getQueryData=function(t,i){var o=this,e=i.canonicalId(),n=IDBKeyRange.bound([e,Number.NEGATIVE_INFINITY],[e,Number.POSITIVE_INFINITY]),a=null;return fa(t).iterate({range:n,index:Iu.queryTargetsIndexName},function(t,e,n){var r=o.serializer.fromDbTarget(e);i.isEqual(r.query)&&(a=r,n.done())}).next(function(){return a})},la.prototype.addMatchingKeys=function(n,t,r){var i=this,o=[],a=ma(n);return t.forEach(function(t){var e=no(t.path);o.push(a.put(new Du(r,e))),o.push(i.referenceDelegate.addReference(n,t))}),Fo.waitFor(o)},la.prototype.removeMatchingKeys=function(n,t,r){var i=this,o=ma(n);return Fo.forEach(t,function(t){var e=no(t.path);return Fo.waitFor([o.delete([r,e]),i.referenceDelegate.removeReference(n,t)])})},la.prototype.removeMatchingKeysForTargetId=function(t,e){var n=ma(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},la.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=ma(t),o=Mo();return r.iterate({range:n,keysOnly:!0},function(t,e,n){var r=oo(t[1]),i=new Ki(r);o=o.add(i)}).next(function(){return o})},la.prototype.containsKey=function(t,e){var n=no(e.path),r=IDBKeyRange.bound([n],[Si(n)],!1,!0),i=0;return ma(t).iterate({index:Du.documentTargetsIndex,keysOnly:!0,range:r},function(t,e,n){var r=t[0];t[1],0!==r&&(i++,n.done())}).next(function(){return 0<i})},la.prototype.getQueryDataForTarget=function(t,e){var n=this;return fa(t).get(e).next(function(t){return t?n.serializer.fromDbTarget(t):null})},la);function la(t,e){this.referenceDelegate=t,this.serializer=e,this.targetIdGenerator=Xo.forQueryCache()}function fa(t){return cc.getStore(t,Iu.store)}function da(t){return $o.getStore(t,Au.store).get(Au.key).next(function(t){return Vr(null!==t,"Missing metadata row."),t})}function pa(t){return da(t).next(function(t){return t.highestListenSequenceNumber})}function ma(t){return cc.getStore(t,Du.store)}var ya=(ga.fromSet=function(t){return new ga(t)},ga.fromArray=function(t){var e=new bo(Ui.comparator);return t.forEach(function(t){return e=e.add(t)}),new ga(e)},ga.prototype.covers=function(e){var n=!1;return this.fields.forEach(function(t){t.isPrefixOf(e)&&(n=!0)}),n},ga.prototype.isEqual=function(t){return this.fields.isEqual(t.fields)},ga);function ga(t){this.fields=t}var va=(ba.prototype.isEqual=function(t){return this.field.isEqual(t.field)&&this.transform.isEqual(t.transform)},ba);function ba(t,e){this.field=t,this.transform=e}var wa,Sa,Ta=function(t,e){this.version=t,this.transformResults=e};(Sa=wa=wa||{})[Sa.Set=0]="Set",Sa[Sa.Patch=1]="Patch",Sa[Sa.Transform=2]="Transform",Sa[Sa.Delete=3]="Delete";var Ea=(Ia.exists=function(t){return new Ia(void 0,t)},Ia.updateTime=function(t){return new Ia(t)},Object.defineProperty(Ia.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!0,configurable:!0}),Ia.prototype.isValidFor=function(t){return void 0!==this.updateTime?t instanceof xs&&t.version.isEqual(this.updateTime):void 0!==this.exists?this.exists===t instanceof xs:(Vr(this.isNone,"Precondition should be empty"),!0)},Ia.prototype.isEqual=function(t){return function(t,e){return null!=t?!(!e||!t.isEqual(e)):t===e}(this.updateTime,t.updateTime)&&this.exists===t.exists},Ia.NONE=new Ia,Ia);function Ia(t,e){this.updateTime=t,this.exists=e,Vr(void 0===t||void 0===e,'Precondition can specify "exists" or "updateTime" but not both')}var Ca=(Da.prototype.verifyKeyMatches=function(t){null!=t&&Vr(t.key.isEqual(this.key),"Can only apply a mutation to a document with the same key")},Da.getPostMutationVersion=function(t){return t instanceof xs?t.version:uo.MIN},Da);function Da(){}var Na,Aa=(t(ka,Na=Ca),ka.prototype.applyToRemoteDocument=function(t,e){this.verifyKeyMatches(t),Vr(null==e.transformResults,"Transform results received by SetMutation.");var n=e.version;return new xs(this.key,n,{hasCommittedMutations:!0},this.value)},ka.prototype.applyToLocalView=function(t,e,n){if(this.verifyKeyMatches(t),!this.precondition.isValidFor(t))return t;var r=Ca.getPostMutationVersion(t);return new xs(this.key,r,{hasLocalMutations:!0},this.value)},ka.prototype.extractBaseValue=function(t){return null},ka.prototype.isEqual=function(t){return t instanceof ka&&this.key.isEqual(t.key)&&this.value.isEqual(t.value)&&this.precondition.isEqual(t.precondition)},ka);function ka(t,e,n){var r=Na.call(this)||this;return r.key=t,r.value=e,r.precondition=n,r.type=wa.Set,r}var Ra,Ma=(t(Oa,Ra=Ca),Oa.prototype.applyToRemoteDocument=function(t,e){if(this.verifyKeyMatches(t),Vr(null==e.transformResults,"Transform results received by PatchMutation."),!this.precondition.isValidFor(t))return new Qs(this.key,e.version);var n=this.patchDocument(t);return new xs(this.key,e.version,{hasCommittedMutations:!0},n)},Oa.prototype.applyToLocalView=function(t,e,n){if(this.verifyKeyMatches(t),!this.precondition.isValidFor(t))return t;var r=Ca.getPostMutationVersion(t),i=this.patchDocument(t);return new xs(this.key,r,{hasLocalMutations:!0},i)},Oa.prototype.extractBaseValue=function(t){return null},Oa.prototype.isEqual=function(t){return t instanceof Oa&&this.key.isEqual(t.key)&&this.fieldMask.isEqual(t.fieldMask)&&this.precondition.isEqual(t.precondition)},Oa.prototype.patchDocument=function(t){var e;return e=t instanceof xs?t.data():As.EMPTY,this.patchObject(e)},Oa.prototype.patchObject=function(n){var r=this;return this.fieldMask.fields.forEach(function(t){if(!t.isEmpty()){var e=r.data.field(t);n=null!==e?n.set(t,e):n.delete(t)}}),n},Oa);function Oa(t,e,n,r){var i=Ra.call(this)||this;return i.key=t,i.data=e,i.fieldMask=n,i.precondition=r,i.type=wa.Patch,i}var _a,La=(t(Pa,_a=Ca),Pa.prototype.applyToRemoteDocument=function(t,e){if(this.verifyKeyMatches(t),Vr(null!=e.transformResults,"Transform results missing for TransformMutation."),!this.precondition.isValidFor(t))return new Qs(this.key,e.version);var n=this.requireDocument(t),r=this.serverTransformResults(t,e.transformResults),i=e.version,o=this.transformObject(n.data(),r);return new xs(this.key,i,{hasCommittedMutations:!0},o)},Pa.prototype.applyToLocalView=function(t,e,n){if(this.verifyKeyMatches(t),!this.precondition.isValidFor(t))return t;var r=this.requireDocument(t),i=this.localTransformResults(n,t,e),o=this.transformObject(r.data(),i);return new xs(this.key,r.version,{hasLocalMutations:!0},o)},Pa.prototype.extractBaseValue=function(t){for(var e=null,n=0,r=this.fieldTransforms;n<r.length;n++){var i=r[n],o=t instanceof xs?t.field(i.field):void 0,a=i.transform.computeBaseValue(o||null);null!=a&&(e=null==e?As.EMPTY.set(i.field,a):e.set(i.field,a))}return e},Pa.prototype.isEqual=function(t){return t instanceof Pa&&this.key.isEqual(t.key)&&wi(this.fieldTransforms,t.fieldTransforms)&&this.precondition.isEqual(t.precondition)},Pa.prototype.requireDocument=function(t){Vr(t instanceof xs,"Unknown MaybeDocument type "+t);var e=t;return Vr(e.key.isEqual(this.key),"Can only transform a document with the same key"),e},Pa.prototype.serverTransformResults=function(t,e){var n=[];Vr(this.fieldTransforms.length===e.length,"server transform result count ("+e.length+") should match field transform count ("+this.fieldTransforms.length+")");for(var r=0;r<e.length;r++){var i=this.fieldTransforms[r],o=i.transform,a=null;t instanceof xs&&(a=t.field(i.field)),n.push(o.applyToRemoteDocument(a,e[r]))}return n},Pa.prototype.localTransformResults=function(t,e,n){for(var r=[],i=0,o=this.fieldTransforms;i<o.length;i++){var a=o[i],s=a.transform,u=null;e instanceof xs&&(u=e.field(a.field)),null===u&&n instanceof xs&&(u=n.field(a.field)),r.push(s.applyToLocalView(u,t))}return r},Pa.prototype.transformObject=function(t,e){Vr(e.length===this.fieldTransforms.length,"TransformResults length mismatch.");for(var n=0;n<this.fieldTransforms.length;n++){var r=this.fieldTransforms[n].field;t=t.set(r,e[n])}return t},Pa);function Pa(t,e){var n=_a.call(this)||this;return n.key=t,n.fieldTransforms=e,n.type=wa.Transform,n.precondition=Ea.exists(!0),n}var xa,qa,Fa,Va,Ba,Ua=(t(Qa,xa=Ca),Qa.prototype.applyToRemoteDocument=function(t,e){return this.verifyKeyMatches(t),Vr(null==e.transformResults,"Transform results received by DeleteMutation."),new Vs(this.key,e.version,{hasCommittedMutations:!0})},Qa.prototype.applyToLocalView=function(t,e,n){return this.verifyKeyMatches(t),this.precondition.isValidFor(t)?(t&&Vr(t.key.isEqual(this.key),"Can only apply mutation to document with same key"),new Vs(this.key,uo.forDeletedDoc())):t},Qa.prototype.extractBaseValue=function(t){return null},Qa.prototype.isEqual=function(t){return t instanceof Qa&&this.key.isEqual(t.key)&&this.precondition.isEqual(t.precondition)},Qa);function Qa(t,e){var n=xa.call(this)||this;return n.key=t,n.precondition=e,n.type=wa.Delete,n}(Fa=qa=qa||{})[Fa.NullValue=0]="NullValue",Fa[Fa.BooleanValue=1]="BooleanValue",Fa[Fa.NumberValue=2]="NumberValue",Fa[Fa.TimestampValue=3]="TimestampValue",Fa[Fa.StringValue=4]="StringValue",Fa[Fa.BlobValue=5]="BlobValue",Fa[Fa.RefValue=6]="RefValue",Fa[Fa.GeoPointValue=7]="GeoPointValue",Fa[Fa.ArrayValue=8]="ArrayValue",Fa[Fa.ObjectValue=9]="ObjectValue",(Ba=Va=Va||{})[Ba.Default=0]="Default",Ba[Ba.Estimate=1]="Estimate",Ba[Ba.Previous=2]="Previous";var Ka=(ja.fromSnapshotOptions=function(t,e){switch(t.serverTimestamps){case"estimate":return new ja(Va.Estimate,e);case"previous":return new ja(Va.Previous,e);case"none":case void 0:return new ja(Va.Default,e);default:return Fr("fromSnapshotOptions() called with invalid options.")}},ja);function ja(t,e){this.serverTimestampBehavior=t,this.timestampsInSnapshots=e}var Wa=(Ga.prototype.toString=function(){var t=this.value();return null===t?"null":t.toString()},Ga.prototype.defaultCompareTo=function(t){return Vr(this.typeOrder!==t.typeOrder,"Default compareTo should not be used for values of same type."),bi(this.typeOrder,t.typeOrder)},Ga);function Ga(){}var za,Ha=(t(Ya,za=Wa),Ya.prototype.value=function(t){return null},Ya.prototype.isEqual=function(t){return t instanceof Ya},Ya.prototype.compareTo=function(t){return t instanceof Ya?0:this.defaultCompareTo(t)},Ya.INSTANCE=new Ya,Ya);function Ya(){var t=za.call(this)||this;return t.typeOrder=qa.NullValue,t.internalValue=null,t}var Xa,Ja=(t(Za,Xa=Wa),Za.prototype.value=function(t){return this.internalValue},Za.prototype.isEqual=function(t){return t instanceof Za&&this.internalValue===t.internalValue},Za.prototype.compareTo=function(t){return t instanceof Za?bi(this,t):this.defaultCompareTo(t)},Za.of=function(t){return t?Za.TRUE:Za.FALSE},Za.TRUE=new Za(!0),Za.FALSE=new Za(!1),Za);function Za(t){var e=Xa.call(this)||this;return e.internalValue=t,e.typeOrder=qa.BooleanValue,e}var $a,ts=(t(es,$a=Wa),es.prototype.value=function(t){return this.internalValue},es.prototype.compareTo=function(t){return t instanceof es?function(t,e){return t<e?-1:e<t?1:t===e?0:isNaN(t)?isNaN(e)?0:-1:1}(this.internalValue,t.internalValue):this.defaultCompareTo(t)},es);function es(t){var e=$a.call(this)||this;return e.internalValue=t,e.typeOrder=qa.NumberValue,e}function ns(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}var rs,is=(t(os,rs=ts),os.prototype.isEqual=function(t){return t instanceof os&&ns(this.internalValue,t.internalValue)},os);function os(){return null!==rs&&rs.apply(this,arguments)||this}var as,ss=(t(us,as=ts),us.prototype.isEqual=function(t){return t instanceof us&&ns(this.internalValue,t.internalValue)},us.NAN=new us(NaN),us.POSITIVE_INFINITY=new us(1/0),us.NEGATIVE_INFINITY=new us(-1/0),us);function us(){return null!==as&&as.apply(this,arguments)||this}var cs,hs=(t(ls,cs=Wa),ls.prototype.value=function(t){return this.internalValue},ls.prototype.isEqual=function(t){return t instanceof ls&&this.internalValue===t.internalValue},ls.prototype.compareTo=function(t){return t instanceof ls?bi(this.internalValue,t.internalValue):this.defaultCompareTo(t)},ls);function ls(t){var e=cs.call(this)||this;return e.internalValue=t,e.typeOrder=qa.StringValue,e}var fs,ds=(t(ps,fs=Wa),ps.prototype.value=function(t){return!t||t.timestampsInSnapshots?this.internalValue:this.internalValue.toDate()},ps.prototype.isEqual=function(t){return t instanceof ps&&this.internalValue.isEqual(t.internalValue)},ps.prototype.compareTo=function(t){return t instanceof ps?this.internalValue._compareTo(t.internalValue):t instanceof ys?-1:this.defaultCompareTo(t)},ps);function ps(t){var e=fs.call(this)||this;return e.internalValue=t,e.typeOrder=qa.TimestampValue,e}var ms,ys=(t(gs,ms=Wa),gs.prototype.value=function(t){return t&&t.serverTimestampBehavior===Va.Estimate?new ds(this.localWriteTime).value(t):t&&t.serverTimestampBehavior===Va.Previous&&this.previousValue?this.previousValue.value(t):null},gs.prototype.isEqual=function(t){return t instanceof gs&&this.localWriteTime.isEqual(t.localWriteTime)},gs.prototype.compareTo=function(t){return t instanceof gs?this.localWriteTime._compareTo(t.localWriteTime):t instanceof ds?1:this.defaultCompareTo(t)},gs.prototype.toString=function(){return"<ServerTimestamp localTime="+this.localWriteTime.toString()+">"},gs);function gs(t,e){var n=ms.call(this)||this;return n.localWriteTime=t,n.previousValue=e,n.typeOrder=qa.TimestampValue,n}var vs,bs=(t(ws,vs=Wa),ws.prototype.value=function(t){return this.internalValue},ws.prototype.isEqual=function(t){return t instanceof ws&&this.internalValue.isEqual(t.internalValue)},ws.prototype.compareTo=function(t){return t instanceof ws?this.internalValue._compareTo(t.internalValue):this.defaultCompareTo(t)},ws);function ws(t){var e=vs.call(this)||this;return e.internalValue=t,e.typeOrder=qa.BlobValue,e}var Ss,Ts=(t(Es,Ss=Wa),Es.prototype.value=function(t){return this.key},Es.prototype.isEqual=function(t){return t instanceof Es&&this.key.isEqual(t.key)&&this.databaseId.isEqual(t.databaseId)},Es.prototype.compareTo=function(t){if(t instanceof Es){var e=this.databaseId.compareTo(t.databaseId);return 0!==e?e:Ki.comparator(this.key,t.key)}return this.defaultCompareTo(t)},Es);function Es(t,e){var n=Ss.call(this)||this;return n.databaseId=t,n.key=e,n.typeOrder=qa.RefValue,n}var Is,Cs=(t(Ds,Is=Wa),Ds.prototype.value=function(t){return this.internalValue},Ds.prototype.isEqual=function(t){return t instanceof Ds&&this.internalValue.isEqual(t.internalValue)},Ds.prototype.compareTo=function(t){return t instanceof Ds?this.internalValue._compareTo(t.internalValue):this.defaultCompareTo(t)},Ds);function Ds(t){var e=Is.call(this)||this;return e.internalValue=t,e.typeOrder=qa.GeoPointValue,e}var Ns,As=(t(ks,Ns=Wa),ks.prototype.value=function(n){var r={};return this.internalValue.inorderTraversal(function(t,e){r[t]=e.value(n)}),r},ks.prototype.forEach=function(t){this.internalValue.inorderTraversal(t)},ks.prototype.isEqual=function(t){if(t instanceof ks){for(var e=this.internalValue.getIterator(),n=t.internalValue.getIterator();e.hasNext()&&n.hasNext();){var r=e.getNext(),i=n.getNext();if(r.key!==i.key||!r.value.isEqual(i.value))return!1}return!e.hasNext()&&!n.hasNext()}return!1},ks.prototype.compareTo=function(t){if(t instanceof ks){for(var e=this.internalValue.getIterator(),n=t.internalValue.getIterator();e.hasNext()&&n.hasNext();){var r=e.getNext(),i=n.getNext(),o=bi(r.key,i.key)||r.value.compareTo(i.value);if(o)return o}return bi(e.hasNext(),n.hasNext())}return this.defaultCompareTo(t)},ks.prototype.set=function(t,e){if(Vr(!t.isEmpty(),"Cannot set field for empty path on ObjectValue"),1===t.length)return this.setChild(t.firstSegment(),e);var n=this.child(t.firstSegment());n instanceof ks||(n=ks.EMPTY);var r=n.set(t.popFirst(),e);return this.setChild(t.firstSegment(),r)},ks.prototype.delete=function(t){if(Vr(!t.isEmpty(),"Cannot delete field for empty path on ObjectValue"),1===t.length)return new ks(this.internalValue.remove(t.firstSegment()));var e=this.child(t.firstSegment());if(e instanceof ks){var n=e.delete(t.popFirst());return new ks(this.internalValue.insert(t.firstSegment(),n))}return this},ks.prototype.contains=function(t){return null!==this.field(t)},ks.prototype.field=function(t){Vr(!t.isEmpty(),"Can't get field of empty path");var e=this;return t.forEach(function(t){e=e instanceof ks?e.internalValue.get(t):null}),e},ks.prototype.fieldMask=function(){var i=new bo(Ui.comparator);return this.internalValue.forEach(function(t,e){var n=new Ui([t]);if(e instanceof ks){var r=e.fieldMask().fields;r.isEmpty()?i=i.add(n):r.forEach(function(t){i=i.add(n.child(t))})}else i=i.add(n)}),ya.fromSet(i)},ks.prototype.toString=function(){return this.internalValue.toString()},ks.prototype.child=function(t){return this.internalValue.get(t)||void 0},ks.prototype.setChild=function(t,e){return new ks(this.internalValue.insert(t,e))},ks.EMPTY=new ks(new ho(bi)),ks);function ks(t){var e=Ns.call(this)||this;return e.internalValue=t,e.typeOrder=qa.ObjectValue,e}var Rs,Ms=(t(Os,Rs=Wa),Os.prototype.value=function(e){return this.internalValue.map(function(t){return t.value(e)})},Os.prototype.contains=function(t){for(var e=0,n=this.internalValue;e<n.length;e++)if(n[e].isEqual(t))return!0;return!1},Os.prototype.forEach=function(t){this.internalValue.forEach(t)},Os.prototype.isEqual=function(t){if(t instanceof Os){if(this.internalValue.length!==t.internalValue.length)return!1;for(var e=0;e<this.internalValue.length;e++)if(!this.internalValue[e].isEqual(t.internalValue[e]))return!1;return!0}return!1},Os.prototype.compareTo=function(t){if(t instanceof Os){for(var e=Math.min(this.internalValue.length,t.internalValue.length),n=0;n<e;n++){var r=this.internalValue[n].compareTo(t.internalValue[n]);if(r)return r}return bi(this.internalValue.length,t.internalValue.length)}return this.defaultCompareTo(t)},Os.prototype.toString=function(){return"["+this.internalValue.map(function(t){return t.toString()}).join(",")+"]"},Os);function Os(t){var e=Rs.call(this)||this;return e.internalValue=t,e.typeOrder=qa.ArrayValue,e}var _s=(Ls.compareByKey=function(t,e){return Ki.comparator(t.key,e.key)},Ls);function Ls(t,e){this.key=t,this.version=e}var Ps,xs=(t(qs,Ps=_s),qs.prototype.field=function(t){if(this.objectValue)return this.objectValue.field(t);this.fieldValueCache||(this.fieldValueCache=new Map);var e=t.canonicalString(),n=this.fieldValueCache.get(e);if(void 0===n){var r=this.getProtoField(t);n=void 0===r?null:this.converter(r),this.fieldValueCache.set(e,n)}return n},qs.prototype.data=function(){var n=this;if(!this.objectValue){var r=As.EMPTY;Jr(this.proto.fields||{},function(t,e){r=r.set(new Ui([t]),n.converter(e))}),this.objectValue=r,this.fieldValueCache=void 0}return this.objectValue},qs.prototype.value=function(){return this.data().value()},qs.prototype.isEqual=function(t){return t instanceof qs&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.hasLocalMutations===t.hasLocalMutations&&this.hasCommittedMutations===t.hasCommittedMutations&&this.data().isEqual(t.data())},qs.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.data().toString()+", {hasLocalMutations: "+this.hasLocalMutations+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(qs.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!0,configurable:!0}),qs.prototype.getProtoField=function(t){Vr(void 0!==this.proto,"Can only call getProtoField() when proto is defined");for(var e=this.proto.fields?this.proto.fields[t.firstSegment()]:void 0,n=1;n<t.length;++n){if(!e||!e.mapValue||!e.mapValue.fields)return;e=e.mapValue.fields[t.get(n)]}return e},qs.compareByField=function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?r.compareTo(i):Fr("Trying to compare documents on fields that don't exist")},qs);function qs(t,e,n,r,i,o){var a=Ps.call(this,t,e)||this;return a.objectValue=r,a.proto=i,a.converter=o,Vr(void 0!==a.objectValue||void 0!==a.proto&&void 0!==a.converter,"If objectValue is not defined, proto and converter need to be set."),a.hasLocalMutations=!!n.hasLocalMutations,a.hasCommittedMutations=!!n.hasCommittedMutations,a}var Fs,Vs=(t(Bs,Fs=_s),Bs.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(Bs.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!0,configurable:!0}),Bs.prototype.isEqual=function(t){return t instanceof Bs&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},Bs);function Bs(t,e,n){var r=Fs.call(this,t,e)||this;return r.hasCommittedMutations=!(!n||!n.hasCommittedMutations),r}var Us,Qs=(t(Ks,Us=_s),Ks.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(Ks.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!0,configurable:!0}),Ks.prototype.isEqual=function(t){return t instanceof Ks&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},Ks);function Ks(){return null!==Us&&Us.apply(this,arguments)||this}var js=(Ws.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];if(a.isEqual(t))return s}},Ws.prototype.has=function(t){return void 0!==this.get(t)},Ws.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(r[i][0].isEqual(t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},Ws.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(n[r][0].isEqual(t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},Ws.prototype.forEach=function(s){Jr(this.inner,function(t,e){for(var n=0,r=e;n<r.length;n++){var i=r[n],o=i[0],a=i[1];s(o,a)}})},Ws.prototype.isEmpty=function(){return Zr(this.inner)},Ws);function Ws(t){this.mapKeyFn=t,this.inner={}}var Gs=(Object.defineProperty(zs.prototype,"readTime",{get:function(){return Vr(void 0!==this._readTime,"Read time is not set. All removeEntry() calls must include a readTime if `trackRemovals` is used."),this._readTime},set:function(t){Vr(void 0===this._readTime||this._readTime.isEqual(t),"All changes in a RemoteDocumentChangeBuffer must have the same read time"),this._readTime=t},enumerable:!0,configurable:!0}),zs.prototype.addEntry=function(t,e){this.assertNotApplied(),this.readTime=e,this.changes.set(t.key,t)},zs.prototype.removeEntry=function(t,e){this.assertNotApplied(),e&&(this.readTime=e),this.changes.set(t,null)},zs.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?Fo.resolve(n):this.getFromCache(t,e)},zs.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},zs.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},zs.prototype.assertNotApplied=function(){Vr(!this.changesApplied,"Changes have already been applied.")},zs);function zs(){this.changes=new js(function(t){return t.toString()}),this.changesApplied=!1}var Hs,Ys=(Xs.prototype.addEntry=function(t,e,n){return $s(t).put(tu(e),n)},Xs.prototype.removeEntry=function(t,e){var n=$s(t),r=tu(e);return n.delete(r)},Xs.prototype.updateMetadata=function(e,n){var r=this;return this.getMetadata(e).next(function(t){return t.byteSize+=n,r.setMetadata(e,t)})},Xs.prototype.getEntry=function(t,e){var n=this;return $s(t).get(tu(e)).next(function(t){return n.maybeDecodeDocument(t)})},Xs.prototype.getSizedEntry=function(t,e){var n=this;return $s(t).get(tu(e)).next(function(t){var e=n.maybeDecodeDocument(t);return e?{maybeDocument:e,size:eu(t)}:null})},Xs.prototype.getEntries=function(t,e){var r=this,i=Co();return this.forEachDbEntry(t,e,function(t,e){var n=r.maybeDecodeDocument(e);i=i.insert(t,n)}).next(function(){return i})},Xs.prototype.getSizedEntries=function(t,e){var r=this,i=Co(),o=new ho(Ki.comparator);return this.forEachDbEntry(t,e,function(t,e){var n=r.maybeDecodeDocument(e);o=n?(i=i.insert(t,n),o.insert(t,eu(e))):(i=i.insert(t,null),o.insert(t,0))}).next(function(){return{maybeDocuments:i,sizeMap:o}})},Xs.prototype.forEachDbEntry=function(t,e,i){if(e.isEmpty())return Fo.resolve();var n=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),o=e.getIterator(),a=o.getNext();return $s(t).iterate({range:n},function(t,e,n){for(var r=Ki.fromSegments(t);a&&Ki.comparator(a,r)<0;)i(a,null),a=o.getNext();a&&a.isEqual(r)&&(i(a,e),a=o.hasNext()?o.getNext():null),a?n.skip(a.path.toArray()):n.done()}).next(function(){for(;a;)i(a,null),a=o.hasNext()?o.getNext():null})},Xs.prototype.getDocumentsMatchingQuery=function(t,i,e){var o=this;Vr(!i.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var a=No(),s=i.path.length+1,n={};if(e.isEqual(uo.MIN)){var r=i.path.toArray();n.range=IDBKeyRange.lowerBound(r)}else{var u=i.path.toArray(),c=this.serializer.toDbTimestampKey(e);n.range=IDBKeyRange.lowerBound([u,c],!0),n.index=wu.collectionReadTimeIndex}return $s(t).iterate(n,function(t,e,n){if(t.length===s){var r=o.serializer.fromDbRemoteDocument(e);i.path.isPrefixOf(r.key.path)?r instanceof xs&&i.matches(r)&&(a=a.insert(r.key,r)):n.done()}}).next(function(){return a})},Xs.prototype.getNewDocumentChanges=function(t,e){var r=this,i=Io(),o=this.serializer.toDbTimestampKey(e),n=$s(t),a=IDBKeyRange.lowerBound(o,!0);return n.iterate({index:wu.readTimeIndex,range:a},function(t,e){var n=r.serializer.fromDbRemoteDocument(e);i=i.insert(n.key,n),o=e.readTime}).next(function(){return{changedDocs:i,readTime:r.serializer.fromDbTimestampKey(o)}})},Xs.prototype.getLastDocumentChange=function(t){var r,i=this,e=$s(t),o=uo.MIN;return e.iterate({index:wu.readTimeIndex,reverse:!0},function(t,e,n){r=i.serializer.fromDbRemoteDocument(e),e.readTime&&(o=i.serializer.fromDbTimestampKey(e.readTime)),n.done()}).next(function(){return{changedDoc:r,readTime:o}})},Xs.prototype.newChangeBuffer=function(t){return new Xs.RemoteDocumentChangeBuffer(this,!!t&&t.trackRemovals)},Xs.prototype.getSize=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},Xs.prototype.getMetadata=function(t){return Zs(t).get(Tu.key).next(function(t){return Vr(!!t,"Missing document cache metadata"),t})},Xs.prototype.setMetadata=function(t,e){return Zs(t).put(Tu.key,e)},Xs.prototype.maybeDecodeDocument=function(t){if(t){var e=this.serializer.fromDbRemoteDocument(t);return e instanceof Vs&&e.version.isEqual(uo.forDeletedDoc())?null:e}return null},Xs.RemoteDocumentChangeBuffer=(t(Js,Hs=Gs),Js.prototype.applyChanges=function(a){var s=this,u=[],c=0,h=new bo(function(t,e){return bi(t.canonicalString(),e.canonicalString())});return this.changes.forEach(function(t,e){var n=s.documentSizes.get(t);if(Vr(void 0!==n,"Cannot modify a document that wasn't read (for "+t+")"),e){Vr(!s.readTime.isEqual(uo.MIN),"Cannot add a document with a read time of zero");var r=s.documentCache.serializer.toDbRemoteDocument(e,s.readTime);h=h.add(t.path.popLast());var i=eu(r);c+=i-n,u.push(s.documentCache.addEntry(a,t,r))}else if(c-=n,s.trackRemovals){var o=s.documentCache.serializer.toDbRemoteDocument(new Vs(t,uo.forDeletedDoc()),s.readTime);u.push(s.documentCache.addEntry(a,t,o))}else u.push(s.documentCache.removeEntry(a,t))}),h.forEach(function(t){u.push(s.documentCache.indexManager.addToCollectionParentIndex(a,t))}),u.push(this.documentCache.updateMetadata(a,c)),Fo.waitFor(u)},Js.prototype.getFromCache=function(t,e){var n=this;return this.documentCache.getSizedEntry(t,e).next(function(t){return null===t?(n.documentSizes.set(e,0),null):(n.documentSizes.set(e,t.size),t.maybeDocument)})},Js.prototype.getAllFromCache=function(t,e){var n=this;return this.documentCache.getSizedEntries(t,e).next(function(t){var e=t.maybeDocuments;return t.sizeMap.forEach(function(t,e){n.documentSizes.set(t,e)}),e})},Js),Xs);function Xs(t,e){this.serializer=t,this.indexManager=e}function Js(t,e){var n=Hs.call(this)||this;return n.documentCache=t,n.trackRemovals=e,n.documentSizes=new js(function(t){return t.toString()}),n}function Zs(t){return cc.getStore(t,Tu.store)}function $s(t){return cc.getStore(t,wu.store)}function tu(t){return t.path.toArray()}function eu(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Fr("Unknown remote document type");e=t.noDocument}return JSON.stringify(e).length}var nu=(ru.prototype.addToCollectionParentIndex=function(t,e){return this.collectionParentIndex.add(e),Fo.resolve()},ru.prototype.getCollectionParents=function(t,e){return Fo.resolve(this.collectionParentIndex.getEntries(e))},ru);function ru(){this.collectionParentIndex=new iu}var iu=(ou.prototype.add=function(t){Vr(t.length%2==1,"Expected a collection path.");var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new bo(qi.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},ou.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},ou.prototype.getEntries=function(t){return(this.index[t]||new bo(qi.comparator)).toArray()},ou);function ou(){this.index={}}var au=9,su=(uu.prototype.createOrUpgrade=function(t,e,n,r){var i=this;Vr(n<r&&0<=n&&r<=au,"Unexpected schema upgrade from v"+n+" to v{toVersion}.");var o=new ra(e);n<1&&1<=r&&(function(t){t.createObjectStore(hu.store)}(t),function(t){t.createObjectStore(fu.store,{keyPath:fu.keyPath}),t.createObjectStore(pu.store,{keyPath:pu.keyPath,autoIncrement:!0}).createIndex(pu.userMutationsIndex,pu.userMutationsKeyPath,{unique:!0}),t.createObjectStore(yu.store)}(t),Ou(t),function(t){t.createObjectStore(wu.store)}(t));var a=Fo.resolve();return n<3&&3<=r&&(0!==n&&(function(t){t.deleteObjectStore(Du.store),t.deleteObjectStore(Iu.store),t.deleteObjectStore(Au.store)}(t),Ou(t)),a=a.next(function(){return function(t){var e=t.store(Au.store),n=new Au(0,0,uo.MIN.toTimestamp(),0);return e.put(Au.key,n)}(o)})),n<4&&4<=r&&(0!==n&&(a=a.next(function(){return function(r,i){return i.store(pu.store).loadAll().next(function(t){r.deleteObjectStore(pu.store),r.createObjectStore(pu.store,{keyPath:pu.keyPath,autoIncrement:!0}).createIndex(pu.userMutationsIndex,pu.userMutationsKeyPath,{unique:!0});var e=i.store(pu.store),n=t.map(function(t){return e.put(t)});return Fo.waitFor(n)})}(t,o)})),a=a.next(function(){!function(t){t.createObjectStore(_u.store,{keyPath:_u.keyPath})}(t)})),n<5&&5<=r&&(a=a.next(function(){return i.removeAcknowledgedMutations(o)})),n<6&&6<=r&&(a=a.next(function(){return function(t){t.createObjectStore(Tu.store)}(t),i.addDocumentGlobal(o)})),n<7&&7<=r&&(a=a.next(function(){return i.ensureSequenceNumbers(o)})),n<8&&8<=r&&(a=a.next(function(){return i.createCollectionParentIndex(t,o)})),n<9&&9<=r&&(a=a.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(wu.store);e.createIndex(wu.readTimeIndex,wu.readTimeIndexPath,{unique:!1}),e.createIndex(wu.collectionReadTimeIndex,wu.collectionReadTimeIndexPath,{unique:!1})}(e)})),a},uu.prototype.addDocumentGlobal=function(e){var n=0;return e.store(wu.store).iterate(function(t,e){n+=eu(e)}).next(function(){var t=new Tu(n);return e.store(Tu.store).put(Tu.key,t)})},uu.prototype.removeAcknowledgedMutations=function(r){var i=this,t=r.store(fu.store),e=r.store(pu.store);return t.loadAll().next(function(t){return Fo.forEach(t,function(n){var t=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return e.loadAll(pu.userMutationsIndex,t).next(function(t){return Fo.forEach(t,function(t){Vr(t.userId===n.userId,"Cannot process batch "+t.batchId+" from unexpected user");var e=i.serializer.fromDbMutationBatch(t);return Ko(r,n.userId,e).next(function(){})})})})})},uu.prototype.ensureSequenceNumbers=function(t){var a=t.store(Du.store),e=t.store(wu.store);return pa(t).next(function(i){var o=[];return e.iterate(function(t,e){var n=new qi(t),r=function(t){return[0,no(t)]}(n);o.push(a.get(r).next(function(t){return t?Fo.resolve():function(t){return a.put(new Du(0,no(t),i))}(n)}))}).next(function(){return Fo.waitFor(o)})})},uu.prototype.createCollectionParentIndex=function(t,e){function i(t){if(o.add(t)){var e=t.lastSegment(),n=t.popLast();return r.put({collectionId:e,parent:no(n)})}}t.createObjectStore(Ru.store,{keyPath:Ru.keyPath});var r=e.store(Ru.store),o=new iu;return e.store(wu.store).iterate({keysOnly:!0},function(t,e){var n=new qi(t);return i(n.popLast())}).next(function(){return e.store(yu.store).iterate({keysOnly:!0},function(t,e){t[0];var n=t[1],r=(t[2],oo(n));return i(r.popLast())})})},uu);function uu(t){this.serializer=t}var cu=function(t,e){this.seconds=t,this.nanoseconds=e},hu=(lu.store="owner",lu.key="owner",lu);function lu(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n}var fu=(du.store="mutationQueues",du.keyPath="userId",du);function du(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n}var pu=(mu.store="mutations",mu.keyPath="batchId",mu.userMutationsIndex="userMutationsIndex",mu.userMutationsKeyPath=["userId","batchId"],mu);function mu(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i}var yu=(gu.prefixForUser=function(t){return[t]},gu.prefixForPath=function(t,e){return[t,no(e)]},gu.key=function(t,e,n){return[t,no(e),n]},gu.store="documentMutations",gu.PLACEHOLDER=new gu,gu);function gu(){}var vu=function(t,e){this.path=t,this.readTime=e},bu=function(t,e){this.path=t,this.version=e},wu=(Su.store="remoteDocuments",Su.readTimeIndex="readTimeIndex",Su.readTimeIndexPath="readTime",Su.collectionReadTimeIndex="collectionReadTimeIndex",Su.collectionReadTimeIndexPath=["parentPath","readTime"],Su);function Su(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o}var Tu=(Eu.store="remoteDocumentGlobal",Eu.key="remoteDocumentGlobalKey",Eu);function Eu(t){this.byteSize=t}var Iu=(Cu.store="targets",Cu.keyPath="targetId",Cu.queryTargetsIndexName="queryTargetsIndex",Cu.queryTargetsKeyPath=["canonicalId","targetId"],Cu);function Cu(t,e,n,r,i,o,a){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a}var Du=(Nu.store="targetDocuments",Nu.keyPath=["targetId","path"],Nu.documentTargetsIndex="documentTargetsIndex",Nu.documentTargetsKeyPath=["path","targetId"],Nu);function Nu(t,e,n){this.targetId=t,this.path=e,Vr(0===t==(void 0!==(this.sequenceNumber=n)),"A target-document row must either have targetId == 0 and a defined sequence number, or a non-zero targetId and no sequence number")}var Au=(ku.key="targetGlobalKey",ku.store="targetGlobal",ku);function ku(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r}var Ru=(Mu.store="collectionParents",Mu.keyPath=["collectionId","parent"],Mu);function Mu(t,e){this.collectionId=t,this.parent=e}function Ou(t){t.createObjectStore(Du.store,{keyPath:Du.keyPath}).createIndex(Du.documentTargetsIndex,Du.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Iu.store,{keyPath:Iu.keyPath}).createIndex(Iu.queryTargetsIndexName,Iu.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Au.store)}var _u=(Lu.store="clientMetadata",Lu.keyPath="clientId",Lu);function Lu(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r}var Pu,xu,qu=a(a(a([fu.store,pu.store,yu.store,wu.store,Iu.store,hu.store,Au.store,Du.store],[_u.store]),[Tu.store]),[Ru.store]),Fu=(Vu.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(Vr(e.length%2==1,"Expected a collection path."),this.collectionParentsCache.has(e))return Fo.resolve();var r=e.lastSegment(),i=e.popLast();return t.addOnCommittedListener(function(){n.collectionParentsCache.add(e)}),Bu(t).put({collectionId:r,parent:no(i)})},Vu.prototype.getCollectionParents=function(t,i){var o=[],e=IDBKeyRange.bound([i,""],[Si(i),""],!1,!0);return Bu(t).loadAll(e).next(function(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if(r.collectionId!==i)break;o.push(oo(r.parent))}return o})},Vu);function Vu(){this.collectionParentsCache=new iu}function Bu(t){return cc.getStore(t,Ru.store)}(xu=Pu=Pu||{})[xu.Listen=0]="Listen",xu[xu.ExistenceFilterMismatch=1]="ExistenceFilterMismatch",xu[xu.LimboResolution=2]="LimboResolution";var Uu=(Qu.prototype.withSequenceNumber=function(t){return new Qu(this.query,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},Qu.prototype.withResumeToken=function(t,e){return new Qu(this.query,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)},Qu.prototype.withLastLimboFreeSnapshotVersion=function(t){return new Qu(this.query,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},Qu.prototype.isEqual=function(t){return this.targetId===t.targetId&&this.purpose===t.purpose&&this.sequenceNumber===t.sequenceNumber&&this.snapshotVersion.isEqual(t.snapshotVersion)&&this.lastLimboFreeSnapshotVersion.isEqual(t.lastLimboFreeSnapshotVersion)&&this.resumeToken===t.resumeToken&&this.query.isEqual(t.query)},Qu);function Qu(t,e,n,r,i,o,a){void 0===i&&(i=uo.MIN),void 0===o&&(o=uo.MIN),void 0===a&&(a=Qr()),this.query=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}var Ku=(ju.prototype.fromDbRemoteDocument=function(t){if(t.document)return this.remoteSerializer.fromDocument(t.document,!!t.hasCommittedMutations);if(t.noDocument){var e=Ki.fromSegments(t.noDocument.path),n=this.fromDbTimestamp(t.noDocument.readTime);return new Vs(e,n,{hasCommittedMutations:!!t.hasCommittedMutations})}return t.unknownDocument?(e=Ki.fromSegments(t.unknownDocument.path),n=this.fromDbTimestamp(t.unknownDocument.version),new Qs(e,n)):Fr("Unexpected DbRemoteDocument")},ju.prototype.toDbRemoteDocument=function(t,e){var n=this.toDbTimestampKey(e),r=t.key.path.popLast().toArray();if(t instanceof xs){var i=t.proto?t.proto:this.remoteSerializer.toDocument(t),o=t.hasCommittedMutations;return new wu(null,null,i,o,n,r)}if(t instanceof Vs){var a=t.key.path.toArray(),s=this.toDbTimestamp(t.version);return o=t.hasCommittedMutations,new wu(null,new vu(a,s),null,o,n,r)}if(t instanceof Qs){a=t.key.path.toArray();var u=this.toDbTimestamp(t.version);return new wu(new bu(a,u),null,null,!0,n,r)}return Fr("Unexpected MaybeDocument")},ju.prototype.toDbTimestampKey=function(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]},ju.prototype.fromDbTimestampKey=function(t){var e=new ao(t[0],t[1]);return uo.fromTimestamp(e)},ju.prototype.toDbTimestamp=function(t){var e=t.toTimestamp();return new cu(e.seconds,e.nanoseconds)},ju.prototype.fromDbTimestamp=function(t){var e=new ao(t.seconds,t.nanoseconds);return uo.fromTimestamp(e)},ju.prototype.toDbMutationBatch=function(t,e){var n=this,r=e.baseMutations.map(function(t){return n.remoteSerializer.toMutation(t)}),i=e.mutations.map(function(t){return n.remoteSerializer.toMutation(t)});return new pu(t,e.batchId,e.localWriteTime.toMillis(),r,i)},ju.prototype.fromDbMutationBatch=function(t){var e=this,n=(t.baseMutations||[]).map(function(t){return e.remoteSerializer.fromMutation(t)}),r=t.mutations.map(function(t){return e.remoteSerializer.fromMutation(t)}),i=ao.fromMillis(t.localWriteTimeMs);return new Lo(t.batchId,i,n,r)},ju.prototype.toDbResourcePaths=function(t){var e=[];return t.forEach(function(t){e.push(no(t.path))}),e},ju.prototype.fromDbResourcePaths=function(t){for(var e=Mo(),n=0,r=t;n<r.length;n++){var i=r[n];e=e.add(new Ki(oo(i)))}return e},ju.prototype.fromDbTarget=function(t){var e,n=this.fromDbTimestamp(t.readTime),r=void 0!==t.lastLimboFreeSnapshotVersion?this.fromDbTimestamp(t.lastLimboFreeSnapshotVersion):uo.MIN,i=t.resumeToken;return e=function(t){return void 0!==t.documents}(t.query)?this.remoteSerializer.fromDocumentsTarget(t.query):this.remoteSerializer.fromQueryTarget(t.query),new Uu(e,t.targetId,Pu.Listen,t.lastListenSequenceNumber,n,r,i)},ju.prototype.toDbTarget=function(t){Vr(Pu.Listen===t.purpose,"Only queries with purpose "+Pu.Listen+" may be stored, got "+t.purpose);var e,n,r=this.toDbTimestamp(t.snapshotVersion),i=this.toDbTimestamp(t.lastLimboFreeSnapshotVersion);return e=t.query.isDocumentQuery()?this.remoteSerializer.toDocumentsTarget(t.query):this.remoteSerializer.toQueryTarget(t.query),n=t.resumeToken instanceof Uint8Array?(Vr("YES"===process.env.USE_MOCK_PERSISTENCE,"Persisting non-string stream tokens is only supported with mock persistence ."),t.resumeToken.toString()):t.resumeToken,new Iu(t.targetId,t.query.canonicalId(),r,n,t.sequenceNumber,i,e)},ju);function ju(t){this.remoteSerializer=t}function Wu(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],a=bi(n,i);return 0===a?bi(r,o):a}var Gu=(zu.prototype.nextIndex=function(){return++this.previousIndex},zu.prototype.addElement=function(t){var e=[t,this.nextIndex()];if(this.buffer.size<this.maxElements)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Wu(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(zu.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!0,configurable:!0}),zu);function zu(t){this.maxElements=t,this.buffer=new bo(Wu),this.previousIndex=0}var Hu={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Yu=(Xu.withCacheSize=function(t){return new Xu(t,Xu.DEFAULT_COLLECTION_PERCENTILE,Xu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},Xu.COLLECTION_DISABLED=-1,Xu.MINIMUM_CACHE_SIZE_BYTES=1048576,Xu.DEFAULT=new Xu(Xu.DEFAULT_CACHE_SIZE_BYTES=41943040,Xu.DEFAULT_COLLECTION_PERCENTILE=10,Xu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3),Xu.DISABLED=new Xu(Xu.COLLECTION_DISABLED,0,0),Xu);function Xu(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}var Ju=(Zu.prototype.start=function(){Vr(null===this.gcTask,"Cannot start an already started LruScheduler"),this.garbageCollector.params.cacheSizeCollectionThreshold!==Yu.COLLECTION_DISABLED&&this.scheduleGC()},Zu.prototype.stop=function(){this.gcTask&&(this.gcTask.cancel(),this.gcTask=null)},Object.defineProperty(Zu.prototype,"started",{get:function(){return null!==this.gcTask},enumerable:!0,configurable:!0}),Zu.prototype.scheduleGC=function(){var t=this;Vr(null===this.gcTask,"Cannot schedule GC while a task is pending");var e=this.hasRun?3e5:6e4;Pr("LruGarbageCollector","Garbage collection scheduled in "+e+"ms"),this.gcTask=this.asyncQueue.enqueueAfterDelay(Wi.LruGarbageCollection,e,function(){return t.gcTask=null,t.hasRun=!0,t.localStore.collectGarbage(t.garbageCollector).then(function(){return t.scheduleGC()}).catch(lc)})},Zu);function Zu(t,e,n){this.garbageCollector=t,this.asyncQueue=e,this.localStore=n,this.hasRun=!1,this.gcTask=null}var $u=(tc.prototype.calculateTargetCount=function(t,e){return this.delegate.getSequenceNumberCount(t).next(function(t){return Math.floor(e/100*t)})},tc.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return Fo.resolve(Mi.INVALID);var r=new Gu(e);return this.delegate.forEachTarget(t,function(t){return r.addElement(t.sequenceNumber)}).next(function(){return n.delegate.forEachOrphanedDocumentSequenceNumber(t,function(t){return r.addElement(t)})}).next(function(){return r.maxValue})},tc.prototype.removeTargets=function(t,e,n){return this.delegate.removeTargets(t,e,n)},tc.prototype.removeOrphanedDocuments=function(t,e){return this.delegate.removeOrphanedDocuments(t,e)},tc.prototype.collect=function(e,n){var r=this;return this.params.cacheSizeCollectionThreshold===Yu.COLLECTION_DISABLED?(Pr("LruGarbageCollector","Garbage collection skipped; disabled"),Fo.resolve(Hu)):this.getCacheSize(e).next(function(t){return t<r.params.cacheSizeCollectionThreshold?(Pr("LruGarbageCollector","Garbage collection skipped; Cache size "+t+" is lower than threshold "+r.params.cacheSizeCollectionThreshold),Hu):r.runGarbageCollection(e,n)})},tc.prototype.getCacheSize=function(t){return this.delegate.getCacheSize(t)},tc.prototype.runGarbageCollection=function(e,n){var r,i,o,a,s,u,c,h=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(function(t){return i=t>h.params.maximumSequenceNumbersToCollect?(Pr("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+h.params.maximumSequenceNumbersToCollect+" from "+t),h.params.maximumSequenceNumbersToCollect):t,a=Date.now(),h.nthSequenceNumber(e,i)}).next(function(t){return r=t,s=Date.now(),h.removeTargets(e,r,n)}).next(function(t){return o=t,u=Date.now(),h.removeOrphanedDocuments(e,r)}).next(function(t){return c=Date.now(),_r()<=Er.DEBUG&&Pr("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(a-l)+"ms\n\tDetermined least recently used "+i+" in "+(s-a)+"ms\n\tRemoved "+o+" targets in "+(u-s)+"ms\n\tRemoved "+t+" documents in "+(c-u)+"ms\nTotal Duration: "+(c-l)+"ms"),Fo.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:t})})},tc);function tc(t,e){this.delegate=t,this.params=e}var ec=(nc.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},nc.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},nc);function nc(){this.onCommittedListeners=[]}var rc,ic="IndexedDbPersistence",oc="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",ac="Another tab has exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs.",sc=(t(uc,rc=ec),uc);function uc(t,e){var n=rc.call(this)||this;return n.simpleDbTransaction=t,n.currentSequenceNumber=e,n}var cc=(hc.getStore=function(t,e){if(t instanceof sc)return $o.getStore(t.simpleDbTransaction,e);throw Fr("IndexedDbPersistence must use instances of IndexedDbTransaction")},hc.createIndexedDbPersistence=function(n){return d(this,void 0,void 0,function(){var e;return p(this,function(t){switch(t.label){case 0:if(!hc.isAvailable())throw new Wr(jr.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");return[4,(e=new hc(n.allowTabSynchronization,n.persistenceKey,n.clientId,n.platform,n.lruParams,n.queue,n.serializer,n.sequenceNumberSyncer)).start()];case 1:return t.sent(),[2,e]}})})},hc.prototype.start=function(){var e=this;return Vr(!this.started,"IndexedDbPersistence double-started!"),Vr(null!==this.window,"Expected 'window' to be defined"),$o.openOrCreate(this.dbName,au,new su(this.serializer)).then(function(t){return e.simpleDb=t,e.updateClientMetadataAndTryBecomePrimary()}).then(function(){return e.attachVisibilityHandler(),e.attachWindowUnloadHook(),e.scheduleClientMetadataAndPrimaryLeaseRefreshes(),e.simpleDb.runTransaction("readonly-idempotent",[Au.store],function(t){return pa(t)})}).then(function(t){e.listenSequence=new Mi(t,e.sequenceNumberSyncer)}).then(function(){e._started=!0}).catch(function(t){return e.simpleDb&&e.simpleDb.close(),Promise.reject(t)})},hc.prototype.setPrimaryStateListener=function(n){var t=this;return this.primaryStateListener=function(e){return d(t,void 0,void 0,function(){return p(this,function(t){return this.started?[2,n(e)]:[2]})})},n(this.isPrimary)},hc.prototype.setDatabaseDeletedListener=function(n){var t=this;this.simpleDb.setVersionChangeListener(function(e){return d(t,void 0,void 0,function(){return p(this,function(t){switch(t.label){case 0:return null!==e.newVersion?[3,2]:[4,n()];case 1:t.sent(),t.label=2;case 2:return[2]}})})})},hc.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.queue.enqueueAndForget(function(){return d(e,void 0,void 0,function(){return p(this,function(t){switch(t.label){case 0:return this.started?[4,this.updateClientMetadataAndTryBecomePrimary()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},hc.prototype.updateClientMetadataAndTryBecomePrimary=function(){var r=this;return this.simpleDb.runTransaction("readwrite",qu,function(n){return dc(n).put(new _u(r.clientId,Date.now(),r.networkEnabled,r.inForeground)).next(function(){if(r.isPrimary)return r.verifyPrimaryLease(n).next(function(t){t||(r.isPrimary=!1,r.queue.enqueueAndForget(function(){return r.primaryStateListener(!1)}))})}).next(function(){return r.canActAsPrimary(n)}).next(function(t){var e=r.isPrimary;return r.isPrimary=t,e!==r.isPrimary&&r.queue.enqueueAndForget(function(){return r.primaryStateListener(r.isPrimary)}),e&&!r.isPrimary?r.releasePrimaryLeaseIfHeld(n):r.isPrimary?r.acquireOrExtendPrimaryLease(n):void 0})})},hc.prototype.verifyPrimaryLease=function(t){var e=this;return fc(t).get(hu.key).next(function(t){return Fo.resolve(e.isLocalClient(t))})},hc.prototype.removeClientMetadata=function(t){return dc(t).delete(this.clientId)},hc.prototype.maybeGarbageCollectMultiClientState=function(){return d(this,void 0,void 0,function(){var n,r,i=this;return p(this,function(t){switch(t.label){case 0:return!this.isPrimary||this.isWithinAge(this.lastGarbageCollectionTime,18e5)?[3,2]:(this.lastGarbageCollectionTime=Date.now(),r=[],[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=hc.getStore(t,_u.store);return e.loadAll().next(function(t){return n=i.filterActiveClients(t,18e5),r=t.filter(function(t){return-1===n.indexOf(t)}),Fo.forEach(r,function(t){return e.delete(t.clientId)})})})]);case 1:t.sent(),r.forEach(function(t){i.window.localStorage.removeItem(i.zombiedClientLocalStorageKey(t.clientId))}),t.label=2;case 2:return[2]}})})},hc.prototype.scheduleClientMetadataAndPrimaryLeaseRefreshes=function(){var t=this;this.clientMetadataRefresher=this.queue.enqueueAfterDelay(Wi.ClientMetadataRefresh,4e3,function(){return t.updateClientMetadataAndTryBecomePrimary().then(function(){return t.maybeGarbageCollectMultiClientState()}).then(function(){return t.scheduleClientMetadataAndPrimaryLeaseRefreshes()})})},hc.prototype.isLocalClient=function(t){return!!t&&t.ownerId===this.clientId},hc.prototype.canActAsPrimary=function(e){var i=this;return fc(e).get(hu.key).next(function(t){if(null!==t&&i.isWithinAge(t.leaseTimestampMs,5e3)&&!i.isClientZombied(t.ownerId)){if(i.isLocalClient(t)&&i.networkEnabled)return!0;if(!i.isLocalClient(t)){if(!t.allowTabSynchronization)throw new Wr(jr.FAILED_PRECONDITION,ac);return!1}}return!(!i.networkEnabled||!i.inForeground)||dc(e).loadAll().next(function(t){return void 0===i.filterActiveClients(t,5e3).find(function(t){if(i.clientId!==t.clientId){var e=!i.networkEnabled&&t.networkEnabled,n=!i.inForeground&&t.inForeground,r=i.networkEnabled===t.networkEnabled;if(e||n&&r)return!0}return!1})})}).next(function(t){return i.isPrimary!==t&&Pr(ic,"Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},hc.prototype.shutdown=function(){return d(this,void 0,void 0,function(){var e=this;return p(this,function(t){switch(t.label){case 0:return this._started=!1,this.markClientZombied(),this.clientMetadataRefresher&&(this.clientMetadataRefresher.cancel(),this.clientMetadataRefresher=null),this.detachVisibilityHandler(),this.detachWindowUnloadHook(),[4,this.simpleDb.runTransaction("readwrite-idempotent",[hu.store,_u.store],function(t){return e.releasePrimaryLeaseIfHeld(t).next(function(){return e.removeClientMetadata(t)})})];case 1:return t.sent(),this.simpleDb.close(),this.removeClientZombiedEntry(),[2]}})})},hc.prototype.filterActiveClients=function(t,e){var n=this;return t.filter(function(t){return n.isWithinAge(t.updateTimeMs,e)&&!n.isClientZombied(t.clientId)})},hc.prototype.getActiveClients=function(){var e=this;return this.simpleDb.runTransaction("readonly-idempotent",[_u.store],function(t){return dc(t).loadAll().next(function(t){return e.filterActiveClients(t,18e5).map(function(t){return t.clientId})})})},hc.clearPersistence=function(n){return d(this,void 0,void 0,function(){var e;return p(this,function(t){switch(t.label){case 0:return hc.isAvailable()?(e=n+hc.MAIN_DATABASE,[4,$o.delete(e)]):[2,Promise.resolve()];case 1:return t.sent(),[2]}})})},Object.defineProperty(hc.prototype,"started",{get:function(){return this._started},enumerable:!0,configurable:!0}),hc.prototype.getMutationQueue=function(t){return Vr(this.started,"Cannot initialize MutationQueue before persistence is started."),Bo.forUser(t,this.serializer,this.indexManager,this.referenceDelegate)},hc.prototype.getQueryCache=function(){return Vr(this.started,"Cannot initialize QueryCache before persistence is started."),this.queryCache},hc.prototype.getRemoteDocumentCache=function(){return Vr(this.started,"Cannot initialize RemoteDocumentCache before persistence is started."),this.remoteDocumentCache},hc.prototype.getIndexManager=function(){return Vr(this.started,"Cannot initialize IndexManager before persistence is started."),this.indexManager},hc.prototype.runTransaction=function(n,t,r){var i=this;Pr(ic,"Starting transaction:",n);var o,e=t.endsWith("idempotent"),a=t.startsWith("readonly")?e?"readonly-idempotent":"readonly":e?"readwrite-idempotent":"readwrite";return this.simpleDb.runTransaction(a,qu,function(e){return o=new sc(e,i.listenSequence.next()),"readwrite-primary"===t||"readwrite-primary-idempotent"===t?i.verifyPrimaryLease(e).next(function(t){if(!t)throw xr("Failed to obtain primary lease for action '"+n+"'."),i.isPrimary=!1,i.queue.enqueueAndForget(function(){return i.primaryStateListener(!1)}),new Wr(jr.FAILED_PRECONDITION,oc);return r(o)}).next(function(t){return i.acquireOrExtendPrimaryLease(e).next(function(){return t})}):i.verifyAllowTabSynchronization(e).next(function(){return r(o)})}).then(function(t){return o.raiseOnCommittedEvent(),t})},hc.prototype.verifyAllowTabSynchronization=function(t){var e=this;return fc(t).get(hu.key).next(function(t){if(null!==t&&e.isWithinAge(t.leaseTimestampMs,5e3)&&!e.isClientZombied(t.ownerId)&&!e.isLocalClient(t)&&!t.allowTabSynchronization)throw new Wr(jr.FAILED_PRECONDITION,ac)})},hc.prototype.acquireOrExtendPrimaryLease=function(t){var e=new hu(this.clientId,this.allowTabSynchronization,Date.now());return fc(t).put(hu.key,e)},hc.isAvailable=function(){return $o.isAvailable()},hc.buildStoragePrefix=function(t){var e=t.databaseId.projectId;return t.databaseId.isDefaultDatabase||(e+="."+t.databaseId.database),"firestore/"+t.persistenceKey+"/"+e+"/"},hc.prototype.releasePrimaryLeaseIfHeld=function(t){var e=this,n=fc(t);return n.get(hu.key).next(function(t){return e.isLocalClient(t)?(Pr(ic,"Releasing primary lease."),n.delete(hu.key)):Fo.resolve()})},hc.prototype.isWithinAge=function(t,e){var n=Date.now();return!(t<n-e||n<t&&(xr("Detected an update time that is in the future: "+t+" > "+n),1))},hc.prototype.attachVisibilityHandler=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.documentVisibilityHandler=function(){t.queue.enqueueAndForget(function(){return t.inForeground="visible"===t.document.visibilityState,t.updateClientMetadataAndTryBecomePrimary()})},this.document.addEventListener("visibilitychange",this.documentVisibilityHandler),this.inForeground="visible"===this.document.visibilityState)},hc.prototype.detachVisibilityHandler=function(){this.documentVisibilityHandler&&(Vr(null!==this.document&&"function"==typeof this.document.addEventListener,"Expected 'document.addEventListener' to be a function"),this.document.removeEventListener("visibilitychange",this.documentVisibilityHandler),this.documentVisibilityHandler=null)},hc.prototype.attachWindowUnloadHook=function(){var t=this;"function"==typeof this.window.addEventListener&&(this.windowUnloadHandler=function(){t.markClientZombied(),t.queue.enqueueAndForget(function(){return t.shutdown()})},this.window.addEventListener("unload",this.windowUnloadHandler))},hc.prototype.detachWindowUnloadHook=function(){this.windowUnloadHandler&&(Vr("function"==typeof this.window.removeEventListener,"Expected 'window.removeEventListener' to be a function"),this.window.removeEventListener("unload",this.windowUnloadHandler),this.windowUnloadHandler=null)},hc.prototype.isClientZombied=function(t){try{var e=null!==this.webStorage.getItem(this.zombiedClientLocalStorageKey(t));return Pr(ic,"Client '"+t+"' "+(e?"is":"is not")+" zombied in LocalStorage"),e}catch(t){return xr(ic,"Failed to get zombied client id.",t),!1}},hc.prototype.markClientZombied=function(){try{this.webStorage.setItem(this.zombiedClientLocalStorageKey(this.clientId),String(Date.now()))}catch(t){xr("Failed to set zombie client id.",t)}},hc.prototype.removeClientZombiedEntry=function(){try{this.webStorage.removeItem(this.zombiedClientLocalStorageKey(this.clientId))}catch(t){}},hc.prototype.zombiedClientLocalStorageKey=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},hc.MAIN_DATABASE="main",hc);function hc(t,e,n,r,i,o,a,s){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=n,this.queue=o,this.sequenceNumberSyncer=s,this._started=!1,this.isPrimary=!1,this.networkEnabled=!0,this.windowUnloadHandler=null,this.inForeground=!1,this.documentVisibilityHandler=null,this.clientMetadataRefresher=null,this.lastGarbageCollectionTime=Number.NEGATIVE_INFINITY,this.primaryStateListener=function(t){return Promise.resolve()},this.referenceDelegate=new pc(this,i),this.dbName=e+hc.MAIN_DATABASE,this.serializer=new Ku(a),this.document=r.document,this.queryCache=new ha(this.referenceDelegate,this.serializer),this.indexManager=new Fu,this.remoteDocumentCache=new Ys(this.serializer,this.indexManager),!r.window||!r.window.localStorage)throw new Wr(jr.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");this.window=r.window,this.webStorage=this.window.localStorage}function lc(e){return d(this,void 0,void 0,function(){return p(this,function(t){if(!function(t){return t.code===jr.FAILED_PRECONDITION&&t.message===oc}(e))throw e;return Pr(ic,"Unexpectedly lost primary lease"),[2]})})}function fc(t){return t.store(hu.store)}function dc(t){return t.store(_u.store)}var pc=(mc.prototype.getSequenceNumberCount=function(t){var n=this.orphanedDocmentCount(t);return this.db.getQueryCache().getQueryCount(t).next(function(e){return n.next(function(t){return e+t})})},mc.prototype.orphanedDocmentCount=function(t){var e=0;return this.forEachOrphanedDocumentSequenceNumber(t,function(t){e++}).next(function(){return e})},mc.prototype.forEachTarget=function(t,e){return this.db.getQueryCache().forEachTarget(t,e)},mc.prototype.forEachOrphanedDocumentSequenceNumber=function(t,n){return this.forEachOrphanedDocument(t,function(t,e){return n(e)})},mc.prototype.setInMemoryPins=function(t){this.inMemoryPins=t},mc.prototype.addReference=function(t,e){return yc(t,e)},mc.prototype.removeReference=function(t,e){return yc(t,e)},mc.prototype.removeTargets=function(t,e,n){return this.db.getQueryCache().removeTargets(t,e,n)},mc.prototype.removeMutationReference=function(t,e){return yc(t,e)},mc.prototype.isPinned=function(t,e){return this.inMemoryPins.containsKey(e)?Fo.resolve(!0):function(e,n){var r=!1;return zo(e).iterateSerial(function(t){return Qo(e,t,n).next(function(t){return t&&(r=!0),Fo.resolve(!t)})}).next(function(){return r})}(t,e)},mc.prototype.removeOrphanedDocuments=function(r,i){var o=this,a=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[],u=0;return this.forEachOrphanedDocument(r,function(e,t){if(t<=i){var n=o.isPinned(r,e).next(function(t){if(!t)return u++,a.getEntry(r,e).next(function(){return a.removeEntry(e),ma(r).delete(function(t){return[0,no(t.path)]}(e))})});s.push(n)}}).next(function(){return Fo.waitFor(s)}).next(function(){return a.apply(r)}).next(function(){return u})},mc.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getQueryCache().updateQueryData(t,n)},mc.prototype.updateLimboDocument=function(t,e){return yc(t,e)},mc.prototype.forEachOrphanedDocument=function(t,o){var a,e=ma(t),s=Mi.INVALID;return e.iterate({index:Du.documentTargetsIndex},function(t,e){var n=t[0],r=(t[1],e.path),i=e.sequenceNumber;0===n?(s!==Mi.INVALID&&o(new Ki(oo(a)),s),s=i,a=r):s=Mi.INVALID}).next(function(){s!==Mi.INVALID&&o(new Ki(oo(a)),s)})},mc.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},mc);function mc(t,e){this.db=t,this.inMemoryPins=null,this.garbageCollector=new $u(this,e)}function yc(t,e){return ma(t).put(function(t,e){return new Du(0,no(t.path),e)}(e,t.currentSequenceNumber))}var gc=(vc.prototype.getDocument=function(e,n){var r=this;return this.mutationQueue.getAllMutationBatchesAffectingDocumentKey(e,n).next(function(t){return r.getDocumentInternal(e,n,t)})},vc.prototype.getDocumentInternal=function(t,r,i){return this.remoteDocumentCache.getEntry(t,r).next(function(t){for(var e=0,n=i;e<n.length;e++)t=n[e].applyToLocalView(r,t);return t})},vc.prototype.applyLocalMutationsToDocuments=function(t,e,i){var o=Co();return e.forEach(function(t,e){for(var n=0,r=i;n<r.length;n++)e=r[n].applyToLocalView(t,e);o=o.insert(t,e)}),o},vc.prototype.getDocuments=function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next(function(t){return n.getLocalViewOfDocuments(e,t)})},vc.prototype.getLocalViewOfDocuments=function(r,i){var o=this;return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(r,i).next(function(t){var e=o.applyLocalMutationsToDocuments(r,i,t),n=Io();return e.forEach(function(t,e){e=e||new Vs(t,uo.forDeletedDoc()),n=n.insert(t,e)}),n})},vc.prototype.getDocumentsMatchingQuery=function(t,e,n){return e.isDocumentQuery()?this.getDocumentsMatchingDocumentQuery(t,e.path):e.isCollectionGroupQuery()?this.getDocumentsMatchingCollectionGroupQuery(t,e,n):this.getDocumentsMatchingCollectionQuery(t,e,n)},vc.prototype.getDocumentsMatchingDocumentQuery=function(t,e){return this.getDocument(t,new Ki(e)).next(function(t){var e=No();return t instanceof xs&&(e=e.insert(t.key,t)),e})},vc.prototype.getDocumentsMatchingCollectionGroupQuery=function(n,r,i){var o=this;Vr(r.path.isEmpty(),"Currently we only support collection group queries at the root.");var a=r.collectionGroup,s=No();return this.indexManager.getCollectionParents(n,a).next(function(t){return Fo.forEach(t,function(t){var e=r.asCollectionQueryAtPath(t.child(a));return o.getDocumentsMatchingCollectionQuery(n,e,i).next(function(t){t.forEach(function(t,e){s=s.insert(t,e)})})}).next(function(){return s})})},vc.prototype.getDocumentsMatchingCollectionQuery=function(e,n,t){var h,l,r=this;return this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,t).next(function(t){return h=t,r.mutationQueue.getAllMutationBatchesAffectingQuery(e,n)}).next(function(t){return l=t,r.addMissingBaseDocuments(e,l,h).next(function(t){h=t;for(var e=0,n=l;e<n.length;e++)for(var r=n[e],i=0,o=r.mutations;i<o.length;i++){var a=o[i],s=a.key,u=h.get(s),c=a.applyToLocalView(u,u,r.localWriteTime);h=c instanceof xs?h.insert(s,c):h.remove(s)}})}).next(function(){return h.forEach(function(t,e){n.matches(e)||(h=h.remove(t))}),h})},vc.prototype.addMissingBaseDocuments=function(t,e,n){for(var r=Mo(),i=0,o=e;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof Ma&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.remoteDocumentCache.getEntries(t,r).next(function(t){return t.forEach(function(t,e){null!==e&&e instanceof xs&&(c=c.insert(t,e))}),c})},vc);function vc(t,e,n){this.remoteDocumentCache=t,this.mutationQueue=e,this.indexManager=n}var bc=(wc.prototype.isEmpty=function(){return this.refsByKey.isEmpty()},wc.prototype.addReference=function(t,e){var n=new Sc(t,e);this.refsByKey=this.refsByKey.add(n),this.refsByTarget=this.refsByTarget.add(n)},wc.prototype.addReferences=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},wc.prototype.removeReference=function(t,e){this.removeRef(new Sc(t,e))},wc.prototype.removeReferences=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},wc.prototype.removeReferencesForId=function(t){var e=this,n=Ki.EMPTY,r=new Sc(n,t),i=new Sc(n,t+1),o=[];return this.refsByTarget.forEachInRange([r,i],function(t){e.removeRef(t),o.push(t.key)}),o},wc.prototype.removeAllReferences=function(){var e=this;this.refsByKey.forEach(function(t){return e.removeRef(t)})},wc.prototype.removeRef=function(t){this.refsByKey=this.refsByKey.delete(t),this.refsByTarget=this.refsByTarget.delete(t)},wc.prototype.referencesForId=function(t){var e=Ki.EMPTY,n=new Sc(e,t),r=new Sc(e,t+1),i=Mo();return this.refsByTarget.forEachInRange([n,r],function(t){i=i.add(t.key)}),i},wc.prototype.containsKey=function(t){var e=new Sc(t,0),n=this.refsByKey.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},wc);function wc(){this.refsByKey=new bo(Sc.compareByKey),this.refsByTarget=new bo(Sc.compareByTargetId)}var Sc=(Tc.compareByKey=function(t,e){return Ki.comparator(t.key,e.key)||bi(t.targetOrBatchId,e.targetOrBatchId)},Tc.compareByTargetId=function(t,e){return bi(t.targetOrBatchId,e.targetOrBatchId)||Ki.comparator(t.key,e.key)},Tc);function Tc(t,e){this.key=t,this.targetOrBatchId=e}var Ec="LocalStore",Ic=(Cc.prototype.start=function(){return this.synchronizeLastDocumentChangeReadTime()},Cc.prototype.handleUserChange=function(i){return d(this,void 0,void 0,function(){var e,y,n,r=this;return p(this,function(t){switch(t.label){case 0:return e=this.mutationQueue,y=this.localDocuments,[4,this.persistence.runTransaction("Handle user change","readonly-idempotent",function(p){var m;return r.mutationQueue.getAllMutationBatches(p).next(function(t){return m=t,e=r.persistence.getMutationQueue(i),y=new gc(r.remoteDocuments,e,r.persistence.getIndexManager()),e.getAllMutationBatches(p)}).next(function(t){for(var e=[],n=[],r=Mo(),i=0,o=m;i<o.length;i++){var a=o[i];e.push(a.batchId);for(var s=0,u=a.mutations;s<u.length;s++){var c=u[s];r=r.add(c.key)}}for(var h=0,l=t;h<l.length;h++){a=l[h],n.push(a.batchId);for(var f=0,d=a.mutations;f<d.length;f++)c=d[f],r=r.add(c.key)}return y.getDocuments(p,r).next(function(t){return{affectedDocuments:t,removedBatchIds:e,addedBatchIds:n}})})})];case 1:return n=t.sent(),this.mutationQueue=e,this.localDocuments=y,this.queryEngine.setLocalDocumentsView(this.localDocuments),[2,n]}})})},Cc.prototype.localWrite=function(s){var u,c=this,h=ao.now(),t=s.reduce(function(t,e){return t.add(e.key)},Mo());return this.persistence.runTransaction("Locally write mutations","readwrite-idempotent",function(a){return c.localDocuments.getDocuments(a,t).next(function(t){u=t;for(var e=[],n=0,r=s;n<r.length;n++){var i=r[n],o=i.extractBaseValue(u.get(i.key));null!=o&&e.push(new Ma(i.key,o,o.fieldMask(),Ea.exists(!0)))}return c.mutationQueue.addMutationBatch(a,h,e,s)})}).then(function(t){var e=t.applyToLocalDocumentSet(u);return{batchId:t.batchId,changes:e}})},Cc.prototype.lookupMutationDocuments=function(t){var n=this;return this.persistence.runTransaction("Lookup mutation documents","readonly-idempotent",function(e){return n.mutationQueue.lookupMutationKeys(e,t).next(function(t){return t?n.localDocuments.getDocuments(e,t):Fo.resolve(null)})})},Cc.prototype.acknowledgeBatch=function(r){var i=this;return this.persistence.runTransaction("Acknowledge batch","readwrite-primary-idempotent",function(t){var e=r.batch.keys(),n=i.remoteDocuments.newChangeBuffer({trackRemovals:!0});return i.mutationQueue.acknowledgeBatch(t,r.batch,r.streamToken).next(function(){return i.applyWriteToRemoteDocuments(t,r,n)}).next(function(){return n.apply(t)}).next(function(){return i.mutationQueue.performConsistencyCheck(t)}).next(function(){return i.localDocuments.getDocuments(t,e)})})},Cc.prototype.rejectBatch=function(t){var r=this;return this.persistence.runTransaction("Reject batch","readwrite-primary-idempotent",function(e){var n;return r.mutationQueue.lookupMutationBatch(e,t).next(function(t){return Vr(null!==t,"Attempt to reject nonexistent batch!"),n=t.keys(),r.mutationQueue.removeMutationBatch(e,t)}).next(function(){return r.mutationQueue.performConsistencyCheck(e)}).next(function(){return r.localDocuments.getDocuments(e,n)})})},Cc.prototype.getHighestUnacknowledgedBatchId=function(){var e=this;return this.persistence.runTransaction("Get highest unacknowledged batch id","readonly-idempotent",function(t){return e.mutationQueue.getHighestUnacknowledgedBatchId(t)})},Cc.prototype.getLastStreamToken=function(){var e=this;return this.persistence.runTransaction("Get last stream token","readonly-idempotent",function(t){return e.mutationQueue.getLastStreamToken(t)})},Cc.prototype.setLastStreamToken=function(e){var n=this;return this.persistence.runTransaction("Set last stream token","readwrite-primary-idempotent",function(t){return n.mutationQueue.setLastStreamToken(t,e)})},Cc.prototype.getLastRemoteSnapshotVersion=function(){var e=this;return this.persistence.runTransaction("Get last remote snapshot version","readonly-idempotent",function(t){return e.queryCache.getLastRemoteSnapshotVersion(t)})},Cc.prototype.applyRemoteEvent=function(u){var c=this,h=u.snapshotVersion,l=this.queryDataByTarget;return this.persistence.runTransaction("Apply remote event","readwrite-primary-idempotent",function(o){var i=c.remoteDocuments.newChangeBuffer({trackRemovals:!0});l=c.queryDataByTarget;var a=[];Xr(u.targetChanges,function(t,e){var n=l.get(t);if(n){a.push(c.queryCache.removeMatchingKeys(o,e.removedDocuments,t).next(function(){return c.queryCache.addMatchingKeys(o,e.addedDocuments,t)}));var r=e.resumeToken;if(0<r.length){var i=n.withResumeToken(r,h).withSequenceNumber(o.currentSequenceNumber);l=l.insert(t,i),Cc.shouldPersistQueryData(n,i,e)&&a.push(c.queryCache.updateQueryData(o,i))}}});var s=Io(),n=Mo();if(u.documentUpdates.forEach(function(t,e){n=n.add(t)}),a.push(i.getEntries(o,n).next(function(r){u.documentUpdates.forEach(function(t,e){var n=r.get(t);e instanceof Vs&&e.version.isEqual(uo.MIN)?(i.removeEntry(t,h),s=s.insert(t,e)):null==n||0<e.version.compareTo(n.version)||0===e.version.compareTo(n.version)&&n.hasPendingWrites?(uo.MIN.isEqual(h)&&xr(Ec,"Cannot add a document when the remote version is zero"),i.addEntry(e,h),s=s.insert(t,e)):Pr(Ec,"Ignoring outdated watch update for ",t,". Current version:",n.version," Watch version:",e.version),u.resolvedLimboDocuments.has(t)&&a.push(c.persistence.referenceDelegate.updateLimboDocument(o,t))})})),!h.isEqual(uo.MIN)){var t=c.queryCache.getLastRemoteSnapshotVersion(o).next(function(t){return Vr(0<=h.compareTo(t),"Watch stream reverted to previous snapshot?? "+h+" < "+t),c.queryCache.setTargetsMetadata(o,o.currentSequenceNumber,h)});a.push(t)}return Fo.waitFor(a).next(function(){return i.apply(o)}).next(function(){return c.localDocuments.getLocalViewOfDocuments(o,s)})}).then(function(t){return c.queryDataByTarget=l,t})},Cc.shouldPersistQueryData=function(t,e,n){return Vr(0<e.resumeToken.length,"Attempted to persist query data with no resume token"),0===t.resumeToken.length||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=this.RESUME_TOKEN_MAX_AGE_MICROS||0<n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size},Cc.prototype.notifyLocalViewChanges=function(t){for(var n=this,e=0,r=t;e<r.length;e++){var i=r[e],o=i.targetId;if(this.localViewReferences.addReferences(i.addedKeys,o),this.localViewReferences.removeReferences(i.removedKeys,o),!i.fromCache){var a=this.queryDataByTarget.get(o);Vr(null!==a,"Can't set limbo-free snapshot version for unknown target: "+o);var s=a.snapshotVersion,u=a.withLastLimboFreeSnapshotVersion(s);this.queryDataByTarget=this.queryDataByTarget.insert(o,u)}}return this.persistence.runTransaction("notifyLocalViewChanges","readwrite-idempotent",function(e){return Fo.forEach(t,function(t){return Fo.forEach(t.removedKeys,function(t){return n.persistence.referenceDelegate.removeReference(e,t)})})})},Cc.prototype.nextMutationBatch=function(e){var n=this;return this.persistence.runTransaction("Get next mutation batch","readonly-idempotent",function(t){return void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(t,e)})},Cc.prototype.readDocument=function(e){var n=this;return this.persistence.runTransaction("read document","readonly-idempotent",function(t){return n.localDocuments.getDocument(t,e)})},Cc.prototype.allocateQuery=function(r){var i=this;return this.persistence.runTransaction("Allocate query","readwrite-idempotent",function(e){var n;return i.queryCache.getQueryData(e,r).next(function(t){return t?(n=t,Fo.resolve(n)):i.queryCache.allocateTargetId(e).next(function(t){return n=new Uu(r,t,Pu.Listen,e.currentSequenceNumber),i.queryCache.addQueryData(e,n).next(function(){return n})})})}).then(function(t){return Vr(null===i.queryDataByTarget.get(t.targetId),"Tried to allocate an already allocated query: "+r),i.queryDataByTarget=i.queryDataByTarget.insert(t.targetId,t),i.targetIdByQuery.set(r,t.targetId),t})},Cc.prototype.getQueryData=function(t,e){var n=this.targetIdByQuery.get(e);return void 0!==n?Fo.resolve(this.queryDataByTarget.get(n)):this.queryCache.getQueryData(t,e)},Cc.prototype.releaseQuery=function(i,o){var a,s=this,t=o?"readwrite-idempotent":"readwrite-primary-idempotent";return this.persistence.runTransaction("Release query",t,function(e){var t=s.targetIdByQuery.get(i);Vr(void 0!==t,"Tried to release nonexistent query: "+i),a=t;var n=s.queryDataByTarget.get(a),r=s.localViewReferences.removeReferencesForId(a);return o?Fo.resolve():Fo.forEach(r,function(t){return s.persistence.referenceDelegate.removeReference(e,t)}).next(function(){s.persistence.referenceDelegate.removeTarget(e,n)})}).then(function(){s.queryDataByTarget=s.queryDataByTarget.remove(a),s.targetIdByQuery.delete(i)})},Cc.prototype.executeQuery=function(t,n){var r=this,i=uo.MIN,o=Mo();return this.persistence.runTransaction("Execute query","readonly-idempotent",function(e){return r.getQueryData(e,t).next(function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.queryCache.getMatchingKeysForTargetId(e,t.targetId).next(function(t){o=t})}).next(function(){return r.queryEngine.getDocumentsMatchingQuery(e,t,n?i:uo.MIN,n?o:Mo())}).next(function(t){return{documents:t,remoteKeys:o}})})},Cc.prototype.remoteDocumentKeys=function(e){var n=this;return this.persistence.runTransaction("Remote document keys","readonly-idempotent",function(t){return n.queryCache.getMatchingKeysForTargetId(t,e)})},Cc.prototype.getActiveClients=function(){return this.persistence.getActiveClients()},Cc.prototype.removeCachedMutationBatchMetadata=function(t){this.mutationQueue.removeCachedMutationKeys(t)},Cc.prototype.setNetworkEnabled=function(t){this.persistence.setNetworkEnabled(t)},Cc.prototype.applyWriteToRemoteDocuments=function(t,i,o){var e=this,a=i.batch,n=a.keys(),s=Fo.resolve();return n.forEach(function(r){s=s.next(function(){return o.getEntry(t,r)}).next(function(t){var e=t,n=i.docVersions.get(r);Vr(null!==n,"ackVersions should contain every doc in the write."),(!e||e.version.compareTo(n)<0)&&((e=a.applyToRemoteDocument(r,e,i))?o.addEntry(e,i.commitVersion):Vr(!t,"Mutation batch "+a+" applied to document "+t+" resulted in null"))})}),s.next(function(){return e.mutationQueue.removeMutationBatch(t,a)})},Cc.prototype.collectGarbage=function(e){var n=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary-idempotent",function(t){return e.collect(t,n.queryDataByTarget)})},Cc.prototype.getQueryForTarget=function(e){var n=this,t=this.queryDataByTarget.get(e);return t?Promise.resolve(t.query):this.persistence.runTransaction("Get query data","readonly-idempotent",function(t){return n.queryCache.getQueryDataForTarget(t,e).next(function(t){return t?t.query:null})})},Cc.prototype.getNewDocumentChanges=function(){var r=this;return this.persistence.runTransaction("Get new document changes","readonly-idempotent",function(t){return r.remoteDocuments.getNewDocumentChanges(t,r.lastDocumentChangeReadTime)}).then(function(t){var e=t.changedDocs,n=t.readTime;return r.lastDocumentChangeReadTime=n,e})},Cc.prototype.synchronizeLastDocumentChangeReadTime=function(){return d(this,void 0,void 0,function(){var e,n=this;return p(this,function(t){return this.remoteDocuments instanceof Ys?(e=this.remoteDocuments,[2,this.persistence.runTransaction("Synchronize last document change read time","readonly-idempotent",function(t){return e.getLastDocumentChange(t)}).then(function(t){var e=t.readTime;n.lastDocumentChangeReadTime=e})]):[2]})})},Cc.RESUME_TOKEN_MAX_AGE_MICROS=3e8,Cc);function Cc(t,e,n){this.persistence=t,this.queryEngine=e,this.localViewReferences=new bc,this.queryDataByTarget=new ho(bi),this.targetIdByQuery=new js(function(t){return t.canonicalId()}),this.lastDocumentChangeReadTime=uo.MIN,Vr(t.started,"LocalStore was passed an unstarted persistence implementation"),this.persistence.referenceDelegate.setInMemoryPins(this.localViewReferences),this.mutationQueue=t.getMutationQueue(n),this.remoteDocuments=t.getRemoteDocumentCache(),this.queryCache=t.getQueryCache(),this.localDocuments=new gc(this.remoteDocuments,this.mutationQueue,this.persistence.getIndexManager()),this.queryEngine.setLocalDocumentsView(this.localDocuments)}var Dc=(Nc.prototype.checkEmpty=function(t){return Fo.resolve(0===this.mutationQueue.length)},Nc.prototype.acknowledgeBatch=function(t,e,n){var r=e.batchId,i=this.indexOfExistingBatchId(r,"acknowledged");Vr(0===i,"Can only acknowledge the first batch in the mutation queue");var o=this.mutationQueue[i];return Vr(r===o.batchId,"Queue ordering failure: expected batch "+r+", got batch "+o.batchId),this.lastStreamToken=n,Fo.resolve()},Nc.prototype.getLastStreamToken=function(t){return Fo.resolve(this.lastStreamToken)},Nc.prototype.setLastStreamToken=function(t,e){return this.lastStreamToken=e,Fo.resolve()},Nc.prototype.addMutationBatch=function(t,e,n,r){Vr(0!==r.length,"Mutation batches should not be empty");var i=this.nextBatchId;this.nextBatchId++,0<this.mutationQueue.length&&Vr(this.mutationQueue[this.mutationQueue.length-1].batchId<i,"Mutation batchIDs must be monotonically increasing order");var o=new Lo(i,e,n,r);this.mutationQueue.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.batchesByDocumentKey=this.batchesByDocumentKey.add(new Sc(u.key,i)),this.indexManager.addToCollectionParentIndex(t,u.key.path.popLast())}return Fo.resolve(o)},Nc.prototype.lookupMutationBatch=function(t,e){return Fo.resolve(this.findMutationBatch(e))},Nc.prototype.lookupMutationKeys=function(t,e){var n=this.findMutationBatch(e);return Vr(null!=n,"Failed to find local mutation batch."),Fo.resolve(n.keys())},Nc.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=e+1,r=this.indexOfBatchId(n),i=r<0?0:r;return Fo.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)},Nc.prototype.getHighestUnacknowledgedBatchId=function(){return Fo.resolve(0===this.mutationQueue.length?-1:this.nextBatchId-1)},Nc.prototype.getAllMutationBatches=function(t){return Fo.resolve(this.mutationQueue.slice())},Nc.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var r=this,e=new Sc(n,0),i=new Sc(n,Number.POSITIVE_INFINITY),o=[];return this.batchesByDocumentKey.forEachInRange([e,i],function(t){Vr(n.isEqual(t.key),"Should only iterate over a single key's batches");var e=r.findMutationBatch(t.targetOrBatchId);Vr(null!==e,"Batches in the index must exist in the main table"),o.push(e)}),Fo.resolve(o)},Nc.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var r=this,i=new bo(bi);return e.forEach(function(e){var t=new Sc(e,0),n=new Sc(e,Number.POSITIVE_INFINITY);r.batchesByDocumentKey.forEachInRange([t,n],function(t){Vr(e.isEqual(t.key),"For each key, should only iterate over a single key's batches"),i=i.add(t.targetOrBatchId)})}),Fo.resolve(this.findMutationBatches(i))},Nc.prototype.getAllMutationBatchesAffectingQuery=function(t,e){Vr(!e.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var n=e.path,r=n.length+1,i=n;Ki.isDocumentKey(i)||(i=i.child(""));var o=new Sc(new Ki(i),0),a=new bo(bi);return this.batchesByDocumentKey.forEachWhile(function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(a=a.add(t.targetOrBatchId)),!0)},o),Fo.resolve(this.findMutationBatches(a))},Nc.prototype.findMutationBatches=function(t){var n=this,r=[];return t.forEach(function(t){var e=n.findMutationBatch(t);null!==e&&r.push(e)}),r},Nc.prototype.removeMutationBatch=function(n,r){var i=this;Vr(0===this.indexOfExistingBatchId(r.batchId,"removed"),"Can only remove the first entry of the mutation queue"),this.mutationQueue.shift();var o=this.batchesByDocumentKey;return Fo.forEach(r.mutations,function(t){var e=new Sc(t.key,r.batchId);return o=o.delete(e),i.referenceDelegate.removeMutationReference(n,t.key)}).next(function(){i.batchesByDocumentKey=o})},Nc.prototype.removeCachedMutationKeys=function(t){},Nc.prototype.containsKey=function(t,e){var n=new Sc(e,0),r=this.batchesByDocumentKey.firstAfterOrEqual(n);return Fo.resolve(e.isEqual(r&&r.key))},Nc.prototype.performConsistencyCheck=function(t){return 0===this.mutationQueue.length&&Vr(this.batchesByDocumentKey.isEmpty(),"Document leak -- detected dangling mutation references when queue is empty."),Fo.resolve()},Nc.prototype.indexOfExistingBatchId=function(t,e){var n=this.indexOfBatchId(t);return Vr(0<=n&&n<this.mutationQueue.length,"Batches must exist to be "+e),n},Nc.prototype.indexOfBatchId=function(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId},Nc.prototype.findMutationBatch=function(t){var e=this.indexOfBatchId(t);if(e<0||e>=this.mutationQueue.length)return null;var n=this.mutationQueue[e];return Vr(n.batchId===t,"If found batch must match"),n},Nc);function Nc(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.nextBatchId=1,this.lastStreamToken=Qr(),this.batchesByDocumentKey=new bo(Sc.compareByKey)}var Ac=(kc.prototype.getTargetCount=function(t){return Fo.resolve(this.targetCount)},kc.prototype.forEachTarget=function(t,n){return this.queries.forEach(function(t,e){return n(e)}),Fo.resolve()},kc.prototype.getLastRemoteSnapshotVersion=function(t){return Fo.resolve(this.lastRemoteSnapshotVersion)},kc.prototype.getHighestSequenceNumber=function(t){return Fo.resolve(this.highestSequenceNumber)},kc.prototype.allocateTargetId=function(t){var e=this.targetIdGenerator.after(this.highestTargetId);return this.highestTargetId=e,Fo.resolve(e)},kc.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.highestSequenceNumber&&(this.highestSequenceNumber=e),Fo.resolve()},kc.prototype.saveQueryData=function(t){this.queries.set(t.query,t);var e=t.targetId;e>this.highestTargetId&&(this.highestTargetId=e),t.sequenceNumber>this.highestSequenceNumber&&(this.highestSequenceNumber=t.sequenceNumber)},kc.prototype.addQueryData=function(t,e){return Vr(!this.queries.has(e.query),"Adding a query that already exists"),this.saveQueryData(e),this.targetCount+=1,Fo.resolve()},kc.prototype.updateQueryData=function(t,e){return Vr(this.queries.has(e.query),"Updating a non-existent query"),this.saveQueryData(e),Fo.resolve()},kc.prototype.removeQueryData=function(t,e){return Vr(0<this.targetCount,"Removing a target from an empty cache"),Vr(this.queries.has(e.query),"Removing a non-existent target from the cache"),this.queries.delete(e.query),this.references.removeReferencesForId(e.targetId),this.targetCount-=1,Fo.resolve()},kc.prototype.removeTargets=function(n,r,i){var o=this,a=0,s=[];return this.queries.forEach(function(t,e){e.sequenceNumber<=r&&null===i.get(e.targetId)&&(o.queries.delete(t),s.push(o.removeMatchingKeysForTargetId(n,e.targetId)),a++)}),Fo.waitFor(s).next(function(){return a})},kc.prototype.getQueryCount=function(t){return Fo.resolve(this.targetCount)},kc.prototype.getQueryData=function(t,e){var n=this.queries.get(e)||null;return Fo.resolve(n)},kc.prototype.getQueryDataForTarget=function(t,e){return Fr("Not yet implemented.")},kc.prototype.addMatchingKeys=function(e,t,n){this.references.addReferences(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(function(t){i.push(r.addReference(e,t))}),Fo.waitFor(i)},kc.prototype.removeMatchingKeys=function(e,t,n){this.references.removeReferences(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(function(t){i.push(r.removeReference(e,t))}),Fo.waitFor(i)},kc.prototype.removeMatchingKeysForTargetId=function(t,e){return this.references.removeReferencesForId(e),Fo.resolve()},kc.prototype.getMatchingKeysForTargetId=function(t,e){var n=this.references.referencesForId(e);return Fo.resolve(n)},kc.prototype.containsKey=function(t,e){return Fo.resolve(this.references.containsKey(e))},kc);function kc(t){this.persistence=t,this.queries=new js(function(t){return t.canonicalId()}),this.lastRemoteSnapshotVersion=uo.MIN,this.highestTargetId=0,this.highestSequenceNumber=0,this.references=new bc,this.targetCount=0,this.targetIdGenerator=Xo.forQueryCache()}var Rc,Mc=(Oc.prototype.addEntry=function(t,e,n){Vr(!n.isEqual(uo.MIN),"Cannot add a document with a read time of zero");var r=e.key,i=this.docs.get(r),o=i?i.size:0,a=this.sizer(e);return this.docs=this.docs.insert(r,{maybeDocument:e,size:a,readTime:n}),this.size+=a-o,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())},Oc.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},Oc.prototype.getEntry=function(t,e){var n=this.docs.get(e);return Fo.resolve(n?n.maybeDocument:null)},Oc.prototype.getEntries=function(t,e){var n=this,r=Co();return e.forEach(function(t){var e=n.docs.get(t);r=r.insert(t,e?e.maybeDocument:null)}),Fo.resolve(r)},Oc.prototype.getDocumentsMatchingQuery=function(t,e,n){Vr(!e.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");for(var r=No(),i=new Ki(e.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var a=o.getNext(),s=a.key,u=a.value,c=u.maybeDocument,h=u.readTime;if(!e.path.isPrefixOf(s.path))break;h.compareTo(n)<=0||c instanceof xs&&e.matches(c)&&(r=r.insert(c.key,c))}return Fo.resolve(r)},Oc.prototype.forEachDocumentKey=function(t,e){return Fo.forEach(this.docs,function(t){return e(t)})},Oc.prototype.getNewDocumentChanges=function(t,e){throw new Error("getNewDocumentChanges() is not supported with MemoryPersistence")},Oc.prototype.newChangeBuffer=function(t){return new Oc.RemoteDocumentChangeBuffer(this)},Oc.prototype.getSize=function(t){return Fo.resolve(this.size)},Oc.RemoteDocumentChangeBuffer=(t(_c,Rc=Gs),_c.prototype.applyChanges=function(n){var r=this,i=[];return this.changes.forEach(function(t,e){e?i.push(r.documentCache.addEntry(n,e,r.readTime)):r.documentCache.removeEntry(t)}),Fo.waitFor(i)},_c.prototype.getFromCache=function(t,e){return this.documentCache.getEntry(t,e)},_c.prototype.getAllFromCache=function(t,e){return this.documentCache.getEntries(t,e)},_c),Oc);function Oc(t,e){this.indexManager=t,this.sizer=e,this.docs=new ho(Ki.comparator),this.size=0}function _c(t){var e=Rc.call(this)||this;return e.documentCache=t,e}var Lc=(Pc.createLruPersistence=function(t,e,n){return new Pc(t,function(t){return new Uc(t,new Ku(e),n)})},Pc.createEagerPersistence=function(t){return new Pc(t,function(t){return new Vc(t)})},Pc.prototype.shutdown=function(){return this._started=!1,Promise.resolve()},Object.defineProperty(Pc.prototype,"started",{get:function(){return this._started},enumerable:!0,configurable:!0}),Pc.prototype.getActiveClients=function(){return d(this,void 0,void 0,function(){return p(this,function(t){return[2,[this.clientId]]})})},Pc.prototype.setPrimaryStateListener=function(t){return t(!0)},Pc.prototype.setDatabaseDeletedListener=function(){},Pc.prototype.setNetworkEnabled=function(t){},Pc.prototype.getIndexManager=function(){return this.indexManager},Pc.prototype.getMutationQueue=function(t){var e=this.mutationQueues[t.toKey()];return e||(e=new Dc(this.indexManager,this.referenceDelegate),this.mutationQueues[t.toKey()]=e),e},Pc.prototype.getQueryCache=function(){return this.queryCache},Pc.prototype.getRemoteDocumentCache=function(){return this.remoteDocumentCache},Pc.prototype.runTransaction=function(t,e,n){var r=this;Pr("MemoryPersistence","Starting transaction:",t);var i=new qc(this.listenSequence.next());return this.referenceDelegate.onTransactionStarted(),n(i).next(function(t){return r.referenceDelegate.onTransactionCommitted(i).next(function(){return t})}).toPromise().then(function(t){return i.raiseOnCommittedEvent(),t})},Pc.prototype.mutationQueuesContainKey=function(e,n){return Fo.or(function(t){var n=[];return Jr(t,function(t,e){return n.push(e)}),n}(this.mutationQueues).map(function(t){return function(){return t.containsKey(e,n)}}))},Pc);function Pc(t,e){var n=this;this.clientId=t,this.mutationQueues={},this.listenSequence=new Mi(0),this._started=!1,this._started=!0,this.referenceDelegate=e(this),this.queryCache=new Ac(this);this.indexManager=new nu,this.remoteDocumentCache=new Mc(this.indexManager,function(t){return n.referenceDelegate.documentSize(t)})}var xc,qc=(t(Fc,xc=ec),Fc);function Fc(t){var e=xc.call(this)||this;return e.currentSequenceNumber=t,e}var Vc=(Object.defineProperty(Bc.prototype,"orphanedDocuments",{get:function(){if(this._orphanedDocuments)return this._orphanedDocuments;throw Fr("orphanedDocuments is only valid during a transaction.")},enumerable:!0,configurable:!0}),Bc.prototype.setInMemoryPins=function(t){this.inMemoryPins=t},Bc.prototype.addReference=function(t,e){return this.orphanedDocuments.delete(e),Fo.resolve()},Bc.prototype.removeReference=function(t,e){return this.orphanedDocuments.add(e),Fo.resolve()},Bc.prototype.removeMutationReference=function(t,e){return this.orphanedDocuments.add(e),Fo.resolve()},Bc.prototype.removeTarget=function(t,e){var n=this,r=this.persistence.getQueryCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(function(t){t.forEach(function(t){return n.orphanedDocuments.add(t)})}).next(function(){return r.removeQueryData(t,e)})},Bc.prototype.onTransactionStarted=function(){this._orphanedDocuments=new Set},Bc.prototype.onTransactionCommitted=function(t){var n=this,r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Fo.forEach(this.orphanedDocuments,function(e){return n.isReferenced(t,e).next(function(t){t||r.removeEntry(e)})}).next(function(){return n._orphanedDocuments=null,r.apply(t)})},Bc.prototype.updateLimboDocument=function(t,e){var n=this;return this.isReferenced(t,e).next(function(t){t?n.orphanedDocuments.delete(e):n.orphanedDocuments.add(e)})},Bc.prototype.documentSize=function(t){return 0},Bc.prototype.isReferenced=function(t,e){var n=this;return Fo.or([function(){return n.persistence.getQueryCache().containsKey(t,e)},function(){return n.persistence.mutationQueuesContainKey(t,e)},function(){return Fo.resolve(n.inMemoryPins.containsKey(e))}])},Bc);function Bc(t){this.persistence=t,this.inMemoryPins=null,this._orphanedDocuments=null}var Uc=(Qc.prototype.onTransactionStarted=function(){},Qc.prototype.onTransactionCommitted=function(t){return Fo.resolve()},Qc.prototype.forEachTarget=function(t,e){return this.persistence.getQueryCache().forEachTarget(t,e)},Qc.prototype.getSequenceNumberCount=function(t){var n=this.orphanedDocumentCount(t);return this.persistence.getQueryCache().getTargetCount(t).next(function(e){return n.next(function(t){return e+t})})},Qc.prototype.orphanedDocumentCount=function(t){var e=0;return this.forEachOrphanedDocumentSequenceNumber(t,function(t){e++}).next(function(){return e})},Qc.prototype.forEachOrphanedDocumentSequenceNumber=function(n,r){var i=this;return Fo.forEach(this.orphanedSequenceNumbers,function(t,e){return i.isPinned(n,t,e).next(function(t){return t?Fo.resolve():r(e)})})},Qc.prototype.setInMemoryPins=function(t){this.inMemoryPins=t},Qc.prototype.removeTargets=function(t,e,n){return this.persistence.getQueryCache().removeTargets(t,e,n)},Qc.prototype.removeOrphanedDocuments=function(t,n){var r=this,i=0,e=this.persistence.getRemoteDocumentCache(),o=e.newChangeBuffer();return e.forEachDocumentKey(t,function(e){return r.isPinned(t,e,n).next(function(t){t||(i++,o.removeEntry(e))})}).next(function(){return o.apply(t)}).next(function(){return i})},Qc.prototype.removeMutationReference=function(t,e){return this.orphanedSequenceNumbers.set(e,t.currentSequenceNumber),Fo.resolve()},Qc.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getQueryCache().updateQueryData(t,n)},Qc.prototype.addReference=function(t,e){return this.orphanedSequenceNumbers.set(e,t.currentSequenceNumber),Fo.resolve()},Qc.prototype.removeReference=function(t,e){return this.orphanedSequenceNumbers.set(e,t.currentSequenceNumber),Fo.resolve()},Qc.prototype.updateLimboDocument=function(t,e){return this.orphanedSequenceNumbers.set(e,t.currentSequenceNumber),Fo.resolve()},Qc.prototype.documentSize=function(t){var e,n=this.serializer.toDbRemoteDocument(t,t.version);if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Fr("Unknown remote document type");e=n.noDocument}return JSON.stringify(e).length},Qc.prototype.isPinned=function(t,e,n){var r=this;return Fo.or([function(){return r.persistence.mutationQueuesContainKey(t,e)},function(){return Fo.resolve(r.inMemoryPins.containsKey(e))},function(){return r.persistence.getQueryCache().containsKey(t,e)},function(){var t=r.orphanedSequenceNumbers.get(e);return Fo.resolve(void 0!==t&&n<t)}])},Qc.prototype.getCacheSize=function(t){return this.persistence.getRemoteDocumentCache().getSize(t)},Qc);function Qc(t,e,n){this.persistence=t,this.serializer=e,this.inMemoryPins=null,this.orphanedSequenceNumbers=new js(function(t){return no(t.path)}),this.garbageCollector=new $u(this,n)}var Kc=(jc.prototype.setLocalDocumentsView=function(t){this.localDocumentsView=t},jc.prototype.getDocumentsMatchingQuery=function(t,e,n,r){return Vr(void 0!==this.localDocumentsView,"setLocalDocumentsView() not called"),this.localDocumentsView.getDocumentsMatchingQuery(t,e,uo.MIN)},jc);function jc(){}var Wc=Number,Gc=Wc.MIN_SAFE_INTEGER||-(Math.pow(2,53)-1),zc=Wc.MAX_SAFE_INTEGER||Math.pow(2,53)-1,Hc=Wc.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t};function Yc(t){return null==t}function Xc(t){return Hc(t)&&t<=zc&&Gc<=t}var Jc=(Zc.prototype.reset=function(){this.currentBaseMs=0},Zc.prototype.resetToMax=function(){this.currentBaseMs=this.maxDelayMs},Zc.prototype.backoffAndRun=function(t){var e=this;this.cancel();var n=Math.floor(this.currentBaseMs+this.jitterDelayMs()),r=Math.max(0,Date.now()-this.lastAttemptTime),i=Math.max(0,n-r);0<this.currentBaseMs&&Pr("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.currentBaseMs+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.timerPromise=this.queue.enqueueAfterDelay(this.timerId,i,function(){return e.lastAttemptTime=Date.now(),t()}),this.currentBaseMs*=this.backoffFactor,this.currentBaseMs<this.initialDelayMs&&(this.currentBaseMs=this.initialDelayMs),this.currentBaseMs>this.maxDelayMs&&(this.currentBaseMs=this.maxDelayMs)},Zc.prototype.cancel=function(){null!==this.timerPromise&&(this.timerPromise.cancel(),this.timerPromise=null)},Zc.prototype.jitterDelayMs=function(){return(Math.random()-.5)*this.currentBaseMs},Zc);function Zc(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.queue=t,this.timerId=e,this.initialDelayMs=n,this.backoffFactor=r,this.maxDelayMs=i,this.currentBaseMs=0,this.timerPromise=null,this.lastAttemptTime=Date.now(),this.reset()}var $c,th,eh="PersistentStream";(th=$c=$c||{})[th.Initial=0]="Initial",th[th.Starting=1]="Starting",th[th.Open=2]="Open",th[th.Error=3]="Error",th[th.Backoff=4]="Backoff";var nh=(rh.prototype.isStarted=function(){return this.state===$c.Starting||this.state===$c.Open||this.state===$c.Backoff},rh.prototype.isOpen=function(){return this.state===$c.Open},rh.prototype.start=function(){this.state!==$c.Error?(Vr(this.state===$c.Initial,"Already started"),this.auth()):this.performBackoff()},rh.prototype.stop=function(){return d(this,void 0,void 0,function(){return p(this,function(t){switch(t.label){case 0:return this.isStarted()?[4,this.close($c.Initial)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},rh.prototype.inhibitBackoff=function(){Vr(!this.isStarted(),"Can only inhibit backoff in a stopped state"),this.state=$c.Initial,this.backoff.reset()},rh.prototype.markIdle=function(){var t=this;this.isOpen()&&null===this.idleTimer&&(this.idleTimer=this.queue.enqueueAfterDelay(this.idleTimerId,6e4,function(){return t.handleIdleCloseTimer()}))},rh.prototype.sendRequest=function(t){this.cancelIdleCheck(),this.stream.send(t)},rh.prototype.handleIdleCloseTimer=function(){return d(this,void 0,void 0,function(){return p(this,function(t){return this.isOpen()?[2,this.close($c.Initial)]:[2]})})},rh.prototype.cancelIdleCheck=function(){this.idleTimer&&(this.idleTimer.cancel(),this.idleTimer=null)},rh.prototype.close=function(e,n){return d(this,void 0,void 0,function(){return p(this,function(t){switch(t.label){case 0:return Vr(this.isStarted(),"Only started streams should be closed."),Vr(e===$c.Error||Yc(n),"Can't provide an error when not in an error state."),this.cancelIdleCheck(),this.backoff.cancel(),this.closeCount++,e!==$c.Error?this.backoff.reset():n&&n.code===jr.RESOURCE_EXHAUSTED?(xr(n.toString()),xr("Using maximum backoff delay to prevent overloading the backend."),this.backoff.resetToMax()):n&&n.code===jr.UNAUTHENTICATED&&this.credentialsProvider.invalidateToken(),null!==this.stream&&(this.tearDown(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.onClose(n)];case 1:return t.sent(),[2]}})})},rh.prototype.tearDown=function(){},rh.prototype.auth=function(){var n=this;Vr(this.state===$c.Initial,"Must be in initial state to auth"),this.state=$c.Starting;var t=this.getCloseGuardedDispatcher(this.closeCount),e=this.closeCount;this.credentialsProvider.getToken().then(function(t){n.closeCount===e&&n.startStream(t)},function(e){t(function(){var t=new Wr(jr.UNKNOWN,"Fetching auth token failed: "+e.message);return n.handleStreamClose(t)})})},rh.prototype.startStream=function(t){var e=this;Vr(this.state===$c.Starting,"Trying to start stream in a non-starting state");var n=this.getCloseGuardedDispatcher(this.closeCount);this.stream=this.startRpc(t),this.stream.onOpen(function(){n(function(){return Vr(e.state===$c.Starting,"Expected stream to be in state Starting, but was "+e.state),e.state=$c.Open,e.listener.onOpen()})}),this.stream.onClose(function(t){n(function(){return e.handleStreamClose(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},rh.prototype.performBackoff=function(){var t=this;Vr(this.state===$c.Error,"Should only perform backoff when in Error state"),this.state=$c.Backoff,this.backoff.backoffAndRun(function(){return d(t,void 0,void 0,function(){return p(this,function(t){return Vr(this.state===$c.Backoff,"Backoff elapsed but state is now: "+this.state),this.state=$c.Initial,this.start(),Vr(this.isStarted(),"PersistentStream should have started"),[2]})})})},rh.prototype.handleStreamClose=function(t){return Vr(this.isStarted(),"Can't handle server close on non-started stream"),Pr(eh,"close with error: "+t),this.stream=null,this.close($c.Error,t)},rh.prototype.getCloseGuardedDispatcher=function(e){var n=this;return function(t){n.queue.enqueueAndForget(function(){return n.closeCount===e?t():(Pr(eh,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},rh);function rh(t,e,n,r,i,o){this.queue=t,this.idleTimerId=n,this.connection=r,this.credentialsProvider=i,this.listener=o,this.state=$c.Initial,this.closeCount=0,this.idleTimer=null,this.stream=null,this.backoff=new Jc(t,e)}var ih,oh=(t(ah,ih=nh),ah.prototype.startRpc=function(t){return this.connection.openStream("Listen",t)},ah.prototype.onMessage=function(t){this.backoff.reset();var e=this.serializer.fromWatchChange(t),n=this.serializer.versionFromListenResponse(t);return this.listener.onWatchChange(e,n)},ah.prototype.watch=function(t){var e={};e.database=this.serializer.encodedDatabaseId,e.addTarget=this.serializer.toTarget(t);var n=this.serializer.toListenRequestLabels(t);n&&(e.labels=n),this.sendRequest(e)},ah.prototype.unwatch=function(t){var e={};e.database=this.serializer.encodedDatabaseId,e.removeTarget=t,this.sendRequest(e)},ah);function ah(t,e,n,r,i){var o=ih.call(this,t,Wi.ListenStreamConnectionBackoff,Wi.ListenStreamIdle,e,n,i)||this;return o.serializer=r,o}var sh,uh=(t(ch,sh=nh),Object.defineProperty(ch.prototype,"handshakeComplete",{get:function(){return this.handshakeComplete_},enumerable:!0,configurable:!0}),ch.prototype.start=function(){this.handshakeComplete_=!1,sh.prototype.start.call(this)},ch.prototype.tearDown=function(){this.handshakeComplete_&&this.writeMutations([])},ch.prototype.startRpc=function(t){return this.connection.openStream("Write",t)},ch.prototype.onMessage=function(t){if(Vr(!!t.streamToken,"Got a write response without a stream token"),this.lastStreamToken=t.streamToken,this.handshakeComplete_){this.backoff.reset();var e=this.serializer.fromWriteResults(t.writeResults,t.commitTime),n=this.serializer.fromVersion(t.commitTime);return this.listener.onMutationResult(n,e)}return Vr(!t.writeResults||0===t.writeResults.length,"Got mutation results for handshake"),this.handshakeComplete_=!0,this.listener.onHandshakeComplete()},ch.prototype.writeHandshake=function(){Vr(this.isOpen(),"Writing handshake requires an opened stream"),Vr(!this.handshakeComplete_,"Handshake already completed");var t={};t.database=this.serializer.encodedDatabaseId,this.sendRequest(t)},ch.prototype.writeMutations=function(t){var e=this;Vr(this.isOpen(),"Writing mutations requires an opened stream"),Vr(this.handshakeComplete_,"Handshake must be complete before writing mutations"),Vr(0<this.lastStreamToken.length,"Trying to write mutation without a token");var n={streamToken:this.lastStreamToken,writes:t.map(function(t){return e.serializer.toMutation(t)})};this.sendRequest(n)},ch);function ch(t,e,n,r,i){var o=sh.call(this,t,Wi.WriteStreamConnectionBackoff,Wi.WriteStreamIdle,e,n,i)||this;return o.serializer=r,o.handshakeComplete_=!1,o.lastStreamToken=Qr(),o}var hh=(lh.prototype.newPersistentWriteStream=function(t){return new uh(this.queue,this.connection,this.credentials,this.serializer,t)},lh.prototype.newPersistentWatchStream=function(t){return new oh(this.queue,this.connection,this.credentials,this.serializer,t)},lh.prototype.commit=function(t){var e=this,n={database:this.serializer.encodedDatabaseId,writes:t.map(function(t){return e.serializer.toMutation(t)})};return this.invokeRPC("Commit",n).then(function(t){return e.serializer.fromWriteResults(t.writeResults,t.commitTime)})},lh.prototype.lookup=function(e){var i=this,t={database:this.serializer.encodedDatabaseId,documents:e.map(function(t){return i.serializer.toName(t)})};return this.invokeStreamingRPC("BatchGetDocuments",t).then(function(t){var n=Io();t.forEach(function(t){var e=i.serializer.fromMaybeDocument(t);n=n.insert(e.key,e)});var r=[];return e.forEach(function(t){var e=n.get(t);Vr(!!e,"Missing entity in write response for "+t),r.push(e)}),r})},lh.prototype.invokeRPC=function(e,n){var r=this;return this.credentials.getToken().then(function(t){return r.connection.invokeRPC(e,n,t)}).catch(function(t){throw t.code===jr.UNAUTHENTICATED&&r.credentials.invalidateToken(),t})},lh.prototype.invokeStreamingRPC=function(e,n){var r=this;return this.credentials.getToken().then(function(t){return r.connection.invokeStreamingRPC(e,n,t)}).catch(function(t){throw t.code===jr.UNAUTHENTICATED&&r.credentials.invalidateToken(),t})},lh);function lh(t,e,n,r){this.queue=t,this.connection=e,this.credentials=n,this.serializer=r}var fh,dh,ph,mh,yh=(gh.prototype.lookup=function(r){return d(this,void 0,void 0,function(){var e,n=this;return p(this,function(t){switch(t.label){case 0:if(this.ensureCommitNotCalled(),0<this.mutations.length)throw new Wr(jr.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,this.datastore.lookup(r)];case 1:return(e=t.sent()).forEach(function(t){t instanceof Vs||t instanceof xs?n.recordVersion(t):Fr("Document in a transaction was a "+t.constructor.name)}),[2,e]}})})},gh.prototype.set=function(t,e){this.write(e.toMutations(t,this.precondition(t))),this.writtenDocs.add(t)},gh.prototype.update=function(t,e){try{this.write(e.toMutations(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t)},gh.prototype.delete=function(t){this.write([new Ua(t,this.precondition(t))]),this.writtenDocs.add(t)},gh.prototype.commit=function(){return d(this,void 0,void 0,function(){var e;return p(this,function(t){switch(t.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;if(e=this.readVersions,this.mutations.forEach(function(t){e=e.remove(t.key)}),!e.isEmpty())throw new Wr(jr.INVALID_ARGUMENT,"Every document read in a transaction must also be written.");return[4,this.datastore.commit(this.mutations)];case 1:return t.sent(),this.committed=!0,[2]}})})},gh.prototype.recordVersion=function(t){var e;if(t instanceof xs)e=t.version;else{if(!(t instanceof Vs))throw Fr("Document in a transaction was a "+t.constructor.name);e=uo.forDeletedDoc()}var n=this.readVersions.get(t.key);if(null!==n){if(!e.isEqual(n))throw new Wr(jr.ABORTED,"Document version changed between two reads.")}else this.readVersions=this.readVersions.insert(t.key,e)},gh.prototype.precondition=function(t){var e=this.readVersions.get(t);return!this.writtenDocs.has(t)&&e?Ea.updateTime(e):Ea.NONE},gh.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t);if(this.writtenDocs.has(t)||!e)return Ea.exists(!0);if(e.isEqual(uo.forDeletedDoc()))throw new Wr(jr.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ea.updateTime(e)},gh.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations=this.mutations.concat(t)},gh.prototype.ensureCommitNotCalled=function(){Vr(!this.committed,"A transaction object cannot be used after its update callback has been invoked.")},gh);function gh(t){this.datastore=t,this.readVersions=ko(),this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}(dh=fh=fh||{})[dh.Unknown=0]="Unknown",dh[dh.Online=1]="Online",dh[dh.Offline=2]="Offline",(mh=ph=ph||{})[mh.RemoteStore=0]="RemoteStore",mh[mh.SharedClientState=1]="SharedClientState";var vh,bh,wh=(Sh.prototype.handleWatchStreamStart=function(){var t=this;0===this.watchStreamFailures&&(this.setAndBroadcast(fh.Unknown),Vr(null===this.onlineStateTimer,"onlineStateTimer shouldn't be started yet"),this.onlineStateTimer=this.asyncQueue.enqueueAfterDelay(Wi.OnlineStateTimeout,1e4,function(){return t.onlineStateTimer=null,Vr(t.state===fh.Unknown,"Timer should be canceled if we transitioned to a different state."),t.logClientOfflineWarningIfNecessary("Backend didn't respond within 10 seconds."),t.setAndBroadcast(fh.Offline),Promise.resolve()}))},Sh.prototype.handleWatchStreamFailure=function(t){this.state===fh.Online?(this.setAndBroadcast(fh.Unknown),Vr(0===this.watchStreamFailures,"watchStreamFailures must be 0"),Vr(null===this.onlineStateTimer,"onlineStateTimer must be null")):(this.watchStreamFailures++,1<=this.watchStreamFailures&&(this.clearOnlineStateTimer(),this.logClientOfflineWarningIfNecessary("Connection failed 1 times. Most recent error: "+t.toString()),this.setAndBroadcast(fh.Offline)))},Sh.prototype.set=function(t){this.clearOnlineStateTimer(),this.watchStreamFailures=0,t===fh.Online&&(this.shouldWarnClientIsOffline=!1),this.setAndBroadcast(t)},Sh.prototype.setAndBroadcast=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},Sh.prototype.logClientOfflineWarningIfNecessary=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.shouldWarnClientIsOffline?(xr(e),this.shouldWarnClientIsOffline=!1):Pr("OnlineStateTracker",e)},Sh.prototype.clearOnlineStateTimer=function(){null!==this.onlineStateTimer&&(this.onlineStateTimer.cancel(),this.onlineStateTimer=null)},Sh);function Sh(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state=fh.Unknown,this.watchStreamFailures=0,this.onlineStateTimer=null,this.shouldWarnClientIsOffline=!0}function Th(t){switch(t){case jr.OK:return Fr("Treated status OK as error");case jr.CANCELLED:case jr.UNKNOWN:case jr.DEADLINE_EXCEEDED:case jr.RESOURCE_EXHAUSTED:case jr.INTERNAL:case jr.UNAVAILABLE:case jr.UNAUTHENTICATED:return!1;case jr.INVALID_ARGUMENT:case jr.NOT_FOUND:case jr.ALREADY_EXISTS:case jr.PERMISSION_DENIED:case jr.FAILED_PRECONDITION:case jr.ABORTED:case jr.OUT_OF_RANGE:case jr.UNIMPLEMENTED:case jr.DATA_LOSS:return!0;default:return Fr("Unknown status code: "+t)}}function Eh(t){if(void 0===t)return xr("GRPC error has no .code"),jr.UNKNOWN;switch(t){case vh.OK:return jr.OK;case vh.CANCELLED:return jr.CANCELLED;case vh.UNKNOWN:return jr.UNKNOWN;case vh.DEADLINE_EXCEEDED:return jr.DEADLINE_EXCEEDED;case vh.RESOURCE_EXHAUSTED:return jr.RESOURCE_EXHAUSTED;case vh.INTERNAL:return jr.INTERNAL;case vh.UNAVAILABLE:return jr.UNAVAILABLE;case vh.UNAUTHENTICATED:return jr.UNAUTHENTICATED;case vh.INVALID_ARGUMENT:return jr.INVALID_ARGUMENT;case vh.NOT_FOUND:return jr.NOT_FOUND;case vh.ALREADY_EXISTS:return jr.ALREADY_EXISTS;case vh.PERMISSION_DENIED:return jr.PERMISSION_DENIED;case vh.FAILED_PRECONDITION:return jr.FAILED_PRECONDITION;case vh.ABORTED:return jr.ABORTED;case vh.OUT_OF_RANGE:return jr.OUT_OF_RANGE;case vh.UNIMPLEMENTED:return jr.UNIMPLEMENTED;case vh.DATA_LOSS:return jr.DATA_LOSS;default:return Fr("Unknown status code: "+t)}}(bh=vh=vh||{})[bh.OK=0]="OK",bh[bh.CANCELLED=1]="CANCELLED",bh[bh.UNKNOWN=2]="UNKNOWN",bh[bh.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",bh[bh.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",bh[bh.NOT_FOUND=5]="NOT_FOUND",bh[bh.ALREADY_EXISTS=6]="ALREADY_EXISTS",bh[bh.PERMISSION_DENIED=7]="PERMISSION_DENIED",bh[bh.UNAUTHENTICATED=16]="UNAUTHENTICATED",bh[bh.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",bh[bh.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",bh[bh.ABORTED=10]="ABORTED",bh[bh.OUT_OF_RANGE=11]="OUT_OF_RANGE",bh[bh.UNIMPLEMENTED=12]="UNIMPLEMENTED",bh[bh.INTERNAL=13]="INTERNAL",bh[bh.UNAVAILABLE=14]="UNAVAILABLE",bh[bh.DATA_LOSS=15]="DATA_LOSS";var Ih,Ch,Dh,Nh,Ah=(kh.emptySet=function(t){return new kh(t.comparator)},kh.prototype.has=function(t){return null!=this.keyedMap.get(t)},kh.prototype.get=function(t){return this.keyedMap.get(t)},kh.prototype.first=function(){return this.sortedSet.minKey()},kh.prototype.last=function(){return this.sortedSet.maxKey()},kh.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},kh.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(kh.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!0,configurable:!0}),kh.prototype.forEach=function(n){this.sortedSet.inorderTraversal(function(t,e){return n(t),!1})},kh.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},kh.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},kh.prototype.isEqual=function(t){if(!(t instanceof kh))return!1;if(this.size!==t.size)return!1;for(var e=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();e.hasNext();){var r=e.getNext().key,i=n.getNext().key;if(!r.isEqual(i))return!1}return!0},kh.prototype.toString=function(){var e=[];return this.forEach(function(t){e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},kh.prototype.copy=function(t,e){var n=new kh;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=e,n},kh);function kh(n){this.comparator=n?function(t,e){return n(t,e)||Ki.comparator(t.key,e.key)}:function(t,e){return Ki.comparator(t.key,e.key)},this.keyedMap=No(),this.sortedSet=new ho(this.comparator)}(Ch=Ih=Ih||{})[Ch.Added=0]="Added",Ch[Ch.Removed=1]="Removed",Ch[Ch.Modified=2]="Modified",Ch[Ch.Metadata=3]="Metadata",(Nh=Dh=Dh||{})[Nh.Local=0]="Local",Nh[Nh.Synced=1]="Synced";var Rh=(Mh.prototype.track=function(t){var e=t.doc.key,n=this.changeMap.get(e);n?t.type!==Ih.Added&&n.type===Ih.Metadata?this.changeMap=this.changeMap.insert(e,t):t.type===Ih.Metadata&&n.type!==Ih.Removed?this.changeMap=this.changeMap.insert(e,{type:n.type,doc:t.doc}):t.type===Ih.Modified&&n.type===Ih.Modified?this.changeMap=this.changeMap.insert(e,{type:Ih.Modified,doc:t.doc}):t.type===Ih.Modified&&n.type===Ih.Added?this.changeMap=this.changeMap.insert(e,{type:Ih.Added,doc:t.doc}):t.type===Ih.Removed&&n.type===Ih.Added?this.changeMap=this.changeMap.remove(e):t.type===Ih.Removed&&n.type===Ih.Modified?this.changeMap=this.changeMap.insert(e,{type:Ih.Removed,doc:n.doc}):t.type===Ih.Added&&n.type===Ih.Removed?this.changeMap=this.changeMap.insert(e,{type:Ih.Modified,doc:t.doc}):Fr("unsupported combination of changes: "+JSON.stringify(t)+" after "+JSON.stringify(n)):this.changeMap=this.changeMap.insert(e,t)},Mh.prototype.getChanges=function(){var n=[];return this.changeMap.inorderTraversal(function(t,e){n.push(e)}),n},Mh);function Mh(){this.changeMap=new ho(Ki.comparator)}var Oh=(_h.fromInitialDocuments=function(t,e,n,r){var i=[];return e.forEach(function(t){i.push({type:Ih.Added,doc:t})}),new _h(t,e,Ah.emptySet(e),i,n,r,!0,!1)},Object.defineProperty(_h.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!0,configurable:!0}),_h.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&this.query.isEqual(t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},_h);function _h(t,e,n,r,i,o,a,s){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}var Lh=(Ph.createSynthesizedRemoteEventForCurrentChange=function(t,e){var n,r=((n={})[t]=xh.createSynthesizedTargetChangeForCurrentChange(t,e),n);return new Ph(uo.MIN,r,_o(),Io(),Mo())},Ph);function Ph(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}var xh=(qh.createSynthesizedTargetChangeForCurrentChange=function(t,e){return new qh(Qr(),e,Mo(),Mo(),Mo())},qh);function qh(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}var Fh,Vh,Bh=function(t,e,n,r){this.updatedTargetIds=t,this.removedTargetIds=e,this.key=n,this.newDoc=r},Uh=function(t,e){this.targetId=t,this.existenceFilter=e};(Vh=Fh=Fh||{})[Vh.NoChange=0]="NoChange",Vh[Vh.Added=1]="Added",Vh[Vh.Removed=2]="Removed",Vh[Vh.Current=3]="Current",Vh[Vh.Reset=4]="Reset";var Qh=function(t,e,n,r){void 0===n&&(n=Qr()),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Kh=(Object.defineProperty(jh.prototype,"current",{get:function(){return this._current},enumerable:!0,configurable:!0}),Object.defineProperty(jh.prototype,"resumeToken",{get:function(){return this._resumeToken},enumerable:!0,configurable:!0}),Object.defineProperty(jh.prototype,"isPending",{get:function(){return 0!==this.pendingResponses},enumerable:!0,configurable:!0}),Object.defineProperty(jh.prototype,"hasPendingChanges",{get:function(){return this._hasPendingChanges},enumerable:!0,configurable:!0}),jh.prototype.updateResumeToken=function(t){0<t.length&&(this._hasPendingChanges=!0,this._resumeToken=t)},jh.prototype.toTargetChange=function(){var n=Mo(),r=Mo(),i=Mo();return this.documentChanges.forEach(function(t,e){switch(e){case Ih.Added:n=n.add(t);break;case Ih.Modified:r=r.add(t);break;case Ih.Removed:i=i.add(t);break;default:Fr("Encountered invalid change type: "+e)}}),new xh(this._resumeToken,this._current,n,r,i)},jh.prototype.clearPendingChanges=function(){this._hasPendingChanges=!1,this.documentChanges=Hh()},jh.prototype.addDocumentChange=function(t,e){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.insert(t,e)},jh.prototype.removeDocumentChange=function(t){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.remove(t)},jh.prototype.recordPendingTargetRequest=function(){this.pendingResponses+=1},jh.prototype.recordTargetResponse=function(){this.pendingResponses-=1},jh.prototype.markCurrent=function(){this._hasPendingChanges=!0,this._current=!0},jh);function jh(){this.pendingResponses=0,this.documentChanges=Hh(),this._resumeToken=Qr(),this._current=!1,this._hasPendingChanges=!0}var Wh=(Gh.prototype.handleDocumentChange=function(t){for(var e=0,n=t.updatedTargetIds;e<n.length;e++){var r=n[e];t.newDoc instanceof xs?this.addDocumentToTarget(r,t.newDoc):t.newDoc instanceof Vs&&this.removeDocumentFromTarget(r,t.key,t.newDoc)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)r=o[i],this.removeDocumentFromTarget(r,t.key,t.newDoc)},Gh.prototype.handleTargetChange=function(n){var r=this;this.forEachTarget(n,function(t){var e=r.ensureTargetState(t);switch(n.state){case Fh.NoChange:r.isActiveTarget(t)&&e.updateResumeToken(n.resumeToken);break;case Fh.Added:e.recordTargetResponse(),e.isPending||e.clearPendingChanges(),e.updateResumeToken(n.resumeToken);break;case Fh.Removed:e.recordTargetResponse(),e.isPending||r.removeTarget(t),Vr(!n.cause,"WatchChangeAggregator does not handle errored targets");break;case Fh.Current:r.isActiveTarget(t)&&(e.markCurrent(),e.updateResumeToken(n.resumeToken));break;case Fh.Reset:r.isActiveTarget(t)&&(r.resetTarget(t),e.updateResumeToken(n.resumeToken));break;default:Fr("Unknown target watch change state: "+n.state)}})},Gh.prototype.forEachTarget=function(t,e){0<t.targetIds.length?t.targetIds.forEach(e):Xr(this.targetStates,e)},Gh.prototype.handleExistenceFilter=function(t){var e=t.targetId,n=t.existenceFilter.count,r=this.queryDataForActiveTarget(e);if(r){var i=r.query;if(i.isDocumentQuery())if(0===n){var o=new Ki(i.path);this.removeDocumentFromTarget(e,o,new Vs(o,uo.forDeletedDoc()))}else Vr(1===n,"Single document existence filter with count: "+n);else this.getCurrentDocumentCountForTarget(e)!==n&&(this.resetTarget(e),this.pendingTargetResets=this.pendingTargetResets.add(e))}},Gh.prototype.createRemoteEvent=function(i){var o=this,a={};Xr(this.targetStates,function(t,e){var n=o.queryDataForActiveTarget(t);if(n){if(e.current&&n.query.isDocumentQuery()){var r=new Ki(n.query.path);null!==o.pendingDocumentUpdates.get(r)||o.targetContainsDocument(t,r)||o.removeDocumentFromTarget(t,r,new Vs(r,i))}e.hasPendingChanges&&(a[t]=e.toTargetChange(),e.clearPendingChanges())}});var r=Mo();this.pendingDocumentTargetMapping.forEach(function(t,e){var n=!0;e.forEachWhile(function(t){var e=o.queryDataForActiveTarget(t);return!e||e.purpose===Pu.LimboResolution||(n=!1)}),n&&(r=r.add(t))});var t=new Lh(i,a,this.pendingTargetResets,this.pendingDocumentUpdates,r);return this.pendingDocumentUpdates=Io(),this.pendingDocumentTargetMapping=zh(),this.pendingTargetResets=new bo(bi),t},Gh.prototype.addDocumentToTarget=function(t,e){if(this.isActiveTarget(t)){var n=this.targetContainsDocument(t,e.key)?Ih.Modified:Ih.Added;this.ensureTargetState(t).addDocumentChange(e.key,n),this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(e.key,e),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(e.key,this.ensureDocumentTargetMapping(e.key).add(t))}},Gh.prototype.removeDocumentFromTarget=function(t,e,n){if(this.isActiveTarget(t)){var r=this.ensureTargetState(t);this.targetContainsDocument(t,e)?r.addDocumentChange(e,Ih.Removed):r.removeDocumentChange(e),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(e,this.ensureDocumentTargetMapping(e).delete(t)),n&&(this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(e,n))}},Gh.prototype.removeTarget=function(t){delete this.targetStates[t]},Gh.prototype.getCurrentDocumentCountForTarget=function(t){var e=this.ensureTargetState(t).toTargetChange();return this.metadataProvider.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},Gh.prototype.recordPendingTargetRequest=function(t){this.ensureTargetState(t).recordPendingTargetRequest()},Gh.prototype.ensureTargetState=function(t){return this.targetStates[t]||(this.targetStates[t]=new Kh),this.targetStates[t]},Gh.prototype.ensureDocumentTargetMapping=function(t){var e=this.pendingDocumentTargetMapping.get(t);return e||(e=new bo(bi),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(t,e)),e},Gh.prototype.isActiveTarget=function(t){var e=null!==this.queryDataForActiveTarget(t);return e||Pr("WatchChangeAggregator","Detected inactive target",t),e},Gh.prototype.queryDataForActiveTarget=function(t){var e=this.targetStates[t];return e&&e.isPending?null:this.metadataProvider.getQueryDataForTarget(t)},Gh.prototype.resetTarget=function(e){var n=this;Vr(!this.targetStates[e].isPending,"Should only reset active targets"),this.targetStates[e]=new Kh,this.metadataProvider.getRemoteKeysForTarget(e).forEach(function(t){n.removeDocumentFromTarget(e,t,null)})},Gh.prototype.targetContainsDocument=function(t,e){return this.metadataProvider.getRemoteKeysForTarget(t).has(e)},Gh);function Gh(t){this.metadataProvider=t,this.targetStates={},this.pendingDocumentUpdates=Io(),this.pendingDocumentTargetMapping=zh(),this.pendingTargetResets=new bo(bi)}function zh(){return new ho(Ki.comparator)}function Hh(){return new ho(Ki.comparator)}var Yh="RemoteStore",Xh=(Jh.prototype.start=function(){return this.enableNetwork()},Jh.prototype.enableNetwork=function(){return d(this,void 0,void 0,function(){var e;return p(this,function(t){switch(t.label){case 0:return this.networkEnabled=!0,this.canUseNetwork()?(e=this.writeStream,[4,this.localStore.getLastStreamToken()]):[3,3];case 1:return e.lastStreamToken=t.sent(),this.shouldStartWatchStream()?this.startWatchStream():this.onlineStateTracker.set(fh.Unknown),[4,this.fillWritePipeline()];case 2:t.sent(),t.label=3;case 3:return[2]}})})},Jh.prototype.disableNetwork=function(){return d(this,void 0,void 0,function(){return p(this,function(t){switch(t.label){case 0:return this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return t.sent(),this.onlineStateTracker.set(fh.Offline),[2]}})})},Jh.prototype.disableNetworkInternal=function(){return d(this,void 0,void 0,function(){return p(this,function(t){switch(t.label){case 0:return[4,this.writeStream.stop()];case 1:return t.sent(),[4,this.watchStream.stop()];case 2:return t.sent(),0<this.writePipeline.length&&(Pr(Yh,"Stopping write stream with "+this.writePipeline.length+" pending writes"),this.writePipeline=[]),this.cleanUpWatchStreamState(),[2]}})})},Jh.prototype.shutdown=function(){return d(this,void 0,void 0,function(){return p(this,function(t){switch(t.label){case 0:return Pr(Yh,"RemoteStore shutting down."),this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return t.sent(),this.connectivityMonitor.shutdown(),this.onlineStateTracker.set(fh.Unknown),[2]}})})},Jh.prototype.listen=function(t){Vr(!Hr(this.listenTargets,t.targetId),"listen called with duplicate targetId!"),this.listenTargets[t.targetId]=t,this.shouldStartWatchStream()?this.startWatchStream():this.watchStream.isOpen()&&this.sendWatchRequest(t)},Jh.prototype.unlisten=function(t){Vr(Hr(this.listenTargets,t),"unlisten called without assigned target ID!"),delete this.listenTargets[t],this.watchStream.isOpen()&&this.sendUnwatchRequest(t),Zr(this.listenTargets)&&(this.watchStream.isOpen()?this.watchStream.markIdle():this.canUseNetwork()&&this.onlineStateTracker.set(fh.Unknown))},Jh.prototype.getQueryDataForTarget=function(t){return this.listenTargets[t]||null},Jh.prototype.getRemoteKeysForTarget=function(t){return this.syncEngine.getRemoteKeysForTarget(t)},Jh.prototype.sendWatchRequest=function(t){this.watchChangeAggregator.recordPendingTargetRequest(t.targetId),this.watchStream.watch(t)},Jh.prototype.sendUnwatchRequest=function(t){this.watchChangeAggregator.recordPendingTargetRequest(t),this.watchStream.unwatch(t)},Jh.prototype.startWatchStream=function(){Vr(this.shouldStartWatchStream(),"startWatchStream() called when shouldStartWatchStream() is false."),this.watchChangeAggregator=new Wh(this),this.watchStream.start(),this.onlineStateTracker.handleWatchStreamStart()},Jh.prototype.shouldStartWatchStream=function(){return this.canUseNetwork()&&!this.watchStream.isStarted()&&!Zr(this.listenTargets)},Jh.prototype.canUseNetwork=function(){return this.isPrimary&&this.networkEnabled},Jh.prototype.cleanUpWatchStreamState=function(){this.watchChangeAggregator=null},Jh.prototype.onWatchStreamOpen=function(){return d(this,void 0,void 0,function(){var n=this;return p(this,function(t){return Xr(this.listenTargets,function(t,e){n.sendWatchRequest(e)}),[2]})})},Jh.prototype.onWatchStreamClose=function(e){return d(this,void 0,void 0,function(){return p(this,function(t){return void 0===e&&Vr(!this.shouldStartWatchStream(),"Watch stream was stopped gracefully while still needed."),this.cleanUpWatchStreamState(),this.shouldStartWatchStream()?(this.onlineStateTracker.handleWatchStreamFailure(e),this.startWatchStream()):this.onlineStateTracker.set(fh.Unknown),[2]})})},Jh.prototype.onWatchStreamChange=function(n,r){return d(this,void 0,void 0,function(){var e;return p(this,function(t){switch(t.label){case 0:return this.onlineStateTracker.set(fh.Online),n instanceof Qh&&n.state===Fh.Removed&&n.cause?[2,this.handleTargetError(n)]:(n instanceof Bh?this.watchChangeAggregator.handleDocumentChange(n):n instanceof Uh?this.watchChangeAggregator.handleExistenceFilter(n):(Vr(n instanceof Qh,"Expected watchChange to be an instance of WatchTargetChange"),this.watchChangeAggregator.handleTargetChange(n)),r.isEqual(uo.MIN)?[3,3]:[4,this.localStore.getLastRemoteSnapshotVersion()]);case 1:return e=t.sent(),0<=r.compareTo(e)?[4,this.raiseWatchSnapshot(r)]:[3,3];case 2:t.sent(),t.label=3;case 3:return[2]}})})},Jh.prototype.raiseWatchSnapshot=function(r){var i=this;Vr(!r.isEqual(uo.MIN),"Can't raise event for unknown SnapshotVersion");var t=this.watchChangeAggregator.createRemoteEvent(r);return Xr(t.targetChanges,function(t,e){if(0<e.resumeToken.length){var n=i.listenTargets[t];n&&(i.listenTargets[t]=n.withResumeToken(e.resumeToken,r))}}),t.targetMismatches.forEach(function(t){var e=i.listenTargets[t];if(e){i.listenTargets[t]=e.withResumeToken(Qr(),e.snapshotVersion),i.sendUnwatchRequest(t);var n=new Uu(e.query,t,Pu.ExistenceFilterMismatch,e.sequenceNumber);i.sendWatchRequest(n)}}),this.syncEngine.applyRemoteEvent(t)},Jh.prototype.handleTargetError=function(t){var n=this;Vr(!!t.cause,"Handling target error without a cause");var r=t.cause,i=Promise.resolve();return t.targetIds.forEach(function(e){i=i.then(function(){return d(n,void 0,void 0,function(){return p(this,function(t){return Hr(this.listenTargets,e)?(delete this.listenTargets[e],this.watchChangeAggregator.removeTarget(e),[2,this.syncEngine.rejectListen(e,r)]):[2]})})})}),i},Jh.prototype.fillWritePipeline=function(){return d(this,void 0,void 0,function(){var e,n;return p(this,function(t){switch(t.label){case 0:return this.canAddToWritePipeline()?(e=0<this.writePipeline.length?this.writePipeline[this.writePipeline.length-1].batchId:-1,[4,this.localStore.nextMutationBatch(e)]):[3,4];case 1:return null!==(n=t.sent())?[3,2]:(0===this.writePipeline.length&&this.writeStream.markIdle(),[3,4]);case 2:return this.addToWritePipeline(n),[4,this.fillWritePipeline()];case 3:t.sent(),t.label=4;case 4:return this.shouldStartWriteStream()&&this.startWriteStream(),[2]}})})},Jh.prototype.canAddToWritePipeline=function(){return this.canUseNetwork()&&this.writePipeline.length<10},Jh.prototype.outstandingWrites=function(){return this.writePipeline.length},Jh.prototype.addToWritePipeline=function(t){Vr(this.canAddToWritePipeline(),"addToWritePipeline called when pipeline is full"),this.writePipeline.push(t),this.writeStream.isOpen()&&this.writeStream.handshakeComplete&&this.writeStream.writeMutations(t.mutations)},Jh.prototype.shouldStartWriteStream=function(){return this.canUseNetwork()&&!this.writeStream.isStarted()&&0<this.writePipeline.length},Jh.prototype.startWriteStream=function(){Vr(this.shouldStartWriteStream(),"startWriteStream() called when shouldStartWriteStream() is false."),this.writeStream.start()},Jh.prototype.onWriteStreamOpen=function(){return d(this,void 0,void 0,function(){return p(this,function(t){return this.writeStream.writeHandshake(),[2]})})},Jh.prototype.onWriteHandshakeComplete=function(){var r=this;return this.localStore.setLastStreamToken(this.writeStream.lastStreamToken).then(function(){for(var t=0,e=r.writePipeline;t<e.length;t++){var n=e[t];r.writeStream.writeMutations(n.mutations)}}).catch(lc)},Jh.prototype.onMutationResult=function(t,e){var n=this;Vr(0<this.writePipeline.length,"Got result for empty write pipeline");var r=this.writePipeline.shift(),i=xo.from(r,t,e,this.writeStream.lastStreamToken);return this.syncEngine.applySuccessfulWrite(i).then(function(){return n.fillWritePipeline()})},Jh.prototype.onWriteStreamClose=function(n){return d(this,void 0,void 0,function(){var e=this;return p(this,function(t){return void 0===n&&Vr(!this.shouldStartWriteStream(),"Write stream was stopped gracefully while still needed."),n&&0<this.writePipeline.length?[2,(this.writeStream.handshakeComplete?this.handleWriteError(n):this.handleHandshakeError(n)).then(function(){e.shouldStartWriteStream()&&e.startWriteStream()})]:[2]})})},Jh.prototype.handleHandshakeError=function(e){return d(this,void 0,void 0,function(){return p(this,function(t){return Th(e.code)?(Pr(Yh,"RemoteStore error before completed handshake; resetting stream token: ",this.writeStream.lastStreamToken),this.writeStream.lastStreamToken=Qr(),[2,this.localStore.setLastStreamToken(Qr()).catch(lc)]):[2]})})},Jh.prototype.handleWriteError=function(r){return d(this,void 0,void 0,function(){var e,n=this;return p(this,function(t){return function(t){return Th(t)&&t!==jr.ABORTED}(r.code)?(e=this.writePipeline.shift(),this.writeStream.inhibitBackoff(),[2,this.syncEngine.rejectFailedWrite(e.batchId,r).then(function(){return n.fillWritePipeline()})]):[2]})})},Jh.prototype.createTransaction=function(){return new yh(this.datastore)},Jh.prototype.restartNetwork=function(){return d(this,void 0,void 0,function(){return p(this,function(t){switch(t.label){case 0:return this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return t.sent(),this.onlineStateTracker.set(fh.Unknown),[4,this.enableNetwork()];case 2:return t.sent(),[2]}})})},Jh.prototype.handleCredentialChange=function(){return d(this,void 0,void 0,function(){return p(this,function(t){switch(t.label){case 0:return this.canUseNetwork()?(Pr(Yh,"RemoteStore restarting streams for new credential"),[4,this.restartNetwork()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},Jh.prototype.applyPrimaryState=function(e){return d(this,void 0,void 0,function(){return p(this,function(t){switch(t.label){case 0:return(this.isPrimary=e)&&this.networkEnabled?[4,this.enableNetwork()]:[3,2];case 1:return t.sent(),[3,4];case 2:return e?[3,4]:[4,this.disableNetworkInternal()];case 3:t.sent(),this.onlineStateTracker.set(fh.Unknown),t.label=4;case 4:return[2]}})})},Jh);function Jh(t,e,n,r,i){var o=this;this.localStore=t,this.datastore=e,this.writePipeline=[],this.listenTargets={},this.watchChangeAggregator=null,this.networkEnabled=!1,this.isPrimary=!1,this.connectivityMonitor=i,this.connectivityMonitor.addCallback(function(t){n.enqueueAndForget(function(){return d(o,void 0,void 0,function(){return p(this,function(t){switch(t.label){case 0:return this.canUseNetwork()?(Pr(Yh,"Restarting streams for network reachability change."),[4,this.restartNetwork()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.onlineStateTracker=new wh(n,r),this.watchStream=this.datastore.newPersistentWatchStream({onOpen:this.onWatchStreamOpen.bind(this),onClose:this.onWatchStreamClose.bind(this),onWatchChange:this.onWatchStreamChange.bind(this)}),this.writeStream=this.datastore.newPersistentWriteStream({onOpen:this.onWriteStreamOpen.bind(this),onClose:this.onWriteStreamClose.bind(this),onHandshakeComplete:this.onWriteHandshakeComplete.bind(this),onMutationResult:this.onMutationResult.bind(this)})}var Zh=(Object.defineProperty($h.prototype,"latitude",{get:function(){return this._lat},enumerable:!0,configurable:!0}),Object.defineProperty($h.prototype,"longitude",{get:function(){return this._long},enumerable:!0,configurable:!0}),$h.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},$h.prototype._compareTo=function(t){return bi(this._lat,t._lat)||bi(this._long,t._long)},$h);function $h(t,e){if(ti("GeoPoint",arguments,2),ri("GeoPoint","number",1,t),ri("GeoPoint","number",2,e),!isFinite(t)||t<-90||90<t)throw new Wr(jr.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||180<e)throw new Wr(jr.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}var tl=(el.atPath=function(t){return new el(t)},Object.defineProperty(el.prototype,"orderBy",{get:function(){if(null===this.memoizedOrderBy){var t=this.getInequalityFilterField(),e=this.getFirstOrderByField();if(null!==t&&null===e)t.isKeyField()?this.memoizedOrderBy=[kl]:this.memoizedOrderBy=[new Nl(t),kl];else{Vr(null===t||null!==e&&t.isEqual(e),"First orderBy should match inequality field.");for(var n=!(this.memoizedOrderBy=[]),r=0,i=this.explicitOrderBy;r<i.length;r++){var o=i[r];this.memoizedOrderBy.push(o),o.field.isKeyField()&&(n=!0)}if(!n){var a=0<this.explicitOrderBy.length?this.explicitOrderBy[this.explicitOrderBy.length-1].dir:El.ASCENDING;this.memoizedOrderBy.push(a===El.ASCENDING?kl:Rl)}}}return this.memoizedOrderBy},enumerable:!0,configurable:!0}),el.prototype.addFilter=function(t){Vr(null==this.getInequalityFilterField()||!(t instanceof al)||!t.isInequality()||t.field.isEqual(this.getInequalityFilterField()),"Query must only have one inequality field."),Vr(!this.isDocumentQuery(),"No filtering allowed for document query");var e=this.filters.concat([t]);return new el(this.path,this.collectionGroup,this.explicitOrderBy.slice(),e,this.limit,this.startAt,this.endAt)},el.prototype.addOrderBy=function(t){Vr(!this.startAt&&!this.endAt,"Bounds must be set after orderBy");var e=this.explicitOrderBy.concat([t]);return new el(this.path,this.collectionGroup,e,this.filters.slice(),this.limit,this.startAt,this.endAt)},el.prototype.withLimit=function(t){return new el(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),t,this.startAt,this.endAt)},el.prototype.withStartAt=function(t){return new el(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,t,this.endAt)},el.prototype.withEndAt=function(t){return new el(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,this.startAt,t)},el.prototype.asCollectionQueryAtPath=function(t){return new el(t,null,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,this.startAt,this.endAt)},el.prototype.matchesAllDocuments=function(){return 0===this.filters.length&&null===this.limit&&null==this.startAt&&null==this.endAt&&(0===this.explicitOrderBy.length||1===this.explicitOrderBy.length&&this.explicitOrderBy[0].field.isKeyField())},el.prototype.canonicalId=function(){if(null===this.memoizedCanonicalId){var t=this.path.canonicalString();this.isCollectionGroupQuery()&&(t+="|cg:"+this.collectionGroup),t+="|f:";for(var e=0,n=this.filters;e<n.length;e++)t+=n[e].canonicalId(),t+=",";t+="|ob:";for(var r=0,i=this.orderBy;r<i.length;r++)t+=i[r].canonicalId(),t+=",";Yc(this.limit)||(t+="|l:",t+=this.limit),this.startAt&&(t+="|lb:",t+=this.startAt.canonicalId()),this.endAt&&(t+="|ub:",t+=this.endAt.canonicalId()),this.memoizedCanonicalId=t}return this.memoizedCanonicalId},el.prototype.toString=function(){var t="Query("+this.path.canonicalString();return this.isCollectionGroupQuery()&&(t+=" collectionGroup="+this.collectionGroup),0<this.filters.length&&(t+=", filters: ["+this.filters.join(", ")+"]"),Yc(this.limit)||(t+=", limit: "+this.limit),0<this.explicitOrderBy.length&&(t+=", orderBy: ["+this.explicitOrderBy.join(", ")+"]"),this.startAt&&(t+=", startAt: "+this.startAt.canonicalId()),this.endAt&&(t+=", endAt: "+this.endAt.canonicalId()),t+")"},el.prototype.isEqual=function(t){if(this.limit!==t.limit)return!1;if(this.orderBy.length!==t.orderBy.length)return!1;for(var e=0;e<this.orderBy.length;e++)if(!this.orderBy[e].isEqual(t.orderBy[e]))return!1;if(this.filters.length!==t.filters.length)return!1;for(e=0;e<this.filters.length;e++)if(!this.filters[e].isEqual(t.filters[e]))return!1;return this.collectionGroup===t.collectionGroup&&!!this.path.isEqual(t.path)&&!(null!==this.startAt?!this.startAt.isEqual(t.startAt):null!==t.startAt)&&(null!==this.endAt?this.endAt.isEqual(t.endAt):null===t.endAt)},el.prototype.docComparator=function(t,e){for(var n=!1,r=0,i=this.orderBy;r<i.length;r++){var o=i[r],a=o.compare(t,e);if(0!==a)return a;n=n||o.field.isKeyField()}return Vr(n,"orderBy used that doesn't compare on key field"),0},el.prototype.matches=function(t){return this.matchesPathAndCollectionGroup(t)&&this.matchesOrderBy(t)&&this.matchesFilters(t)&&this.matchesBounds(t)},el.prototype.hasLimit=function(){return!Yc(this.limit)},el.prototype.getFirstOrderByField=function(){return 0<this.explicitOrderBy.length?this.explicitOrderBy[0].field:null},el.prototype.getInequalityFilterField=function(){for(var t=0,e=this.filters;t<e.length;t++){var n=e[t];if(n instanceof al&&n.isInequality())return n.field}return null},el.prototype.findFilterOperator=function(t){for(var e=0,n=this.filters;e<n.length;e++){var r=n[e];if(r instanceof al&&0<=t.indexOf(r.op))return r.op}return null},el.prototype.isDocumentQuery=function(){return Ki.isDocumentKey(this.path)&&null===this.collectionGroup&&0===this.filters.length},el.prototype.isCollectionGroupQuery=function(){return null!==this.collectionGroup},el.prototype.matchesPathAndCollectionGroup=function(t){var e=t.key.path;return null!==this.collectionGroup?t.key.hasCollectionId(this.collectionGroup)&&this.path.isPrefixOf(e):Ki.isDocumentKey(this.path)?this.path.isEqual(e):this.path.isImmediateParentOf(e)},el.prototype.matchesOrderBy=function(t){for(var e=0,n=this.explicitOrderBy;e<n.length;e++){var r=n[e];if(!r.field.isKeyField()&&null===t.field(r.field))return!1}return!0},el.prototype.matchesFilters=function(t){for(var e=0,n=this.filters;e<n.length;e++)if(!n[e].matches(t))return!1;return!0},el.prototype.matchesBounds=function(t){return!(this.startAt&&!this.startAt.sortsBeforeDocument(this.orderBy,t)||this.endAt&&this.endAt.sortsBeforeDocument(this.orderBy,t))},el.prototype.assertValidBound=function(t){Vr(t.position.length<=this.orderBy.length,"Bound is longer than orderBy")},el);function el(t,e,n,r,i,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.memoizedCanonicalId=null,this.memoizedOrderBy=null,this.startAt&&this.assertValidBound(this.startAt),this.endAt&&this.assertValidBound(this.endAt)}function nl(){}var rl=(il.fromString=function(t){switch(t){case"<":return il.LESS_THAN;case"<=":return il.LESS_THAN_OR_EQUAL;case"==":return il.EQUAL;case">=":return il.GREATER_THAN_OR_EQUAL;case">":return il.GREATER_THAN;case"array-contains":return il.ARRAY_CONTAINS;case"in":return il.IN;case"array-contains-any":return il.ARRAY_CONTAINS_ANY;default:return Fr("Unknown FieldFilter operator: "+t)}},il.prototype.toString=function(){return this.name},il.prototype.isEqual=function(t){return this.name===t.name},il.LESS_THAN=new il("<"),il.LESS_THAN_OR_EQUAL=new il("<="),il.EQUAL=new il("=="),il.GREATER_THAN=new il(">"),il.GREATER_THAN_OR_EQUAL=new il(">="),il.ARRAY_CONTAINS=new il("array-contains"),il.IN=new il("in"),il.ARRAY_CONTAINS_ANY=new il("array-contains-any"),il);function il(t){this.name=t}var ol,al=(t(sl,ol=nl),sl.create=function(t,e,n){if(t.isKeyField())return e===rl.IN?(Vr(n instanceof Ms,"Comparing on key with IN, but filter value not an ArrayValue"),Vr(n.internalValue.every(function(t){return t instanceof Ts}),"Comparing on key with IN, but an array value was not a RefValue"),new fl(t,n)):(Vr(n instanceof Ts,"Comparing on key, but filter value not a RefValue"),Vr(e!==rl.ARRAY_CONTAINS&&e!==rl.ARRAY_CONTAINS_ANY,"'"+e.toString()+"' queries don't make sense on document keys."),new cl(t,e,n));if(n.isEqual(Ha.INSTANCE)){if(e!==rl.EQUAL)throw new Wr(jr.INVALID_ARGUMENT,"Invalid query. Null supports only equality comparisons.");return new sl(t,e,n)}if(n.isEqual(ss.NAN)){if(e!==rl.EQUAL)throw new Wr(jr.INVALID_ARGUMENT,"Invalid query. NaN supports only equality comparisons.");return new sl(t,e,n)}return e===rl.ARRAY_CONTAINS?new ml(t,n):e===rl.IN?(Vr(n instanceof Ms,"IN filter has invalid value: "+n.toString()),new vl(t,n)):e===rl.ARRAY_CONTAINS_ANY?(Vr(n instanceof Ms,"ARRAY_CONTAINS_ANY filter has invalid value: "+n.toString()),new Sl(t,n)):new sl(t,e,n)},sl.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&this.value.typeOrder===e.typeOrder&&this.matchesComparison(e.compareTo(this.value))},sl.prototype.matchesComparison=function(t){switch(this.op){case rl.LESS_THAN:return t<0;case rl.LESS_THAN_OR_EQUAL:return t<=0;case rl.EQUAL:return 0===t;case rl.GREATER_THAN:return 0<t;case rl.GREATER_THAN_OR_EQUAL:return 0<=t;default:return Fr("Unknown FieldFilter operator: "+this.op)}},sl.prototype.isInequality=function(){return 0<=[rl.LESS_THAN,rl.LESS_THAN_OR_EQUAL,rl.GREATER_THAN,rl.GREATER_THAN_OR_EQUAL].indexOf(this.op)},sl.prototype.canonicalId=function(){return this.field.canonicalString()+this.op.toString()+this.value.toString()},sl.prototype.isEqual=function(t){return t instanceof sl&&this.op.isEqual(t.op)&&this.field.isEqual(t.field)&&this.value.isEqual(t.value)},sl.prototype.toString=function(){return this.field.canonicalString()+" "+this.op+" "+this.value.value()},sl);function sl(t,e,n){var r=ol.call(this)||this;return r.field=t,r.op=e,r.value=n,r}var ul,cl=(t(hl,ul=al),hl.prototype.matches=function(t){var e=this.value,n=Ki.comparator(t.key,e.key);return this.matchesComparison(n)},hl);function hl(){return null!==ul&&ul.apply(this,arguments)||this}var ll,fl=(t(dl,ll=al),dl.prototype.matches=function(e){return this.value.internalValue.some(function(t){return e.key.isEqual(t.key)})},dl);function dl(t,e){var n=ll.call(this,t,rl.IN,e)||this;return n.value=e,n}var pl,ml=(t(yl,pl=al),yl.prototype.matches=function(t){var e=t.field(this.field);return e instanceof Ms&&e.contains(this.value)},yl);function yl(t,e){return pl.call(this,t,rl.ARRAY_CONTAINS,e)||this}var gl,vl=(t(bl,gl=al),bl.prototype.matches=function(t){var e=this.value,n=t.field(this.field);return null!==n&&e.contains(n)},bl);function bl(t,e){var n=gl.call(this,t,rl.IN,e)||this;return n.value=e,n}var wl,Sl=(t(Tl,wl=al),Tl.prototype.matches=function(t){var e=this,n=t.field(this.field);return n instanceof Ms&&n.internalValue.some(function(t){return e.value.contains(t)})},Tl);function Tl(t,e){var n=wl.call(this,t,rl.ARRAY_CONTAINS_ANY,e)||this;return n.value=e,n}var El=(Il.prototype.toString=function(){return this.name},Il.ASCENDING=new Il("asc"),Il.DESCENDING=new Il("desc"),Il);function Il(t){this.name=t}var Cl=(Dl.prototype.canonicalId=function(){for(var t=this.before?"b:":"a:",e=0,n=this.position;e<n.length;e++)t+=n[e].toString();return t},Dl.prototype.sortsBeforeDocument=function(t,e){Vr(this.position.length<=t.length,"Bound has more components than query's orderBy");for(var n=0,r=0;r<this.position.length;r++){var i=t[r],o=this.position[r];if(i.field.isKeyField())Vr(o instanceof Ts,"Bound has a non-key value where the key path is being used."),n=Ki.comparator(o.key,e.key);else{var a=e.field(i.field);Vr(null!==a,"Field should exist since document matched the orderBy already."),n=o.compareTo(a)}if(i.dir===El.DESCENDING&&(n*=-1),0!==n)break}return this.before?n<=0:n<0},Dl.prototype.isEqual=function(t){if(null===t)return!1;if(this.before!==t.before||this.position.length!==t.position.length)return!1;for(var e=0;e<this.position.length;e++){var n=this.position[e],r=t.position[e];if(!n.isEqual(r))return!1}return!0},Dl);function Dl(t,e){this.position=t,this.before=e}var Nl=(Al.prototype.compare=function(t,e){var n=this.isKeyOrderBy?xs.compareByKey(t,e):xs.compareByField(this.field,t,e);switch(this.dir){case El.ASCENDING:return n;case El.DESCENDING:return-1*n;default:return Fr("Unknown direction: "+this.dir)}},Al.prototype.canonicalId=function(){return this.field.canonicalString()+this.dir.toString()},Al.prototype.toString=function(){return this.field.canonicalString()+" ("+this.dir+")"},Al.prototype.isEqual=function(t){return this.dir===t.dir&&this.field.isEqual(t.field)},Al);function Al(t,e){this.field=t,void 0===e&&(e=El.ASCENDING),this.dir=e,this.isKeyOrderBy=t.isKeyField()}var kl=new Nl(Ui.keyField(),El.ASCENDING),Rl=new Nl(Ui.keyField(),El.DESCENDING),Ml=(Ol.prototype.applyToLocalView=function(t,e){return new ys(e,t)},Ol.prototype.applyToRemoteDocument=function(t,e){return e},Ol.prototype.computeBaseValue=function(t){return null},Ol.prototype.isEqual=function(t){return t instanceof Ol},Ol.instance=new Ol,Ol);function Ol(){}var _l=(Ll.prototype.applyToLocalView=function(t,e){return this.apply(t)},Ll.prototype.applyToRemoteDocument=function(t,e){return this.apply(t)},Ll.prototype.apply=function(t){for(var n=Vl(t),e=function(e){n.find(function(t){return t.isEqual(e)})||n.push(e)},r=0,i=this.elements;r<i.length;r++)e(i[r]);return new Ms(n)},Ll.prototype.computeBaseValue=function(t){return null},Ll.prototype.isEqual=function(t){return t instanceof Ll&&wi(t.elements,this.elements)},Ll);function Ll(t){this.elements=t}var Pl=(xl.prototype.applyToLocalView=function(t,e){return this.apply(t)},xl.prototype.applyToRemoteDocument=function(t,e){return this.apply(t)},xl.prototype.apply=function(t){for(var n=Vl(t),e=function(e){n=n.filter(function(t){return!t.isEqual(e)})},r=0,i=this.elements;r<i.length;r++)e(i[r]);return new Ms(n)},xl.prototype.computeBaseValue=function(t){return null},xl.prototype.isEqual=function(t){return t instanceof xl&&wi(t.elements,this.elements)},xl);function xl(t){this.elements=t}var ql=(Fl.prototype.applyToLocalView=function(t,e){var n=this.computeBaseValue(t);if(n instanceof is&&this.operand instanceof is){var r=n.internalValue+this.operand.internalValue;return new is(r)}return r=n.internalValue+this.operand.internalValue,new ss(r)},Fl.prototype.applyToRemoteDocument=function(t,e){return Vr(null!==e,"Didn't receive transformResult for NUMERIC_ADD transform"),e},Fl.prototype.computeBaseValue=function(t){return t instanceof ts?t:new is(0)},Fl.prototype.isEqual=function(t){return t instanceof Fl&&this.operand.isEqual(t.operand)},Fl);function Fl(t){this.operand=t}function Vl(t){return t instanceof Ms?t.internalValue.slice():[]}var Bl=(Ul.prototype.isEqual=function(t){return t&&t.count===this.count},Ul);function Ul(t){this.count=t}var Ql,Kl,jl=((Ql={})[El.ASCENDING.name]="ASCENDING",Ql[El.DESCENDING.name]="DESCENDING",Ql),Wl=((Kl={})[rl.LESS_THAN.name]="LESS_THAN",Kl[rl.LESS_THAN_OR_EQUAL.name]="LESS_THAN_OR_EQUAL",Kl[rl.GREATER_THAN.name]="GREATER_THAN",Kl[rl.GREATER_THAN_OR_EQUAL.name]="GREATER_THAN_OR_EQUAL",Kl[rl.EQUAL.name]="EQUAL",Kl[rl.ARRAY_CONTAINS.name]="ARRAY_CONTAINS",Kl[rl.IN.name]="IN",Kl[rl.ARRAY_CONTAINS_ANY.name]="ARRAY_CONTAINS_ANY",Kl),Gl=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function zl(t,e){Vr(!Yc(t),e+" is missing")}function Hl(t){return"number"==typeof t?t:"string"==typeof t?Number(t):Fr("can't parse "+t)}var Yl=(Xl.prototype.emptyByteString=function(){return this.options.useProto3Json?"":new Uint8Array(0)},Xl.prototype.unsafeCastProtoByteString=function(t){return t},Xl.prototype.fromRpcStatus=function(t){var e=void 0===t.code?jr.UNKNOWN:Eh(t.code);return new Wr(e,t.message||"")},Xl.prototype.toInt32Value=function(t){return this.options.useProto3Json||Yc(t)?t:{value:t}},Xl.prototype.fromInt32Value=function(t){var e;return Yc(e="object"==typeof t?t.value:t)?null:e},Xl.prototype.toTimestamp=function(t){return this.options.useProto3Json?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}},Xl.prototype.fromTimestamp=function(t){if("string"==typeof t)return this.fromIso8601String(t);Vr(!!t,"Cannot deserialize null or undefined timestamp.");var e=Hl(t.seconds||"0"),n=t.nanos||0;return new ao(e,n)},Xl.prototype.fromIso8601String=function(t){var e=0,n=Gl.exec(t);if(Vr(!!n,"invalid timestamp: "+t),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t),o=Math.floor(i.getTime()/1e3);return new ao(o,e)},Xl.prototype.toBytes=function(t){return this.options.useProto3Json?t.toBase64():this.unsafeCastProtoByteString(t.toUint8Array())},Xl.prototype.fromBlob=function(t){return"string"==typeof t?(Vr(this.options.useProto3Json,"Expected bytes to be passed in as Uint8Array, but got a string instead."),Ii.fromBase64String(t)):(Vr(!this.options.useProto3Json,"Expected bytes to be passed in as Uint8Array, but got a string instead."),Ii.fromUint8Array(t))},Xl.prototype.toVersion=function(t){return this.toTimestamp(t.toTimestamp())},Xl.prototype.fromVersion=function(t){return Vr(!!t,"Trying to deserialize version that isn't set"),uo.fromTimestamp(this.fromTimestamp(t))},Xl.prototype.toResourceName=function(t,e){return this.fullyQualifiedPrefixPath(t).child("documents").child(e).canonicalString()},Xl.prototype.fromResourceName=function(t){var e=qi.fromString(t);return Vr(this.isValidResourceName(e),"Tried to deserialize invalid key "+e.toString()),e},Xl.prototype.toName=function(t){return this.toResourceName(this.databaseId,t.path)},Xl.prototype.fromName=function(t){var e=this.fromResourceName(t);return Vr(e.get(1)===this.databaseId.projectId,"Tried to deserialize key from different project: "+e.get(1)+" vs "+this.databaseId.projectId),Vr(!e.get(3)&&!this.databaseId.database||e.get(3)===this.databaseId.database,"Tried to deserialize key from different database: "+e.get(3)+" vs "+this.databaseId.database),new Ki(this.extractLocalPathFromResourceName(e))},Xl.prototype.toQueryPath=function(t){return this.toResourceName(this.databaseId,t)},Xl.prototype.fromQueryPath=function(t){var e=this.fromResourceName(t);return 4===e.length?qi.EMPTY_PATH:this.extractLocalPathFromResourceName(e)},Object.defineProperty(Xl.prototype,"encodedDatabaseId",{get:function(){return new qi(["projects",this.databaseId.projectId,"databases",this.databaseId.database]).canonicalString()},enumerable:!0,configurable:!0}),Xl.prototype.fullyQualifiedPrefixPath=function(t){return new qi(["projects",t.projectId,"databases",t.database])},Xl.prototype.extractLocalPathFromResourceName=function(t){return Vr(4<t.length&&"documents"===t.get(4),"tried to deserialize invalid key "+t.toString()),t.popFirst(5)},Xl.prototype.isValidResourceName=function(t){return 4<=t.length&&"projects"===t.get(0)&&"databases"===t.get(2)},Xl.prototype.toValue=function(t){if(t instanceof Ha)return{nullValue:"NULL_VALUE"};if(t instanceof Ja)return{booleanValue:t.value()};if(t instanceof is)return{integerValue:""+t.value()};if(t instanceof ss){var e=t.value();if(this.options.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:t.value()}}return t instanceof hs?{stringValue:t.value()}:t instanceof As?{mapValue:this.toMapValue(t)}:t instanceof Ms?{arrayValue:this.toArrayValue(t)}:t instanceof ds?{timestampValue:this.toTimestamp(t.internalValue)}:t instanceof Cs?{geoPointValue:{latitude:t.value().latitude,longitude:t.value().longitude}}:t instanceof bs?{bytesValue:this.toBytes(t.value())}:t instanceof Ts?{referenceValue:this.toResourceName(t.databaseId,t.key.path)}:Fr("Unknown FieldValue "+JSON.stringify(t))},Xl.prototype.fromValue=function(t){var e=this;if("nullValue"in t)return Ha.INSTANCE;if("booleanValue"in t)return Ja.of(t.booleanValue);if("integerValue"in t)return new is(Hl(t.integerValue));if("doubleValue"in t){if(this.options.useProto3Json){if("NaN"===t.doubleValue)return ss.NAN;if("Infinity"===t.doubleValue)return ss.POSITIVE_INFINITY;if("-Infinity"===t.doubleValue)return ss.NEGATIVE_INFINITY}return new ss(t.doubleValue)}if("stringValue"in t)return new hs(t.stringValue);if("mapValue"in t)return this.fromFields(t.mapValue.fields||{});if("arrayValue"in t){zl(t.arrayValue,"arrayValue");var n=t.arrayValue.values||[];return new Ms(n.map(function(t){return e.fromValue(t)}))}if("timestampValue"in t)return zl(t.timestampValue,"timestampValue"),new ds(this.fromTimestamp(t.timestampValue));if("geoPointValue"in t){zl(t.geoPointValue,"geoPointValue");var r=t.geoPointValue.latitude||0,i=t.geoPointValue.longitude||0;return new Cs(new Zh(r,i))}if("bytesValue"in t){zl(t.bytesValue,"bytesValue");var o=this.fromBlob(t.bytesValue);return new bs(o)}if("referenceValue"in t){zl(t.referenceValue,"referenceValue");var a=this.fromResourceName(t.referenceValue),s=new ki(a.get(1),a.get(3)),u=new Ki(this.extractLocalPathFromResourceName(a));return new Ts(s,u)}return Fr("Unknown Value proto "+JSON.stringify(t))},Xl.prototype.toMutationDocument=function(t,e){return{name:this.toName(t),fields:this.toFields(e)}},Xl.prototype.toDocument=function(t){return Vr(!t.hasLocalMutations,"Can't serialize documents with mutations."),{name:this.toName(t.key),fields:this.toFields(t.data()),updateTime:this.toTimestamp(t.version.toTimestamp())}},Xl.prototype.fromDocument=function(t,e){var n=this,r=this.fromName(t.name),i=this.fromVersion(t.updateTime);return new xs(r,i,{hasCommittedMutations:!!e},void 0,t,function(t){return n.fromValue(t)})},Xl.prototype.toFields=function(t){var n=this,r={};return t.forEach(function(t,e){r[t]=n.toValue(e)}),r},Xl.prototype.fromFields=function(t){var n=this,e=t,r=As.EMPTY;return Jr(e,function(t,e){r=r.set(new Ui([t]),n.fromValue(e))}),r},Xl.prototype.toMapValue=function(t){return{fields:this.toFields(t)}},Xl.prototype.toArrayValue=function(t){var e=this,n=[];return t.forEach(function(t){n.push(e.toValue(t))}),{values:n}},Xl.prototype.fromFound=function(t){var e=this;Vr(!!t.found,"Tried to deserialize a found document from a missing document."),zl(t.found.name,"doc.found.name"),zl(t.found.updateTime,"doc.found.updateTime");var n=this.fromName(t.found.name),r=this.fromVersion(t.found.updateTime);return new xs(n,r,{},void 0,t.found,function(t){return e.fromValue(t)})},Xl.prototype.fromMissing=function(t){Vr(!!t.missing,"Tried to deserialize a missing document from a found document."),Vr(!!t.readTime,"Tried to deserialize a missing document without a read time.");var e=this.fromName(t.missing),n=this.fromVersion(t.readTime);return new Vs(e,n)},Xl.prototype.fromMaybeDocument=function(t){return"found"in t?this.fromFound(t):"missing"in t?this.fromMissing(t):Fr("invalid batch get response: "+JSON.stringify(t))},Xl.prototype.toWatchTargetChangeState=function(t){switch(t){case Fh.Added:return"ADD";case Fh.Current:return"CURRENT";case Fh.NoChange:return"NO_CHANGE";case Fh.Removed:return"REMOVE";case Fh.Reset:return"RESET";default:return Fr("Unknown WatchTargetChangeState: "+t)}},Xl.prototype.toTestWatchChange=function(t){if(t instanceof Uh)return{filter:{count:t.existenceFilter.count,targetId:t.targetId}};if(t instanceof Bh){if(t.newDoc instanceof xs){var e=t.newDoc;return{documentChange:{document:{name:this.toName(e.key),fields:this.toFields(e.data()),updateTime:this.toVersion(e.version)},targetIds:t.updatedTargetIds,removedTargetIds:t.removedTargetIds}}}if(t.newDoc instanceof Vs)return e=t.newDoc,{documentDelete:{document:this.toName(e.key),readTime:this.toVersion(e.version),removedTargetIds:t.removedTargetIds}};if(null===t.newDoc)return{documentRemove:{document:this.toName(t.key),removedTargetIds:t.removedTargetIds}}}if(t instanceof Qh){var n=void 0;return t.cause&&(n={code:function(t){if(void 0===t)return vh.OK;switch(t){case jr.OK:return vh.OK;case jr.CANCELLED:return vh.CANCELLED;case jr.UNKNOWN:return vh.UNKNOWN;case jr.DEADLINE_EXCEEDED:return vh.DEADLINE_EXCEEDED;case jr.RESOURCE_EXHAUSTED:return vh.RESOURCE_EXHAUSTED;case jr.INTERNAL:return vh.INTERNAL;case jr.UNAVAILABLE:return vh.UNAVAILABLE;case jr.UNAUTHENTICATED:return vh.UNAUTHENTICATED;case jr.INVALID_ARGUMENT:return vh.INVALID_ARGUMENT;case jr.NOT_FOUND:return vh.NOT_FOUND;case jr.ALREADY_EXISTS:return vh.ALREADY_EXISTS;case jr.PERMISSION_DENIED:return vh.PERMISSION_DENIED;case jr.FAILED_PRECONDITION:return vh.FAILED_PRECONDITION;case jr.ABORTED:return vh.ABORTED;case jr.OUT_OF_RANGE:return vh.OUT_OF_RANGE;case jr.UNIMPLEMENTED:return vh.UNIMPLEMENTED;case jr.DATA_LOSS:return vh.DATA_LOSS;default:return Fr("Unknown status code: "+t)}}(t.cause.code),message:t.cause.message}),{targetChange:{targetChangeType:this.toWatchTargetChangeState(t.state),targetIds:t.targetIds,resumeToken:this.unsafeCastProtoByteString(t.resumeToken),cause:n}}}return Fr("Unrecognized watch change: "+JSON.stringify(t))},Xl.prototype.fromWatchChange=function(t){var e,n=this;if("targetChange"in t){zl(t.targetChange,"targetChange");var r=this.fromWatchTargetChangeState(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=t.targetChange.resumeToken||this.emptyByteString(),a=t.targetChange.cause,s=a&&this.fromRpcStatus(a);e=new Qh(r,i,o,s||null)}else if("documentChange"in t){zl(t.documentChange,"documentChange"),zl(t.documentChange.document,"documentChange.name"),zl(t.documentChange.document.name,"documentChange.document.name"),zl(t.documentChange.document.updateTime,"documentChange.document.updateTime");var u=t.documentChange,c=this.fromName(u.document.name),h=this.fromVersion(u.document.updateTime),l=new xs(c,h,{},void 0,u.document,function(t){return n.fromValue(t)}),f=u.targetIds||[],d=u.removedTargetIds||[];e=new Bh(f,d,l.key,l)}else if("documentDelete"in t){zl(t.documentDelete,"documentDelete"),zl(t.documentDelete.document,"documentDelete.document");var p=t.documentDelete;c=this.fromName(p.document),h=p.readTime?this.fromVersion(p.readTime):uo.forDeletedDoc(),l=new Vs(c,h),d=p.removedTargetIds||[],e=new Bh([],d,l.key,l)}else if("documentRemove"in t){zl(t.documentRemove,"documentRemove"),zl(t.documentRemove.document,"documentRemove");var m=t.documentRemove;c=this.fromName(m.document),d=m.removedTargetIds||[],e=new Bh([],d,c,null)}else{if(!("filter"in t))return Fr("Unknown change type "+JSON.stringify(t));zl(t.filter,"filter"),zl(t.filter.targetId,"filter.targetId");var y=t.filter,g=y.count||0,v=new Bl(g),b=y.targetId;e=new Uh(b,v)}return e},Xl.prototype.fromWatchTargetChangeState=function(t){return"NO_CHANGE"===t?Fh.NoChange:"ADD"===t?Fh.Added:"REMOVE"===t?Fh.Removed:"CURRENT"===t?Fh.Current:"RESET"===t?Fh.Reset:Fr("Got unexpected TargetChange.state: "+t)},Xl.prototype.versionFromListenResponse=function(t){if(!("targetChange"in t))return uo.MIN;var e=t.targetChange;return e.targetIds&&e.targetIds.length?uo.MIN:e.readTime?this.fromVersion(e.readTime):uo.MIN},Xl.prototype.toMutation=function(t){var e,n=this;if(t instanceof Aa)e={update:this.toMutationDocument(t.key,t.value)};else if(t instanceof Ua)e={delete:this.toName(t.key)};else if(t instanceof Ma)e={update:this.toMutationDocument(t.key,t.data),updateMask:this.toDocumentMask(t.fieldMask)};else{if(!(t instanceof La))return Fr("Unknown mutation type "+t.type);e={transform:{document:this.toName(t.key),fieldTransforms:t.fieldTransforms.map(function(t){return n.toFieldTransform(t)})}}}return t.precondition.isNone||(e.currentDocument=this.toPrecondition(t.precondition)),e},Xl.prototype.fromMutation=function(t){var e=this,n=t.currentDocument?this.fromPrecondition(t.currentDocument):Ea.NONE;if(t.update){zl(t.update.name,"name");var r=this.fromName(t.update.name),i=this.fromFields(t.update.fields||{});if(t.updateMask){var o=this.fromDocumentMask(t.updateMask);return new Ma(r,i,o,n)}return new Aa(r,i,n)}if(t.delete)return r=this.fromName(t.delete),new Ua(r,n);if(t.transform){r=this.fromName(t.transform.document);var a=t.transform.fieldTransforms.map(function(t){return e.fromFieldTransform(t)});return Vr(!0===n.exists,'Transforms only support precondition "exists == true"'),new La(r,a)}return Fr("unknown mutation proto: "+JSON.stringify(t))},Xl.prototype.toPrecondition=function(t){return Vr(!t.isNone,"Can't serialize an empty precondition"),void 0!==t.updateTime?{updateTime:this.toVersion(t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Fr("Unknown precondition")},Xl.prototype.fromPrecondition=function(t){return void 0!==t.updateTime?Ea.updateTime(this.fromVersion(t.updateTime)):void 0!==t.exists?Ea.exists(t.exists):Ea.NONE},Xl.prototype.fromWriteResult=function(t,e){var n=this,r=t.updateTime?this.fromVersion(t.updateTime):this.fromVersion(e);r.isEqual(uo.MIN)&&(r=this.fromVersion(e));var i=null;return t.transformResults&&0<t.transformResults.length&&(i=t.transformResults.map(function(t){return n.fromValue(t)})),new Ta(r,i)},Xl.prototype.fromWriteResults=function(t,e){var n=this;return t&&0<t.length?(Vr(void 0!==e,"Received a write result without a commit time"),t.map(function(t){return n.fromWriteResult(t,e)})):[]},Xl.prototype.toFieldTransform=function(t){var e=this,n=t.transform;if(n instanceof Ml)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof _l)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements.map(function(t){return e.toValue(t)})}};if(n instanceof Pl)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements.map(function(t){return e.toValue(t)})}};if(n instanceof ql)return{fieldPath:t.field.canonicalString(),increment:this.toValue(n.operand)};throw Fr("Unknown transform: "+t.transform)},Xl.prototype.fromFieldTransform=function(t){var e=this,n=null;if("setToServerValue"in t)Vr("REQUEST_TIME"===t.setToServerValue,"Unknown server value transform proto: "+JSON.stringify(t)),n=Ml.instance;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new _l(r.map(function(t){return e.fromValue(t)}))}else if("removeAllFromArray"in t)r=t.removeAllFromArray.values||[],n=new Pl(r.map(function(t){return e.fromValue(t)}));else if("increment"in t){var i=this.fromValue(t.increment);Vr(i instanceof ts,"NUMERIC_ADD transform requires a NumberValue"),n=new ql(i)}else Fr("Unknown transform proto: "+JSON.stringify(t));var o=Ui.fromServerFormat(t.fieldPath);return new va(o,n)},Xl.prototype.toDocumentsTarget=function(t){return{documents:[this.toQueryPath(t.path)]}},Xl.prototype.fromDocumentsTarget=function(t){var e=t.documents.length;Vr(1===e,"DocumentsTarget contained other than 1 document: "+e);var n=t.documents[0];return tl.atPath(this.fromQueryPath(n))},Xl.prototype.toQueryTarget=function(t){var e={structuredQuery:{}},n=t.path;null!==t.collectionGroup?(Vr(n.length%2==0,"Collection Group queries should be within a document path or root."),e.parent=this.toQueryPath(n),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(Vr(n.length%2!=0,"Document queries with filters are not supported."),e.parent=this.toQueryPath(n.popLast()),e.structuredQuery.from=[{collectionId:n.lastSegment()}]);var r=this.toFilter(t.filters);r&&(e.structuredQuery.where=r);var i=this.toOrder(t.orderBy);i&&(e.structuredQuery.orderBy=i);var o=this.toInt32Value(t.limit);return null!==o&&(e.structuredQuery.limit=o),t.startAt&&(e.structuredQuery.startAt=this.toCursor(t.startAt)),t.endAt&&(e.structuredQuery.endAt=this.toCursor(t.endAt)),e},Xl.prototype.fromQueryTarget=function(t){var e=this.fromQueryPath(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(0<r){Vr(1===r,"StructuredQuery.from with more than one collection is not supported.");var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var a=[];n.where&&(a=this.fromFilter(n.where));var s=[];n.orderBy&&(s=this.fromOrder(n.orderBy));var u=null;n.limit&&(u=this.fromInt32Value(n.limit));var c=null;n.startAt&&(c=this.fromCursor(n.startAt));var h=null;return n.endAt&&(h=this.fromCursor(n.endAt)),new tl(e,i,s,a,u,c,h)},Xl.prototype.toListenRequestLabels=function(t){var e=this.toLabel(t.purpose);return null==e?null:{"goog-listen-tags":e}},Xl.prototype.toLabel=function(t){switch(t){case Pu.Listen:return null;case Pu.ExistenceFilterMismatch:return"existence-filter-mismatch";case Pu.LimboResolution:return"limbo-document";default:return Fr("Unrecognized query purpose: "+t)}},Xl.prototype.toTarget=function(t){var e,n=t.query;return(e=n.isDocumentQuery()?{documents:this.toDocumentsTarget(n)}:{query:this.toQueryTarget(n)}).targetId=t.targetId,0<t.resumeToken.length&&(e.resumeToken=this.unsafeCastProtoByteString(t.resumeToken)),e},Xl.prototype.toFilter=function(t){var e=this;if(0!==t.length){var n=t.map(function(t){return t instanceof al?e.toUnaryOrFieldFilter(t):Fr("Unrecognized filter: "+JSON.stringify(t))});return 1===n.length?n[0]:{compositeFilter:{op:"AND",filters:n}}}},Xl.prototype.fromFilter=function(t){var e=this;return t?void 0!==t.unaryFilter?[this.fromUnaryFilter(t)]:void 0!==t.fieldFilter?[this.fromFieldFilter(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return e.fromFilter(t)}).reduce(function(t,e){return t.concat(e)}):Fr("Unknown filter: "+JSON.stringify(t)):[]},Xl.prototype.toOrder=function(t){var e=this;if(0!==t.length)return t.map(function(t){return e.toPropertyOrder(t)})},Xl.prototype.fromOrder=function(t){var e=this;return t.map(function(t){return e.fromPropertyOrder(t)})},Xl.prototype.toCursor=function(t){var e=this;return{before:t.before,values:t.position.map(function(t){return e.toValue(t)})}},Xl.prototype.fromCursor=function(t){var e=this,n=!!t.before,r=t.values.map(function(t){return e.fromValue(t)});return new Cl(r,n)},Xl.prototype.toDirection=function(t){return jl[t.name]},Xl.prototype.fromDirection=function(t){switch(t){case"ASCENDING":return El.ASCENDING;case"DESCENDING":return El.DESCENDING;default:return}},Xl.prototype.toOperatorName=function(t){return Wl[t.name]},Xl.prototype.fromOperatorName=function(t){switch(t){case"EQUAL":return rl.EQUAL;case"GREATER_THAN":return rl.GREATER_THAN;case"GREATER_THAN_OR_EQUAL":return rl.GREATER_THAN_OR_EQUAL;case"LESS_THAN":return rl.LESS_THAN;case"LESS_THAN_OR_EQUAL":return rl.LESS_THAN_OR_EQUAL;case"ARRAY_CONTAINS":return rl.ARRAY_CONTAINS;case"IN":return rl.IN;case"ARRAY_CONTAINS_ANY":return rl.ARRAY_CONTAINS_ANY;case"OPERATOR_UNSPECIFIED":return Fr("Unspecified operator");default:return Fr("Unknown operator")}},Xl.prototype.toFieldPathReference=function(t){return{fieldPath:t.canonicalString()}},Xl.prototype.fromFieldPathReference=function(t){return Ui.fromServerFormat(t.fieldPath)},Xl.prototype.toPropertyOrder=function(t){return{field:this.toFieldPathReference(t.field),direction:this.toDirection(t.dir)}},Xl.prototype.fromPropertyOrder=function(t){return new Nl(this.fromFieldPathReference(t.field),this.fromDirection(t.direction))},Xl.prototype.fromFieldFilter=function(t){return al.create(this.fromFieldPathReference(t.fieldFilter.field),this.fromOperatorName(t.fieldFilter.op),this.fromValue(t.fieldFilter.value))},Xl.prototype.toUnaryOrFieldFilter=function(t){if(t.op===rl.EQUAL){if(t.value.isEqual(ss.NAN))return{unaryFilter:{field:this.toFieldPathReference(t.field),op:"IS_NAN"}};if(t.value.isEqual(Ha.INSTANCE))return{unaryFilter:{field:this.toFieldPathReference(t.field),op:"IS_NULL"}}}return{fieldFilter:{field:this.toFieldPathReference(t.field),op:this.toOperatorName(t.op),value:this.toValue(t.value)}}},Xl.prototype.fromUnaryFilter=function(t){switch(t.unaryFilter.op){case"IS_NAN":var e=this.fromFieldPathReference(t.unaryFilter.field);return al.create(e,rl.EQUAL,ss.NAN);case"IS_NULL":var n=this.fromFieldPathReference(t.unaryFilter.field);return al.create(n,rl.EQUAL,Ha.INSTANCE);case"OPERATOR_UNSPECIFIED":return Fr("Unspecified filter");default:return Fr("Unknown filter")}},Xl.prototype.toDocumentMask=function(t){var e=[];return t.fields.forEach(function(t){return e.push(t.canonicalString())}),{fieldPaths:e}},Xl.prototype.fromDocumentMask=function(t){var e=(t.fieldPaths||[]).map(function(t){return Ui.fromServerFormat(t)});return ya.fromArray(e)},Xl);function Xl(t,e){this.databaseId=t,this.options=e}var Jl=function(){this.viewSnap=null,this.targetId=0,this.listeners=[]},Zl=($l.prototype.listen=function(t){var e=t.query,n=!1,r=this.queries.get(e);return r||(n=!0,r=new Jl,this.queries.set(e,r)),r.listeners.push(t),Vr(!t.applyOnlineStateChange(this.onlineState),"applyOnlineStateChange() shouldn't raise an event for brand-new listeners."),!r.viewSnap||t.onViewSnapshot(r.viewSnap)&&this.raiseSnapshotsInSyncEvent(),n?this.syncEngine.listen(e).then(function(t){return r.targetId=t}):Promise.resolve(r.targetId)},$l.prototype.unlisten=function(o){return d(this,void 0,void 0,function(){var e,n,r,i;return p(this,function(t){return e=o.query,n=!1,(r=this.queries.get(e))&&0<=(i=r.listeners.indexOf(o))&&(r.listeners.splice(i,1),n=0===r.listeners.length),n?(this.queries.delete(e),[2,this.syncEngine.unlisten(e)]):[2]})})},$l.prototype.onWatchChange=function(t){for(var e=!1,n=0,r=t;n<r.length;n++){var i=r[n],o=i.query,a=this.queries.get(o);if(a){for(var s=0,u=a.listeners;s<u.length;s++)u[s].onViewSnapshot(i)&&(e=!0);a.viewSnap=i}}e&&this.raiseSnapshotsInSyncEvent()},$l.prototype.onWatchError=function(t,e){var n=this.queries.get(t);if(n)for(var r=0,i=n.listeners;r<i.length;r++)i[r].onError(e);this.queries.delete(t)},$l.prototype.onOnlineStateChange=function(i){this.onlineState=i;var o=!1;this.queries.forEach(function(t,e){for(var n=0,r=e.listeners;n<r.length;n++)r[n].applyOnlineStateChange(i)&&(o=!0)}),o&&this.raiseSnapshotsInSyncEvent()},$l.prototype.addSnapshotsInSyncListener=function(t){this.snapshotsInSyncListeners.add(t),t.next()},$l.prototype.removeSnapshotsInSyncListener=function(t){this.snapshotsInSyncListeners.delete(t)},$l.prototype.raiseSnapshotsInSyncEvent=function(){this.snapshotsInSyncListeners.forEach(function(t){t.next()})},$l);function $l(t){this.syncEngine=t,this.queries=new js(function(t){return t.canonicalId()}),this.onlineState=fh.Unknown,this.snapshotsInSyncListeners=new Set,this.syncEngine.subscribe(this)}var tf=(ef.prototype.onViewSnapshot=function(t){if(Vr(0<t.docChanges.length||t.syncStateChanged,"We got a new snapshot with no changes?"),!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];i.type!==Ih.Metadata&&e.push(i)}t=new Oh(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.raisedInitialEvent?this.shouldRaiseEvent(t)&&(this.queryObserver.next(t),o=!0):this.shouldRaiseInitialEvent(t,this.onlineState)&&(this.raiseInitialEvent(t),o=!0),this.snap=t,o},ef.prototype.onError=function(t){this.queryObserver.error(t)},ef.prototype.applyOnlineStateChange=function(t){this.onlineState=t;var e=!1;return this.snap&&!this.raisedInitialEvent&&this.shouldRaiseInitialEvent(this.snap,t)&&(this.raiseInitialEvent(this.snap),e=!0),e},ef.prototype.shouldRaiseInitialEvent=function(t,e){if(Vr(!this.raisedInitialEvent,"Determining whether to raise first event but already had first event"),!t.fromCache)return!0;var n=e!==fh.Offline;return this.options.waitForSyncWhenOnline&&n?(Vr(t.fromCache,"Waiting for sync, but snapshot is not from cache"),!1):!t.docs.isEmpty()||e===fh.Offline},ef.prototype.shouldRaiseEvent=function(t){if(0<t.docChanges.length)return!0;var e=this.snap&&this.snap.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&!0===this.options.includeMetadataChanges},ef.prototype.raiseInitialEvent=function(t){Vr(!this.raisedInitialEvent,"Trying to raise initial events for second time"),t=Oh.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.raisedInitialEvent=!0,this.queryObserver.next(t)},ef);function ef(t,e,n){this.query=t,this.queryObserver=e,this.raisedInitialEvent=!1,this.snap=null,this.onlineState=fh.Unknown,this.options=n||{}}var nf=(rf.fromSnapshot=function(t,e){for(var n=Mo(),r=Mo(),i=0,o=e.docChanges;i<o.length;i++){var a=o[i];switch(a.type){case Ih.Added:n=n.add(a.doc.key);break;case Ih.Removed:r=r.add(a.doc.key)}}return new rf(t,e.fromCache,n,r)},rf);function rf(t,e,n,r){this.targetId=t,this.fromCache=e,this.addedKeys=n,this.removedKeys=r}var of=function(t){this.key=t},af=function(t){this.key=t},sf=(Object.defineProperty(uf.prototype,"syncedDocuments",{get:function(){return this._syncedDocuments},enumerable:!0,configurable:!0}),uf.prototype.computeDocChanges=function(t,e){var s=this,u=e?e.changeSet:new Rh,c=e?e.documentSet:this.documentSet,h=e?e.mutatedKeys:this.mutatedKeys,l=c,f=!1,d=this.query.hasLimit()&&c.size===this.query.limit?c.last():null;if(t.inorderTraversal(function(t,e){var n=c.get(t),r=e instanceof xs?e:null;r&&(Vr(t.isEqual(r.key),"Mismatching keys found in document changes: "+t+" != "+r.key),r=s.query.matches(r)?r:null);var i=!!n&&s.mutatedKeys.has(n.key),o=!!r&&(r.hasLocalMutations||s.mutatedKeys.has(r.key)&&r.hasCommittedMutations),a=!1;n&&r?n.data().isEqual(r.data())?i!==o&&(u.track({type:Ih.Metadata,doc:r}),a=!0):s.shouldWaitForSyncedDocument(n,r)||(u.track({type:Ih.Modified,doc:r}),a=!0,d&&0<s.query.docComparator(r,d)&&(f=!0)):!n&&r?(u.track({type:Ih.Added,doc:r}),a=!0):n&&!r&&(u.track({type:Ih.Removed,doc:n}),a=!0,d&&(f=!0)),a&&(h=r?(l=l.add(r),o?h.add(t):h.delete(t)):(l=l.delete(t),h.delete(t)))}),this.query.hasLimit())for(;l.size>this.query.limit;){var n=l.last();l=l.delete(n.key),h=h.delete(n.key),u.track({type:Ih.Removed,doc:n})}return Vr(!f||!e,"View was refilled using docs that themselves needed refilling."),{documentSet:l,changeSet:u,needsRefill:f,mutatedKeys:h}},uf.prototype.shouldWaitForSyncedDocument=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},uf.prototype.applyChanges=function(t,e,n){var r=this;Vr(!t.needsRefill,"Cannot apply changes that need a refill");var i=this.documentSet;this.documentSet=t.documentSet,this.mutatedKeys=t.mutatedKeys;var o=t.changeSet.getChanges();o.sort(function(t,e){return function(t,e){function n(t){switch(t){case Ih.Added:return 1;case Ih.Modified:case Ih.Metadata:return 2;case Ih.Removed:return 0;default:return Fr("Unknown ChangeType: "+t)}}return n(t)-n(e)}(t.type,e.type)||r.query.docComparator(t.doc,e.doc)}),this.applyTargetChange(n);var a=e?this.updateLimboDocuments():[],s=0===this.limboDocuments.size&&this.current?Dh.Synced:Dh.Local,u=s!==this.syncState;return this.syncState=s,0!==o.length||u?{snapshot:new Oh(this.query,t.documentSet,i,o,t.mutatedKeys,s===Dh.Local,u,!1),limboChanges:a}:{limboChanges:a}},uf.prototype.applyOnlineStateChange=function(t){return this.current&&t===fh.Offline?(this.current=!1,this.applyChanges({documentSet:this.documentSet,changeSet:new Rh,mutatedKeys:this.mutatedKeys,needsRefill:!1},!1)):{limboChanges:[]}},uf.prototype.shouldBeInLimbo=function(t){return!this._syncedDocuments.has(t)&&!!this.documentSet.has(t)&&!this.documentSet.get(t).hasLocalMutations},uf.prototype.applyTargetChange=function(t){var e=this;t&&(t.addedDocuments.forEach(function(t){return e._syncedDocuments=e._syncedDocuments.add(t)}),t.modifiedDocuments.forEach(function(t){return Vr(e._syncedDocuments.has(t),"Modified document "+t+" not found in view.")}),t.removedDocuments.forEach(function(t){return e._syncedDocuments=e._syncedDocuments.delete(t)}),this.current=t.current)},uf.prototype.updateLimboDocuments=function(){var e=this;if(!this.current)return[];var n=this.limboDocuments;this.limboDocuments=Mo(),this.documentSet.forEach(function(t){e.shouldBeInLimbo(t.key)&&(e.limboDocuments=e.limboDocuments.add(t.key))});var r=[];return n.forEach(function(t){e.limboDocuments.has(t)||r.push(new af(t))}),this.limboDocuments.forEach(function(t){n.has(t)||r.push(new of(t))}),r},uf.prototype.synchronizeWithPersistedState=function(t){this._syncedDocuments=t.remoteKeys,this.limboDocuments=Mo();var e=this.computeDocChanges(t.documents);return this.applyChanges(e,!0)},uf.prototype.computeInitialSnapshot=function(){return Oh.fromInitialDocuments(this.query,this.documentSet,this.mutatedKeys,this.syncState===Dh.Local)},uf);function uf(t,e){this.query=t,this._syncedDocuments=e,this.syncState=null,this.current=!1,this.limboDocuments=Mo(),this.mutatedKeys=Mo(),this.documentSet=new Ah(t.docComparator.bind(t))}var cf=(hf.prototype.run=function(){this.runWithBackOff()},hf.prototype.runWithBackOff=function(){var t=this;this.backoff.backoffAndRun(function(){return d(t,void 0,void 0,function(){var e,n,r=this;return p(this,function(t){return e=this.remoteStore.createTransaction(),(n=this.tryRunUpdateFunction(e))&&n.then(function(t){r.asyncQueue.enqueueAndForget(function(){return e.commit().then(function(){r.deferred.resolve(t)}).catch(function(t){r.handleTransactionError(t)})})}).catch(function(t){r.handleTransactionError(t)}),[2]})})})},hf.prototype.tryRunUpdateFunction=function(t){try{var e=this.updateFunction(t);return!Yc(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},hf.prototype.handleTransactionError=function(t){var e=this;0<this.retries&&this.isRetryableTransactionError(t)?(this.retries-=1,this.asyncQueue.enqueueAndForget(function(){return e.runWithBackOff(),Promise.resolve()})):this.deferred.reject(t)},hf.prototype.isRetryableTransactionError=function(t){if("FirebaseError"!==t.name)return!1;var e=t.code;return"aborted"===e||"failed-precondition"===e||!Th(e)},hf);function hf(t,e,n,r){this.asyncQueue=t,this.remoteStore=e,this.updateFunction=n,this.deferred=r,this.retries=5,this.backoff=new Jc(this.asyncQueue,Wi.RetryTransaction)}var lf="SyncEngine",ff=function(t,e,n){this.query=t,this.targetId=e,this.view=n},df=function(t){this.key=t,this.receivedDocument=!1},pf=(Object.defineProperty(mf.prototype,"isPrimaryClient",{get:function(){return!0===this.isPrimary},enumerable:!0,configurable:!0}),mf.prototype.subscribe=function(t){Vr(null!==t,"SyncEngine listener cannot be null"),Vr(null===this.syncEngineListener,"SyncEngine already has a subscriber."),this.syncEngineListener=t},mf.prototype.listen=function(a){return d(this,void 0,void 0,function(){var e,n,r,i,o;return p(this,function(t){switch(t.label){case 0:return this.assertSubscribed("listen()"),(r=this.queryViewsByQuery.get(a))?(e=r.targetId,this.sharedClientState.addLocalQueryTarget(e),n=r.view.computeInitialSnapshot(),[3,4]):[3,1];case 1:return[4,this.localStore.allocateQuery(a)];case 2:return i=t.sent(),o=this.sharedClientState.addLocalQueryTarget(i.targetId),e=i.targetId,[4,this.initializeViewAndComputeSnapshot(i,"current"===o)];case 3:n=t.sent(),this.isPrimary&&this.remoteStore.listen(i),t.label=4;case 4:return this.syncEngineListener.onWatchChange([n]),[2,e]}})})},mf.prototype.initializeViewAndComputeSnapshot=function(u,c){return d(this,void 0,void 0,function(){var e,n,r,i,o,a,s;return p(this,function(t){switch(t.label){case 0:return e=u.query,[4,this.localStore.executeQuery(e,!0)];case 1:return n=t.sent(),r=new sf(e,n.remoteKeys),i=r.computeDocChanges(n.documents),o=xh.createSynthesizedTargetChangeForCurrentChange(u.targetId,c&&this.onlineState!==fh.Offline),Vr(0===(a=r.applyChanges(i,!0===this.isPrimary,o)).limboChanges.length,"View returned limbo docs before target ack from the server."),Vr(!!a.snapshot,"applyChanges for new view should always return a snapshot"),s=new ff(e,u.targetId,r),this.queryViewsByQuery.set(e,s),this.queryViewsByTarget[u.targetId]=s,[2,a.snapshot]}})})},mf.prototype.synchronizeViewAndComputeSnapshot=function(r){return d(this,void 0,void 0,function(){var e,n;return p(this,function(t){switch(t.label){case 0:return[4,this.localStore.executeQuery(r.query,!0)];case 1:return e=t.sent(),n=r.view.synchronizeWithPersistedState(e),this.isPrimary&&this.updateTrackedLimbos(r.targetId,n.limboChanges),[2,n]}})})},mf.prototype.unlisten=function(r){return d(this,void 0,void 0,function(){var e,n=this;return p(this,function(t){switch(t.label){case 0:return this.assertSubscribed("unlisten()"),Vr(!!(e=this.queryViewsByQuery.get(r)),"Trying to unlisten on query not found:"+r),this.isPrimary?(this.sharedClientState.removeLocalQueryTarget(e.targetId),this.sharedClientState.isActiveQueryTarget(e.targetId)?[3,2]:[4,this.localStore.releaseQuery(r,!1).then(function(){n.sharedClientState.clearQueryState(e.targetId),n.remoteStore.unlisten(e.targetId),n.removeAndCleanupQuery(e)}).catch(lc)]):[3,3];case 1:t.sent(),t.label=2;case 2:return[3,5];case 3:return this.removeAndCleanupQuery(e),[4,this.localStore.releaseQuery(r,!0)];case 4:t.sent(),t.label=5;case 5:return[2]}})})},mf.prototype.write=function(n,r){return d(this,void 0,void 0,function(){var e;return p(this,function(t){switch(t.label){case 0:return this.assertSubscribed("write()"),[4,this.localStore.localWrite(n)];case 1:return e=t.sent(),this.sharedClientState.addPendingMutation(e.batchId),this.addMutationCallback(e.batchId,r),[4,this.emitNewSnapsAndNotifyLocalStore(e.changes)];case 2:return t.sent(),[4,this.remoteStore.fillWritePipeline()];case 3:return t.sent(),[2]}})})},mf.prototype.runTransaction=function(t,e,n){new cf(t,this.remoteStore,e,n).run()},mf.prototype.applyRemoteEvent=function(n){return d(this,void 0,void 0,function(){var e,r=this;return p(this,function(t){switch(t.label){case 0:this.assertSubscribed("applyRemoteEvent()"),t.label=1;case 1:return t.trys.push([1,4,,6]),[4,this.localStore.applyRemoteEvent(n)];case 2:return e=t.sent(),Jr(n.targetChanges,function(t,e){var n=r.limboResolutionsByTarget[Number(t)];n&&(Vr(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,"Limbo resolution for single document contains multiple changes."),0<e.addedDocuments.size?n.receivedDocument=!0:0<e.modifiedDocuments.size?Vr(n.receivedDocument,"Received change for limbo target document without add."):0<e.removedDocuments.size&&(Vr(n.receivedDocument,"Received remove for limbo target document without add."),n.receivedDocument=!1))}),[4,this.emitNewSnapsAndNotifyLocalStore(e,n)];case 3:return t.sent(),[3,6];case 4:return[4,lc(t.sent())];case 5:return t.sent(),[3,6];case 6:return[2]}})})},mf.prototype.applyOnlineStateChange=function(r,t){if(this.isPrimary&&t===ph.RemoteStore||!this.isPrimary&&t===ph.SharedClientState){this.assertSubscribed("applyOnlineStateChange()");var i=[];this.queryViewsByQuery.forEach(function(t,e){var n=e.view.applyOnlineStateChange(r);Vr(0===n.limboChanges.length,"OnlineState should not affect limbo documents."),n.snapshot&&i.push(n.snapshot)}),this.syncEngineListener.onOnlineStateChange(r),this.syncEngineListener.onWatchChange(i),this.onlineState=r,this.isPrimary&&this.sharedClientState.setOnlineState(r)}},mf.prototype.rejectListen=function(u,c){return d(this,void 0,void 0,function(){var e,n,r,i,o,a,s=this;return p(this,function(t){switch(t.label){case 0:return this.assertSubscribed("rejectListens()"),this.sharedClientState.updateQueryState(u,"rejected",c),e=this.limboResolutionsByTarget[u],(n=e&&e.key)?(this.limboTargetsByKey=this.limboTargetsByKey.remove(n),delete this.limboResolutionsByTarget[u],r=(r=new ho(Ki.comparator)).insert(n,new Vs(n,uo.forDeletedDoc())),i=Mo().add(n),o=new Lh(uo.MIN,{},new bo(bi),r,i),[2,this.applyRemoteEvent(o)]):[3,1];case 1:return Vr(!!(a=this.queryViewsByTarget[u]),"Unknown targetId: "+u),[4,this.localStore.releaseQuery(a.query,!1).then(function(){return s.removeAndCleanupQuery(a)}).catch(lc)];case 2:t.sent(),this.syncEngineListener.onWatchError(a.query,c),t.label=3;case 3:return[2]}})})},mf.prototype.applyBatchState=function(n,r,i){return d(this,void 0,void 0,function(){var e;return p(this,function(t){switch(t.label){case 0:return this.assertSubscribed("applyBatchState()"),[4,this.localStore.lookupMutationDocuments(n)];case 1:return null===(e=t.sent())?(Pr(lf,"Cannot apply mutation batch with id: "+n),[2]):"pending"!==r?[3,3]:[4,this.remoteStore.fillWritePipeline()];case 2:return t.sent(),[3,4];case 3:"acknowledged"===r||"rejected"===r?(this.processUserCallback(n,i||null),this.localStore.removeCachedMutationBatchMetadata(n)):Fr("Unknown batchState: "+r),t.label=4;case 4:return[4,this.emitNewSnapsAndNotifyLocalStore(e)];case 5:return t.sent(),[2]}})})},mf.prototype.applySuccessfulWrite=function(r){return d(this,void 0,void 0,function(){var e,n;return p(this,function(t){switch(t.label){case 0:this.assertSubscribed("applySuccessfulWrite()"),e=r.batch.batchId,this.processUserCallback(e,null),this.triggerPendingWritesCallbacks(e),t.label=1;case 1:return t.trys.push([1,4,,6]),[4,this.localStore.acknowledgeBatch(r)];case 2:return n=t.sent(),this.sharedClientState.updateMutationState(e,"acknowledged"),[4,this.emitNewSnapsAndNotifyLocalStore(n)];case 3:return t.sent(),[3,6];case 4:return[4,lc(t.sent())];case 5:return t.sent(),[3,6];case 6:return[2]}})})},mf.prototype.rejectFailedWrite=function(n,r){return d(this,void 0,void 0,function(){var e;return p(this,function(t){switch(t.label){case 0:this.assertSubscribed("rejectFailedWrite()"),this.processUserCallback(n,r),this.triggerPendingWritesCallbacks(n),t.label=1;case 1:return t.trys.push([1,4,,6]),[4,this.localStore.rejectBatch(n)];case 2:return e=t.sent(),this.sharedClientState.updateMutationState(n,"rejected",r),[4,this.emitNewSnapsAndNotifyLocalStore(e)];case 3:return t.sent(),[3,6];case 4:return[4,lc(t.sent())];case 5:return t.sent(),[3,6];case 6:return[2]}})})},mf.prototype.registerPendingWritesCallback=function(r){return d(this,void 0,void 0,function(){var e,n;return p(this,function(t){switch(t.label){case 0:return this.remoteStore.canUseNetwork()||Pr(lf,"The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),[4,this.localStore.getHighestUnacknowledgedBatchId()];case 1:return-1===(e=t.sent())?r.resolve():((n=this.pendingWritesCallbacks.get(e)||[]).push(r),this.pendingWritesCallbacks.set(e,n)),[2]}})})},mf.prototype.triggerPendingWritesCallbacks=function(t){(this.pendingWritesCallbacks.get(t)||[]).forEach(function(t){t.resolve()}),this.pendingWritesCallbacks.delete(t)},mf.prototype.rejectOutstandingPendingWritesCallbacks=function(e){this.pendingWritesCallbacks.forEach(function(t){t.forEach(function(t){t.reject(new Wr(jr.CANCELLED,e))})}),this.pendingWritesCallbacks.clear()},mf.prototype.addMutationCallback=function(t,e){var n=this.mutationUserCallbacks[this.currentUser.toKey()];n=(n=n||new ho(bi)).insert(t,e),this.mutationUserCallbacks[this.currentUser.toKey()]=n},mf.prototype.processUserCallback=function(t,e){var n=this.mutationUserCallbacks[this.currentUser.toKey()];if(n){var r=n.get(t);r&&(Vr(t===n.minKey(),"Mutation callbacks processed out-of-order?"),e?r.reject(e):r.resolve(),n=n.remove(t)),this.mutationUserCallbacks[this.currentUser.toKey()]=n}},mf.prototype.removeAndCleanupQuery=function(t){var e=this;if(this.sharedClientState.removeLocalQueryTarget(t.targetId),this.queryViewsByQuery.delete(t.query),delete this.queryViewsByTarget[t.targetId],this.isPrimary){var n=this.limboDocumentRefs.referencesForId(t.targetId);this.limboDocumentRefs.removeReferencesForId(t.targetId),n.forEach(function(t){e.limboDocumentRefs.containsKey(t)||e.removeLimboTarget(t)})}},mf.prototype.removeLimboTarget=function(t){var e=this.limboTargetsByKey.get(t);null!==e&&(this.remoteStore.unlisten(e),this.limboTargetsByKey=this.limboTargetsByKey.remove(t),delete this.limboResolutionsByTarget[e])},mf.prototype.updateTrackedLimbos=function(t,e){for(var n=0,r=e;n<r.length;n++){var i=r[n];i instanceof of?(this.limboDocumentRefs.addReference(i.key,t),this.trackLimboChange(i)):i instanceof af?(Pr(lf,"Document no longer in limbo: "+i.key),this.limboDocumentRefs.removeReference(i.key,t),this.limboDocumentRefs.containsKey(i.key)||this.removeLimboTarget(i.key)):Fr("Unknown limbo change: "+JSON.stringify(i))}},mf.prototype.trackLimboChange=function(t){var e=t.key;if(!this.limboTargetsByKey.get(e)){Pr(lf,"New document in limbo: "+e);var n=this.limboTargetIdGenerator.next(),r=tl.atPath(e.path);this.limboResolutionsByTarget[n]=new df(e),this.remoteStore.listen(new Uu(r,n,Pu.LimboResolution,Mi.INVALID)),this.limboTargetsByKey=this.limboTargetsByKey.insert(e,n)}},mf.prototype.currentLimboDocs=function(){return this.limboTargetsByKey},mf.prototype.emitNewSnapsAndNotifyLocalStore=function(r,u){return d(this,void 0,void 0,function(){var o,a,e,s=this;return p(this,function(t){switch(t.label){case 0:return o=[],a=[],e=[],this.queryViewsByQuery.forEach(function(t,i){e.push(Promise.resolve().then(function(){var n=i.view.computeDocChanges(r);return n.needsRefill?s.localStore.executeQuery(i.query,!1).then(function(t){var e=t.documents;return i.view.computeDocChanges(e,n)}):n}).then(function(t){var e=u&&u.targetChanges[i.targetId],n=i.view.applyChanges(t,!0===s.isPrimary,e);if(s.updateTrackedLimbos(i.targetId,n.limboChanges),n.snapshot){s.isPrimary&&s.sharedClientState.updateQueryState(i.targetId,n.snapshot.fromCache?"not-current":"current"),o.push(n.snapshot);var r=nf.fromSnapshot(i.targetId,n.snapshot);a.push(r)}}))}),[4,Promise.all(e)];case 1:return t.sent(),this.syncEngineListener.onWatchChange(o),[4,this.localStore.notifyLocalViewChanges(a)];case 2:return t.sent(),[2]}})})},mf.prototype.assertSubscribed=function(t){Vr(null!==this.syncEngineListener,"Trying to call "+t+" before calling subscribe().")},mf.prototype.handleCredentialChange=function(r){return d(this,void 0,void 0,function(){var e,n;return p(this,function(t){switch(t.label){case 0:return e=!this.currentUser.isEqual(r),this.currentUser=r,e?(this.rejectOutstandingPendingWritesCallbacks("'waitForPendingWrites' promise is rejected due to a user change."),[4,this.localStore.handleUserChange(r)]):[3,3];case 1:return n=t.sent(),this.sharedClientState.handleUserChange(r,n.removedBatchIds,n.addedBatchIds),[4,this.emitNewSnapsAndNotifyLocalStore(n.affectedDocuments)];case 2:t.sent(),t.label=3;case 3:return[4,this.remoteStore.handleCredentialChange()];case 4:return t.sent(),[2]}})})},mf.prototype.applyPrimaryState=function(c){return d(this,void 0,void 0,function(){var e,n,r,i,o,a,s,u=this;return p(this,function(t){switch(t.label){case 0:return!0!==c||!0===this.isPrimary?[3,3]:(this.isPrimary=!0,[4,this.remoteStore.applyPrimaryState(!0)]);case 1:return t.sent(),e=this.sharedClientState.getAllActiveQueryTargets(),[4,this.synchronizeQueryViewsAndRaiseSnapshots(e.toArray())];case 2:for(n=t.sent(),r=0,i=n;r<i.length;r++)o=i[r],this.remoteStore.listen(o);return[3,7];case 3:return!1!==c||!1===this.isPrimary?[3,7]:(this.isPrimary=!1,a=[],s=Promise.resolve(),Xr(this.queryViewsByTarget,function(t,e){u.sharedClientState.isLocalQueryTarget(t)?a.push(t):s=s.then(function(){return u.unlisten(e.query)}),u.remoteStore.unlisten(e.targetId)}),[4,s]);case 4:return t.sent(),[4,this.synchronizeQueryViewsAndRaiseSnapshots(a)];case 5:return t.sent(),this.resetLimboDocuments(),[4,this.remoteStore.applyPrimaryState(!1)];case 6:t.sent(),t.label=7;case 7:return[2]}})})},mf.prototype.resetLimboDocuments=function(){var e=this;Xr(this.limboResolutionsByTarget,function(t){e.remoteStore.unlisten(t)}),this.limboDocumentRefs.removeAllReferences(),this.limboResolutionsByTarget=[],this.limboTargetsByKey=new ho(Ki.comparator)},mf.prototype.synchronizeQueryViewsAndRaiseSnapshots=function(h){return d(this,void 0,void 0,function(){var e,n,r,i,o,a,s,u,c;return p(this,function(t){switch(t.label){case 0:e=[],n=[],r=0,i=h,t.label=1;case 1:return r<i.length?(o=i[r],a=void 0,(s=this.queryViewsByTarget[o])?[4,this.localStore.releaseQuery(s.query,!0)]:[3,5]):[3,11];case 2:return t.sent(),[4,this.localStore.allocateQuery(s.query)];case 3:return a=t.sent(),[4,this.synchronizeViewAndComputeSnapshot(s)];case 4:return(u=t.sent()).snapshot&&n.push(u.snapshot),[3,9];case 5:return Vr(!0===this.isPrimary,"A secondary tab should never have an active query without an active view."),[4,this.localStore.getQueryForTarget(o)];case 6:return Vr(!!(c=t.sent()),"Query data for target "+o+" not found"),[4,this.localStore.allocateQuery(c)];case 7:return a=t.sent(),[4,this.initializeViewAndComputeSnapshot(a,!1)];case 8:t.sent(),t.label=9;case 9:e.push(a),t.label=10;case 10:return r++,[3,1];case 11:return this.syncEngineListener.onWatchChange(n),[2,e]}})})},mf.prototype.getActiveClients=function(){return this.localStore.getActiveClients()},mf.prototype.applyTargetState=function(i,o,a){return d(this,void 0,void 0,function(){var e,n,r;return p(this,function(t){switch(t.label){case 0:if(this.isPrimary)return Pr(lf,"Ignoring unexpected query state notification."),[2];if(!this.queryViewsByTarget[i])return[3,7];switch(o){case"current":case"not-current":return[3,1];case"rejected":return[3,4]}return[3,6];case 1:return[4,this.localStore.getNewDocumentChanges()];case 2:return e=t.sent(),n=Lh.createSynthesizedRemoteEventForCurrentChange(i,"current"===o),[4,this.emitNewSnapsAndNotifyLocalStore(e,n)];case 3:return t.sent(),[3,7];case 4:return r=this.queryViewsByTarget[i],this.removeAndCleanupQuery(r),[4,this.localStore.releaseQuery(r.query,!0)];case 5:return t.sent(),this.syncEngineListener.onWatchError(r.query,a),[3,7];case 6:Fr("Unexpected target state: "+o),t.label=7;case 7:return[2]}})})},mf.prototype.applyActiveTargetsChange=function(l,f){return d(this,void 0,void 0,function(){var e,n,r,i,o,a,s,u,c,h=this;return p(this,function(t){switch(t.label){case 0:if(!this.isPrimary)return[2];e=0,n=l,t.label=1;case 1:return e<n.length?(c=n[e],Vr(!this.queryViewsByTarget[c],"Trying to add an already active target"),[4,this.localStore.getQueryForTarget(c)]):[3,6];case 2:return Vr(!!(r=t.sent()),"Query data for active target "+c+" not found"),[4,this.localStore.allocateQuery(r)];case 3:return i=t.sent(),[4,this.initializeViewAndComputeSnapshot(i,!1)];case 4:t.sent(),this.remoteStore.listen(i),t.label=5;case 5:return e++,[3,1];case 6:o=function(e){var n;return p(this,function(t){switch(t.label){case 0:return(n=a.queryViewsByTarget[e])?[4,a.localStore.releaseQuery(n.query,!1).then(function(){h.remoteStore.unlisten(e),h.removeAndCleanupQuery(n)}).catch(lc)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})},a=this,s=0,u=f,t.label=7;case 7:return s<u.length?(c=u[s],[5,o(c)]):[3,10];case 8:t.sent(),t.label=9;case 9:return s++,[3,7];case 10:return[2]}})})},mf.prototype.enableNetwork=function(){return this.localStore.setNetworkEnabled(!0),this.remoteStore.enableNetwork()},mf.prototype.disableNetwork=function(){return this.localStore.setNetworkEnabled(!1),this.remoteStore.disableNetwork()},mf.prototype.getRemoteKeysForTarget=function(t){var e=this.limboResolutionsByTarget[t];return e&&e.receivedDocument?Mo().add(e.key):this.queryViewsByTarget[t]?this.queryViewsByTarget[t].view.syncedDocuments:Mo()},mf);function mf(t,e,n,r){this.localStore=t,this.remoteStore=e,this.sharedClientState=n,this.currentUser=r,this.syncEngineListener=null,this.queryViewsByQuery=new js(function(t){return t.canonicalId()}),this.queryViewsByTarget={},this.limboTargetsByKey=new ho(Ki.comparator),this.limboResolutionsByTarget={},this.limboDocumentRefs=new bc,this.mutationUserCallbacks={},this.pendingWritesCallbacks=new Map,this.limboTargetIdGenerator=Xo.forSyncEngine(),this.isPrimary=void 0,this.onlineState=fh.Unknown}var yf=(gf.prototype.isAuthenticated=function(){return null!=this.uid},gf.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},gf.prototype.isEqual=function(t){return t.uid===this.uid},gf.UNAUTHENTICATED=new gf(null),gf.GOOGLE_CREDENTIALS=new gf("google-credentials-uid"),gf.FIRST_PARTY=new gf("first-party-uid"),gf);function gf(t){this.uid=t}var vf="SharedClientState",bf="firestore_clients",wf="firestore_mutations",Sf="firestore_targets",Tf=(Ef.fromWebStorageEntry=function(t,e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new Wr(r.error.code,r.error.message)),i?new Ef(t,e,r.state,o):(xr(vf,"Failed to parse mutation state for ID '"+e+"': "+n),null)},Ef.prototype.toWebStorageJSON=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},Ef);function Ef(t,e,n,r){this.user=t,this.batchId=e,this.state=n,Vr(void 0!==(this.error=r)==("rejected"===n),"MutationMetadata must contain an error iff state is 'rejected'")}var If=(Cf.fromWebStorageEntry=function(t,e){var n=JSON.parse(e),r="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error),i=void 0;return r&&n.error&&(r="string"==typeof n.error.message&&"string"==typeof n.error.code)&&(i=new Wr(n.error.code,n.error.message)),r?new Cf(t,n.state,i):(xr(vf,"Failed to parse target state for ID '"+t+"': "+e),null)},Cf.prototype.toWebStorageJSON=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},Cf);function Cf(t,e,n){this.targetId=t,this.state=e,Vr(void 0!==(this.error=n)==("rejected"===e),"QueryTargetMetadata must contain an error iff state is 'rejected'")}var Df=(Nf.fromWebStorageEntry=function(t,e){for(var n=JSON.parse(e),r="object"==typeof n&&n.activeTargetIds instanceof Array,i=_o(),o=0;r&&o<n.activeTargetIds.length;++o)r=Xc(n.activeTargetIds[o]),i=i.add(n.activeTargetIds[o]);return r?new Nf(t,i):(xr(vf,"Failed to parse client data for instance '"+t+"': "+e),null)},Nf);function Nf(t,e){this.clientId=t,this.activeTargetIds=e}var Af=(kf.fromWebStorageEntry=function(t){var e=JSON.parse(t);return"object"==typeof e&&e.onlineState in fh&&"string"==typeof e.clientId?new kf(e.clientId,fh[e.onlineState]):(xr(vf,"Failed to parse online state: "+t),null)},kf);function kf(t,e){this.clientId=t,this.onlineState=e}var Rf=(Mf.prototype.addQueryTarget=function(t){Vr(!this.activeTargetIds.has(t),"Target with ID '"+t+"' already active."),this.activeTargetIds=this.activeTargetIds.add(t)},Mf.prototype.removeQueryTarget=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},Mf.prototype.toWebStorageJSON=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},Mf);function Mf(){this.activeTargetIds=_o()}var Of=(_f.isAvailable=function(t){return!(!t.window||null==t.window.localStorage)},_f.prototype.start=function(){return d(this,void 0,void 0,function(){var e,n,r,i,o,a,s,u,c,h,l,f=this;return p(this,function(t){switch(t.label){case 0:return Vr(!this.started,"WebStorageSharedClientState already started"),Vr(null!==this.syncEngine,"syncEngine property must be set before calling start()"),Vr(null!==this.onlineStateHandler,"onlineStateHandler property must be set before calling start()"),[4,this.syncEngine.getActiveClients()];case 1:for(e=t.sent(),n=0,r=e;n<r.length;n++)(i=r[n])!==this.localClientId&&(o=this.getItem(this.toWebStorageClientStateKey(i)))&&(a=Df.fromWebStorageEntry(i,o))&&(this.activeClients[a.clientId]=a);for(this.persistClientState(),(s=this.storage.getItem(this.onlineStateKey))&&(u=this.fromWebStorageOnlineState(s))&&this.handleOnlineStateEvent(u),c=0,h=this.earlyEvents;c<h.length;c++)l=h[c],this.handleWebStorageEvent(l);return this.earlyEvents=[],this.platform.window.addEventListener("unload",function(){return f.shutdown()}),this.started=!0,[2]}})})},_f.prototype.writeSequenceNumber=function(t){this.setItem(this.sequenceNumberKey,JSON.stringify(t))},_f.prototype.getAllActiveQueryTargets=function(){var n=_o();return Jr(this.activeClients,function(t,e){n=n.unionWith(e.activeTargetIds)}),n},_f.prototype.isActiveQueryTarget=function(t){for(var e in this.activeClients)if(this.activeClients.hasOwnProperty(e)&&this.activeClients[e].activeTargetIds.has(t))return!0;return!1},_f.prototype.addPendingMutation=function(t){this.persistMutationState(t,"pending")},_f.prototype.updateMutationState=function(t,e,n){this.persistMutationState(t,e,n),this.removeMutationState(t)},_f.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(this.toWebStorageQueryTargetMetadataKey(t));if(n){var r=If.fromWebStorageEntry(t,n);r&&(e=r.state)}}return this.localClientState.addQueryTarget(t),this.persistClientState(),e},_f.prototype.removeLocalQueryTarget=function(t){this.localClientState.removeQueryTarget(t),this.persistClientState()},_f.prototype.isLocalQueryTarget=function(t){return this.localClientState.activeTargetIds.has(t)},_f.prototype.clearQueryState=function(t){this.removeItem(this.toWebStorageQueryTargetMetadataKey(t))},_f.prototype.updateQueryState=function(t,e,n){this.persistQueryTargetState(t,e,n)},_f.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach(function(t){r.removeMutationState(t)}),this.currentUser=t,n.forEach(function(t){r.addPendingMutation(t)})},_f.prototype.setOnlineState=function(t){this.persistOnlineState(t)},_f.prototype.shutdown=function(){this.started&&(this.platform.window.removeEventListener("storage",this.storageListener),this.removeItem(this.localClientStorageKey),this.started=!1)},_f.prototype.getItem=function(t){var e=this.storage.getItem(t);return Pr(vf,"READ",t,e),e},_f.prototype.setItem=function(t,e){Pr(vf,"SET",t,e),this.storage.setItem(t,e)},_f.prototype.removeItem=function(t){Pr(vf,"REMOVE",t),this.storage.removeItem(t)},_f.prototype.handleWebStorageEvent=function(s){var t=this;if(s.storageArea===this.storage){if(Pr(vf,"EVENT",s.key,s.newValue),s.key===this.localClientStorageKey)return void xr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.queue.enqueueAndForget(function(){return d(t,void 0,void 0,function(){var e,n,r,i,o,a;return p(this,function(t){if(!this.started)return this.earlyEvents.push(s),[2];if(null===s.key)return[2];if(this.clientStateKeyRe.test(s.key)){if(null==s.newValue)return n=this.fromWebStorageClientStateKey(s.key),[2,this.handleClientStateEvent(n,null)];if(e=this.fromWebStorageClientState(s.key,s.newValue))return[2,this.handleClientStateEvent(e.clientId,e)]}else if(this.mutationBatchKeyRe.test(s.key)){if(null!==s.newValue&&(r=this.fromWebStorageMutationMetadata(s.key,s.newValue)))return[2,this.handleMutationBatchEvent(r)]}else if(this.queryTargetKeyRe.test(s.key)){if(null!==s.newValue&&(i=this.fromWebStorageQueryTargetMetadata(s.key,s.newValue)))return[2,this.handleQueryTargetEvent(i)]}else if(s.key===this.onlineStateKey){if(null!==s.newValue&&(o=this.fromWebStorageOnlineState(s.newValue)))return[2,this.handleOnlineStateEvent(o)]}else s.key===this.sequenceNumberKey&&(Vr(!!this.sequenceNumberHandler,"Missing sequenceNumberHandler"),(a=function(t){var e=Mi.INVALID;if(null!=t)try{var n=JSON.parse(t);Vr("number"==typeof n,"Found non-numeric sequence number"),e=n}catch(t){xr(vf,"Failed to read sequence number from WebStorage",t)}return e}(s.newValue))!==Mi.INVALID&&this.sequenceNumberHandler(a));return[2]})})})}},Object.defineProperty(_f.prototype,"localClientState",{get:function(){return this.activeClients[this.localClientId]},enumerable:!0,configurable:!0}),_f.prototype.persistClientState=function(){this.setItem(this.localClientStorageKey,this.localClientState.toWebStorageJSON())},_f.prototype.persistMutationState=function(t,e,n){var r=new Tf(this.currentUser,t,e,n),i=this.toWebStorageMutationBatchKey(t);this.setItem(i,r.toWebStorageJSON())},_f.prototype.removeMutationState=function(t){var e=this.toWebStorageMutationBatchKey(t);this.removeItem(e)},_f.prototype.persistOnlineState=function(t){var e={clientId:this.localClientId,onlineState:fh[t]};this.storage.setItem(this.onlineStateKey,JSON.stringify(e))},_f.prototype.persistQueryTargetState=function(t,e,n){var r=this.toWebStorageQueryTargetMetadataKey(t),i=new If(t,e,n);this.setItem(r,i.toWebStorageJSON())},_f.prototype.toWebStorageClientStateKey=function(t){return Vr(-1===t.indexOf("_"),"Client key cannot contain '_', but was '"+t+"'"),bf+"_"+this.persistenceKey+"_"+t},_f.prototype.toWebStorageQueryTargetMetadataKey=function(t){return Sf+"_"+this.persistenceKey+"_"+t},_f.prototype.toWebStorageMutationBatchKey=function(t){var e=wf+"_"+this.persistenceKey+"_"+t;return this.currentUser.isAuthenticated()&&(e+="_"+this.currentUser.uid),e},_f.prototype.fromWebStorageClientStateKey=function(t){var e=this.clientStateKeyRe.exec(t);return e?e[1]:null},_f.prototype.fromWebStorageClientState=function(t,e){var n=this.fromWebStorageClientStateKey(t);return Vr(null!==n,"Cannot parse client state key '"+t+"'"),Df.fromWebStorageEntry(n,e)},_f.prototype.fromWebStorageMutationMetadata=function(t,e){var n=this.mutationBatchKeyRe.exec(t);Vr(null!==n,"Cannot parse mutation batch key '"+t+"'");var r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Tf.fromWebStorageEntry(new yf(i),r,e)},_f.prototype.fromWebStorageQueryTargetMetadata=function(t,e){var n=this.queryTargetKeyRe.exec(t);Vr(null!==n,"Cannot parse query target key '"+t+"'");var r=Number(n[1]);return If.fromWebStorageEntry(r,e)},_f.prototype.fromWebStorageOnlineState=function(t){return Af.fromWebStorageEntry(t)},_f.prototype.handleMutationBatchEvent=function(e){return d(this,void 0,void 0,function(){return p(this,function(t){return e.user.uid!==this.currentUser.uid?(Pr(vf,"Ignoring mutation for non-active user "+e.user.uid),[2]):[2,this.syncEngine.applyBatchState(e.batchId,e.state,e.error)]})})},_f.prototype.handleQueryTargetEvent=function(t){return this.syncEngine.applyTargetState(t.targetId,t.state,t.error)},_f.prototype.handleClientStateEvent=function(t,e){var n=this,r=this.getAllActiveQueryTargets();e?this.activeClients[t]=e:delete this.activeClients[t];var i=this.getAllActiveQueryTargets(),o=[],a=[];return i.forEach(function(e){return d(n,void 0,void 0,function(){return p(this,function(t){return r.has(e)||o.push(e),[2]})})}),r.forEach(function(e){return d(n,void 0,void 0,function(){return p(this,function(t){return i.has(e)||a.push(e),[2]})})}),this.syncEngine.applyActiveTargetsChange(o,a)},_f.prototype.handleOnlineStateEvent=function(t){this.activeClients[t.clientId]&&this.onlineStateHandler(t.onlineState)},_f);function _f(t,e,n,r,i){if(this.queue=t,this.platform=e,this.persistenceKey=n,this.localClientId=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.activeClients={},this.storageListener=this.handleWebStorageEvent.bind(this),this.started=!1,this.earlyEvents=[],!_f.isAvailable(this.platform))throw new Wr(jr.UNIMPLEMENTED,"LocalStorage is not available on this platform.");var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.platform.window.localStorage,this.currentUser=i,this.localClientStorageKey=this.toWebStorageClientStateKey(this.localClientId),this.sequenceNumberKey="firestore_sequence_number_"+n,this.activeClients[this.localClientId]=new Rf,this.clientStateKeyRe=new RegExp("^"+bf+"_"+o+"_([^_]*)$"),this.mutationBatchKeyRe=new RegExp("^"+wf+"_"+o+"_(\\d+)(?:_(.*))?$"),this.queryTargetKeyRe=new RegExp("^"+Sf+"_"+o+"_(\\d+)$"),this.onlineStateKey="firestore_online_state_"+n,this.platform.window.addEventListener("storage",this.storageListener)}var Lf=(Pf.prototype.addPendingMutation=function(t){},Pf.prototype.updateMutationState=function(t,e,n){},Pf.prototype.addLocalQueryTarget=function(t){return this.localState.addQueryTarget(t),this.queryState[t]||"not-current"},Pf.prototype.updateQueryState=function(t,e,n){this.queryState[t]=e},Pf.prototype.removeLocalQueryTarget=function(t){this.localState.removeQueryTarget(t)},Pf.prototype.isLocalQueryTarget=function(t){return this.localState.activeTargetIds.has(t)},Pf.prototype.clearQueryState=function(t){delete this.queryState[t]},Pf.prototype.getAllActiveQueryTargets=function(){return this.localState.activeTargetIds},Pf.prototype.isActiveQueryTarget=function(t){return this.localState.activeTargetIds.has(t)},Pf.prototype.start=function(){return this.localState=new Rf,Promise.resolve()},Pf.prototype.handleUserChange=function(t,e,n){},Pf.prototype.setOnlineState=function(t){},Pf.prototype.shutdown=function(){},Pf.prototype.writeSequenceNumber=function(t){},Pf);function Pf(){this.localState=new Rf,this.queryState={},this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null}var xf="FirestoreClient",qf=(Ff.prototype.lruParams=function(){return Yu.withCacheSize(this.cacheSizeBytes)},Ff);function Ff(t,e){this.cacheSizeBytes=t,this.synchronizeTabs=e}var Vf=function(){},Bf=(Uf.prototype.start=function(t){var n=this;this.verifyNotTerminated();var r=new zi,i=new zi,o=!1;return this.credentials.setChangeListener(function(e){o?n.asyncQueue.enqueueAndForget(function(){return n.handleCredentialChange(e)}):(o=!0,n.initializePersistence(t,i,e).then(function(t){return n.initializeRest(e,t)}).then(r.resolve,r.reject))}),this.asyncQueue.enqueueAndForget(function(){return r.promise}),i.promise},Uf.prototype.enableNetwork=function(){var t=this;return this.verifyNotTerminated(),this.asyncQueue.enqueue(function(){return t.syncEngine.enableNetwork()})},Uf.prototype.initializePersistence=function(t,e,n){var r=this;return t instanceof qf?this.startIndexedDbPersistence(n,t).then(function(t){return e.resolve(),t}).catch(function(t){if(e.reject(t),!r.canFallback(t))throw t;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+t),r.startMemoryPersistence()}):(e.resolve(),this.startMemoryPersistence())},Uf.prototype.canFallback=function(t){return t instanceof Wr?t.code===jr.FAILED_PRECONDITION||t.code===jr.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code},Uf.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Wr(jr.FAILED_PRECONDITION,"The client has already been terminated.")},Uf.prototype.startIndexedDbPersistence=function(r,i){var t=this,o=cc.buildStoragePrefix(this.databaseInfo),a=new Yl(this.databaseInfo.databaseId,{useProto3Json:!0});return Promise.resolve().then(function(){return d(t,void 0,void 0,function(){var e,n;return p(this,function(t){switch(t.label){case 0:if(i.synchronizeTabs&&!Of.isAvailable(this.platform))throw new Wr(jr.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");return e=i.lruParams(),this.sharedClientState=i.synchronizeTabs?new Of(this.asyncQueue,this.platform,o,this.clientId,r):new Lf,[4,cc.createIndexedDbPersistence({allowTabSynchronization:i.synchronizeTabs,persistenceKey:o,clientId:this.clientId,platform:this.platform,queue:this.asyncQueue,serializer:a,lruParams:e,sequenceNumberSyncer:this.sharedClientState})];case 1:return n=t.sent(),[2,(this.persistence=n).referenceDelegate.garbageCollector]}})})})},Uf.prototype.startMemoryPersistence=function(){return this.persistence=Lc.createEagerPersistence(this.clientId),this.sharedClientState=new Lf,Promise.resolve(null)},Uf.prototype.initializeRest=function(c,h){var t=this;return Pr(xf,"Initializing. user=",c.uid),this.platform.loadConnection(this.databaseInfo).then(function(u){return d(t,void 0,void 0,function(){var e,n,r,i,o,a,s=this;return p(this,function(t){switch(t.label){case 0:return e=new Kc,this.localStore=new Ic(this.persistence,e,c),[4,this.localStore.start()];case 1:return t.sent(),h&&(this.lruScheduler=new Ju(h,this.asyncQueue,this.localStore)),n=this.platform.newConnectivityMonitor(),r=this.platform.newSerializer(this.databaseInfo.databaseId),i=new hh(this.asyncQueue,u,this.credentials,r),o=function(t){return s.syncEngine.applyOnlineStateChange(t,ph.RemoteStore)},a=function(t){return s.syncEngine.applyOnlineStateChange(t,ph.SharedClientState)},this.remoteStore=new Xh(this.localStore,i,this.asyncQueue,o,n),this.syncEngine=new pf(this.localStore,this.remoteStore,this.sharedClientState,c),this.sharedClientState.onlineStateHandler=a,this.remoteStore.syncEngine=this.syncEngine,this.sharedClientState.syncEngine=this.syncEngine,this.eventMgr=new Zl(this.syncEngine),[4,this.sharedClientState.start()];case 2:return t.sent(),[4,this.remoteStore.start()];case 3:return t.sent(),[4,this.persistence.setPrimaryStateListener(function(e){return d(s,void 0,void 0,function(){return p(this,function(t){switch(t.label){case 0:return[4,this.syncEngine.applyPrimaryState(e)];case 1:return t.sent(),this.lruScheduler&&(e&&!this.lruScheduler.started?this.lruScheduler.start():e||this.lruScheduler.stop()),[2]}})})})];case 4:return t.sent(),[4,this.persistence.setDatabaseDeletedListener(function(){return d(s,void 0,void 0,function(){return p(this,function(t){switch(t.label){case 0:return[4,this.terminate()];case 1:return t.sent(),[2]}})})})];case 5:return t.sent(),[2]}})})})},Uf.prototype.handleCredentialChange=function(t){return this.asyncQueue.verifyOperationInProgress(),Pr(xf,"Credential Changed. Current user: "+t.uid),this.syncEngine.handleCredentialChange(t)},Uf.prototype.disableNetwork=function(){var t=this;return this.verifyNotTerminated(),this.asyncQueue.enqueue(function(){return t.syncEngine.disableNetwork()})},Uf.prototype.terminate=function(){var t=this;return this.asyncQueue.enqueueAndInitiateShutdown(function(){return d(t,void 0,void 0,function(){return p(this,function(t){switch(t.label){case 0:return this.lruScheduler&&this.lruScheduler.stop(),[4,this.remoteStore.shutdown()];case 1:return t.sent(),[4,this.sharedClientState.shutdown()];case 2:return t.sent(),[4,this.persistence.shutdown()];case 3:return t.sent(),this.credentials.removeChangeListener(),[2]}})})})},Uf.prototype.waitForPendingWrites=function(){var t=this;this.verifyNotTerminated();var e=new zi;return this.asyncQueue.enqueueAndForget(function(){return t.syncEngine.registerPendingWritesCallback(e)}),e.promise},Uf.prototype.listen=function(t,e,n){var r=this;this.verifyNotTerminated();var i=new tf(t,e,n);return this.asyncQueue.enqueueAndForget(function(){return r.eventMgr.listen(i)}),i},Uf.prototype.unlisten=function(t){var e=this;this.clientTerminated||this.asyncQueue.enqueueAndForget(function(){return e.eventMgr.unlisten(t)})},Uf.prototype.getDocumentFromLocalCache=function(t){var e=this;return this.verifyNotTerminated(),this.asyncQueue.enqueue(function(){return e.localStore.readDocument(t)}).then(function(t){if(t instanceof xs)return t;if(t instanceof Vs)return null;throw new Wr(jr.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")})},Uf.prototype.getDocumentsFromLocalCache=function(i){var t=this;return this.verifyNotTerminated(),this.asyncQueue.enqueue(function(){return d(t,void 0,void 0,function(){var e,n,r;return p(this,function(t){switch(t.label){case 0:return[4,this.localStore.executeQuery(i,!0)];case 1:return e=t.sent(),n=new sf(i,e.remoteKeys),r=n.computeDocChanges(e.documents),[2,n.applyChanges(r,!1).snapshot]}})})})},Uf.prototype.write=function(t){var e=this;this.verifyNotTerminated();var n=new zi;return this.asyncQueue.enqueueAndForget(function(){return e.syncEngine.write(t,n)}),n.promise},Uf.prototype.databaseId=function(){return this.databaseInfo.databaseId},Uf.prototype.addSnapshotsInSyncListener=function(t){var e=this;this.verifyNotTerminated(),this.asyncQueue.enqueueAndForget(function(){return e.eventMgr.addSnapshotsInSyncListener(t),Promise.resolve()})},Uf.prototype.removeSnapshotsInSyncListener=function(t){this.clientTerminated||this.eventMgr.removeSnapshotsInSyncListener(t)},Object.defineProperty(Uf.prototype,"clientTerminated",{get:function(){return this.asyncQueue.isShuttingDown},enumerable:!0,configurable:!0}),Uf.prototype.transaction=function(t){var e=this;this.verifyNotTerminated();var n=new zi;return this.asyncQueue.enqueueAndForget(function(){return e.syncEngine.runTransaction(e.asyncQueue,t,n),Promise.resolve()}),n.promise},Uf);function Uf(t,e,n,r){this.platform=t,this.databaseInfo=e,this.credentials=n,this.asyncQueue=r,this.clientId=gi.newId()}var Qf=(Kf.prototype.next=function(t){this.scheduleEvent(this.observer.next,t)},Kf.prototype.error=function(t){this.scheduleEvent(this.observer.error,t)},Kf.prototype.mute=function(){this.muted=!0},Kf.prototype.scheduleEvent=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},Kf);function Kf(t){this.observer=t,this.muted=!1}var jf=(Wf.documentId=function(){return Wf._DOCUMENT_ID},Wf.prototype.isEqual=function(t){if(!(t instanceof Wf))throw pi("isEqual","FieldPath",1,t);return this._internalPath.isEqual(t._internalPath)},Wf._DOCUMENT_ID=new Wf(Ui.keyField().canonicalString()),Wf);function Wf(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];!function(t,e,n,r){if(!(e instanceof Array)||e.length<r)throw new Wr(jr.INVALID_ARGUMENT,"Function "+t+"() requires its "+n+" argument to be an array with at least "+yi(r,"element")+".")}("FieldPath",t,"fieldNames",1);for(var n=0;n<t.length;++n)if(ri("FieldPath","string",n,t[n]),0===t[n].length)throw new Wr(jr.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ui(t)}var Gf=new RegExp("[~\\*/\\[\\]]");var zf=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={Authorization:"Bearer "+t}},Hf=(Yf.prototype.getToken=function(){return Promise.resolve(null)},Yf.prototype.invalidateToken=function(){},Yf.prototype.setChangeListener=function(t){Vr(!this.changeListener,"Can only call setChangeListener() once."),(this.changeListener=t)(yf.UNAUTHENTICATED)},Yf.prototype.removeChangeListener=function(){Vr(null!==this.changeListener,"removeChangeListener() when no listener registered"),this.changeListener=null},Yf);function Yf(){this.changeListener=null}var Xf=(Jf.prototype.getToken=function(){var e=this;Vr(null!=this.tokenListener,"getToken cannot be called after listener removed.");var n=this.tokenCounter,t=this.forceRefresh;return this.forceRefresh=!1,this.app.INTERNAL.getToken(t).then(function(t){if(e.tokenCounter!==n)throw new Wr(jr.ABORTED,"getToken aborted due to token change.");return t?(Vr("string"==typeof t.accessToken,"Invalid tokenData returned from getToken():"+t),new zf(t.accessToken,e.currentUser)):null})},Jf.prototype.invalidateToken=function(){this.forceRefresh=!0},Jf.prototype.setChangeListener=function(t){Vr(!this.changeListener,"Can only call setChangeListener() once."),(this.changeListener=t)(this.currentUser)},Jf.prototype.removeChangeListener=function(){Vr(null!=this.tokenListener,"removeChangeListener() called twice"),Vr(null!==this.changeListener,"removeChangeListener() called when no listener registered"),this.app.INTERNAL.removeAuthTokenListener(this.tokenListener),this.tokenListener=null,this.changeListener=null},Jf.prototype.getUser=function(){var t=this.app.INTERNAL.getUid();return Vr(null===t||"string"==typeof t,"Received invalid UID: "+t),new yf(t)},Jf);function Jf(t){var e=this;this.app=t,this.tokenListener=null,this.currentUser=yf.UNAUTHENTICATED,this.tokenCounter=0,this.changeListener=null,this.forceRefresh=!1,this.tokenListener=function(){e.tokenCounter++,e.currentUser=e.getUser(),e.changeListener&&e.changeListener(e.currentUser)},this.currentUser=this.getUser(),this.tokenCounter=0,this.app.INTERNAL.addAuthTokenListener(this.tokenListener)}var Zf=(Object.defineProperty($f.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.sessionIndex},e=this.gapi.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!0,configurable:!0}),$f);function $f(t,e){this.gapi=t,this.sessionIndex=e,this.type="FirstParty",this.user=yf.FIRST_PARTY}var td=(ed.prototype.getToken=function(){return Promise.resolve(new Zf(this.gapi,this.sessionIndex))},ed.prototype.setChangeListener=function(t){t(yf.FIRST_PARTY)},ed.prototype.removeChangeListener=function(){},ed.prototype.invalidateToken=function(){},ed);function ed(t,e){this.gapi=t,this.sessionIndex=e}function nd(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=e;r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t,["next","error","complete"])}var rd=(id.delete=function(){return $r("FieldValue.delete",arguments),ad.instance},id.serverTimestamp=function(){return $r("FieldValue.serverTimestamp",arguments),cd.instance},id.arrayUnion=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return ei("FieldValue.arrayUnion",arguments,1),new fd(t)},id.arrayRemove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return ei("FieldValue.arrayRemove",arguments,1),new md(t)},id.increment=function(t){return ri("FieldValue.increment","number",1,t),ti("FieldValue.increment",arguments,1),new vd(t)},id.prototype.isEqual=function(t){return this===t},id);function id(t){this._methodName=t}var od,ad=(t(sd,od=rd),sd.instance=new sd,sd);function sd(){return od.call(this,"FieldValue.delete")||this}var ud,cd=(t(hd,ud=rd),hd.instance=new hd,hd);function hd(){return ud.call(this,"FieldValue.serverTimestamp")||this}var ld,fd=(t(dd,ld=rd),dd);function dd(t){var e=ld.call(this,"FieldValue.arrayUnion")||this;return e._elements=t,e}var pd,md=(t(yd,pd=rd),yd);function yd(t){var e=pd.call(this,"FieldValue.arrayRemove")||this;return e._elements=t,e}var gd,vd=(t(bd,gd=rd),bd);function bd(t){var e=gd.call(this,"FieldValue.increment")||this;return e._operand=t,e}var wd=zr(rd,"Use FieldValue.<field>() instead."),Sd=/^__.*__$/,Td=(Ed.prototype.toMutations=function(t,e){var n=[];return null!==this.fieldMask?n.push(new Ma(t,this.data,this.fieldMask,e)):n.push(new Aa(t,this.data,e)),0<this.fieldTransforms.length&&n.push(new La(t,this.fieldTransforms)),n},Ed);function Ed(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}var Id,Cd,Dd=(Nd.prototype.toMutations=function(t,e){var n=[new Ma(t,this.data,this.fieldMask,e)];return 0<this.fieldTransforms.length&&n.push(new La(t,this.fieldTransforms)),n},Nd);function Nd(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}function Ad(t){switch(t){case Id.Set:case Id.MergeSet:case Id.Update:return!0;case Id.Argument:return!1;default:throw Fr("Unexpected case for UserDataSource: "+t)}}(Cd=Id=Id||{})[Cd.Set=0]="Set",Cd[Cd.Update=1]="Update",Cd[Cd.MergeSet=2]="MergeSet",Cd[Cd.Argument=3]="Argument";var kd=(Rd.prototype.childContextForField=function(t){var e=null==this.path?null:this.path.child(t),n=new Rd(this.dataSource,this.methodName,e,!1,this.fieldTransforms,this.fieldMask);return n.validatePathSegment(t),n},Rd.prototype.childContextForFieldPath=function(t){var e=null==this.path?null:this.path.child(t),n=new Rd(this.dataSource,this.methodName,e,!1,this.fieldTransforms,this.fieldMask);return n.validatePath(),n},Rd.prototype.childContextForArray=function(t){return new Rd(this.dataSource,this.methodName,null,!0,this.fieldTransforms,this.fieldMask)},Rd.prototype.createError=function(t){var e=null===this.path||this.path.isEmpty()?"":" (found in field "+this.path.toString()+")";return new Wr(jr.INVALID_ARGUMENT,"Function "+this.methodName+"() called with invalid data. "+t+e)},Rd.prototype.contains=function(e){return void 0!==this.fieldMask.find(function(t){return e.isPrefixOf(t)})||void 0!==this.fieldTransforms.find(function(t){return e.isPrefixOf(t.field)})},Rd.prototype.validatePath=function(){if(null!==this.path)for(var t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))},Rd.prototype.validatePathSegment=function(t){if(Ad(this.dataSource)&&Sd.test(t))throw this.createError("Document fields cannot begin and end with __")},Rd);function Rd(t,e,n,r,i,o){this.dataSource=t,this.methodName=e,this.path=n,this.arrayElement=r,void 0===i&&this.validatePath(),this.arrayElement=void 0!==r&&r,this.fieldTransforms=i||[],this.fieldMask=o||[]}var Md=function(t,e){this.databaseId=t,this.key=e},Od=(_d.prototype.parseSetData=function(t,e){var n=new kd(Id.Set,t,Ui.EMPTY_PATH);Pd("Data must be an object, but it was:",n,e);var r=this.parseData(e,n);return new Td(r,null,n.fieldTransforms)},_d.prototype.parseMergeData=function(t,e,n){var r=new kd(Id.MergeSet,t,Ui.EMPTY_PATH);Pd("Data must be an object, but it was:",r,e);var i,o,a=this.parseData(e,r);if(n){for(var s=new bo(Ui.comparator),u=0,c=n;u<c.length;u++){var h=c[u],l=void 0;if(h instanceof jf)l=h._internalPath;else{if("string"!=typeof h)throw Fr("Expected stringOrFieldPath to be a string or a FieldPath");l=qd(t,h)}if(!r.contains(l))throw new Wr(jr.INVALID_ARGUMENT,"Field '"+l+"' is specified in your field mask but missing from your input data.");s=s.add(l)}i=ya.fromSet(s),o=r.fieldTransforms.filter(function(t){return i.covers(t.field)})}else i=ya.fromArray(r.fieldMask),o=r.fieldTransforms;return new Td(a,i,o)},_d.prototype.parseUpdateData=function(o,t){var a=this,s=new kd(Id.Update,o,Ui.EMPTY_PATH);Pd("Data must be an object, but it was:",s,t);var u=new bo(Ui.comparator),c=As.EMPTY;Jr(t,function(t,e){var n=qd(o,t),r=s.childContextForFieldPath(n);if((e=a.runPreConverter(e,r))instanceof ad)u=u.add(n);else{var i=a.parseData(e,r);null!=i&&(u=u.add(n),c=c.set(n,i))}});var e=ya.fromSet(u);return new Dd(c,e,s.fieldTransforms)},_d.prototype.parseUpdateVarargs=function(t,e,n,r){var i=new kd(Id.Update,t,Ui.EMPTY_PATH),o=[xd(t,e)],a=[n];if(r.length%2!=0)throw new Wr(jr.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var s=0;s<r.length;s+=2)o.push(xd(t,r[s])),a.push(r[s+1]);var u=new bo(Ui.comparator),c=As.EMPTY;for(s=0;s<o.length;++s){var h=o[s],l=i.childContextForFieldPath(h),f=this.runPreConverter(a[s],l);if(f instanceof ad)u=u.add(h);else{var d=this.parseData(f,l);null!=d&&(u=u.add(h),c=c.set(h,d))}}var p=ya.fromSet(u);return new Dd(c,p,i.fieldTransforms)},_d.prototype.parseQueryValue=function(t,e){var n=new kd(Id.Argument,t,Ui.EMPTY_PATH),r=this.parseData(e,n);return Vr(null!=r,"Parsed data should not be null."),Vr(0===n.fieldTransforms.length,"Field transforms should have been disallowed."),r},_d.prototype.runPreConverter=function(t,e){try{return this.preConverter(t)}catch(t){var n=Fd(t);throw e.createError(n)}},_d.prototype.parseData=function(t,e){if(Ld(t=this.runPreConverter(t,e)))return Pd("Unsupported field value:",e,t),this.parseObject(t,e);if(t instanceof rd)return this.parseSentinelFieldValue(t,e),null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.arrayElement)throw e.createError("Nested arrays are not supported");return this.parseArray(t,e)}return this.parseScalarValue(t,e)},_d.prototype.parseObject=function(t,r){var i=this,o=new ho(bi);return Zr(t)?r.path&&0<r.path.length&&r.fieldMask.push(r.path):Jr(t,function(t,e){var n=i.parseData(e,r.childContextForField(t));null!=n&&(o=o.insert(t,n))}),new As(o)},_d.prototype.parseArray=function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var a=o[i],s=this.parseData(a,e.childContextForArray(r));null==s&&(s=Ha.INSTANCE),n.push(s),r++}return new Ms(n)},_d.prototype.parseSentinelFieldValue=function(t,e){if(!Ad(e.dataSource))throw e.createError(t._methodName+"() can only be used with update() and set()");if(null===e.path)throw e.createError(t._methodName+"() is not currently supported inside arrays");if(t instanceof ad){if(e.dataSource!==Id.MergeSet)throw e.dataSource===Id.Update?(Vr(0<e.path.length,"FieldValue.delete() at the top level should have already been handled."),e.createError("FieldValue.delete() can only appear at the top level of your update data")):e.createError("FieldValue.delete() cannot be used with set() unless you pass {merge:true}");e.fieldMask.push(e.path)}else if(t instanceof cd)e.fieldTransforms.push(new va(e.path,Ml.instance));else if(t instanceof fd){var n=this.parseArrayTransformElements(t._methodName,t._elements),r=new _l(n);e.fieldTransforms.push(new va(e.path,r))}else if(t instanceof md){n=this.parseArrayTransformElements(t._methodName,t._elements);var i=new Pl(n);e.fieldTransforms.push(new va(e.path,i))}else if(t instanceof vd){var o=this.parseQueryValue("FieldValue.increment",t._operand),a=new ql(o);e.fieldTransforms.push(new va(e.path,a))}else Fr("Unknown FieldValue type: "+t)},_d.prototype.parseScalarValue=function(t,e){if(null===t)return Ha.INSTANCE;if("number"==typeof t)return Xc(t)?new is(t):new ss(t);if("boolean"==typeof t)return Ja.of(t);if("string"==typeof t)return new hs(t);if(t instanceof Date)return new ds(ao.fromDate(t));if(t instanceof ao)return new ds(new ao(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)));if(t instanceof Zh)return new Cs(t);if(t instanceof Ii)return new bs(t);if(t instanceof Md)return new Ts(t.databaseId,t.key);throw e.createError("Unsupported field value: "+li(t))},_d.prototype.parseArrayTransformElements=function(r,t){var i=this;return t.map(function(t,e){var n=new kd(Id.Argument,r,Ui.EMPTY_PATH);return i.parseData(t,n.childContextForArray(e))})},_d);function _d(t){this.preConverter=t}function Ld(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof ao||t instanceof Zh||t instanceof Ii||t instanceof Md||t instanceof rd)}function Pd(t,e,n){if(!Ld(n)||!hi(n)){var r=li(n);throw"an object"===r?e.createError(t+" a custom object"):e.createError(t+" "+r)}}function xd(t,e){if(e instanceof jf)return e._internalPath;if("string"==typeof e)return qd(t,e);throw new Wr(jr.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. Field path arguments must be of type string or FieldPath.")}function qd(e,t){try{return function(e){if(0<=e.search(Gf))throw new Wr(jr.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(jf.bind.apply(jf,a([void 0],e.split("."))))}catch(t){throw new Wr(jr.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(t)._internalPath}catch(t){var n=Fd(t);throw new Wr(jr.INVALID_ARGUMENT,"Function "+e+"() called with invalid data. "+n)}}function Fd(t){return t instanceof Error?t.message:t.toString()}var Vd=Yu.COLLECTION_DISABLED,Bd=(Ud.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.timestampsInSnapshots===t.timestampsInSnapshots&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.forceLongPolling===t.forceLongPolling},Ud);function Ud(t){if(void 0===t.host){if(void 0!==t.ssl)throw new Wr(jr.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else oi("settings","non-empty string","host",t.host),this.host=t.host,ai("settings","boolean","ssl",t.ssl),this.ssl=Yr(t.ssl,!0);if(di("settings",t,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling"]),ai("settings","object","credentials",t.credentials),this.credentials=t.credentials,ai("settings","boolean","timestampsInSnapshots",t.timestampsInSnapshots),!0===t.timestampsInSnapshots?xr("\n  The timestampsInSnapshots setting now defaults to true and you no\n  longer need to explicitly set it. In a future release, the setting\n  will be removed entirely and so it is recommended that you remove it\n  from your firestore.settings() call now."):!1===t.timestampsInSnapshots&&xr("\n  The timestampsInSnapshots setting will soon be removed. YOU MUST UPDATE\n  YOUR CODE.\n\n  To hide this warning, stop using the timestampsInSnapshots setting in your\n  firestore.settings({ ... }) call.\n\n  Once you remove the setting, Timestamps stored in Cloud Firestore will be\n  read back as Firebase Timestamp objects instead of as system Date objects.\n  So you will also need to update code expecting a Date to instead expect a\n  Timestamp. For example:\n\n  // Old:\n  const date = snapshot.get('created_at');\n  // New:\n  const timestamp = snapshot.get('created_at'); const date =\n  timestamp.toDate();\n\n  Please audit all existing usages of Date when you enable the new\n  behavior."),this.timestampsInSnapshots=Yr(t.timestampsInSnapshots,!0),ai("settings","number","cacheSizeBytes",t.cacheSizeBytes),void 0===t.cacheSizeBytes)this.cacheSizeBytes=Yu.DEFAULT_CACHE_SIZE_BYTES;else{if(t.cacheSizeBytes!==Vd&&t.cacheSizeBytes<Yu.MINIMUM_CACHE_SIZE_BYTES)throw new Wr(jr.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+Yu.MINIMUM_CACHE_SIZE_BYTES);this.cacheSizeBytes=t.cacheSizeBytes}ai("settings","boolean","experimentalForceLongPolling",t.experimentalForceLongPolling),this.forceLongPolling=void 0!==t.experimentalForceLongPolling&&t.experimentalForceLongPolling}var Qd=(Kd.prototype.settings=function(t){if(ti("Firestore.settings",arguments,1),ri("Firestore.settings","object",1,t),Hr(t,"persistence"))throw new Wr(jr.INVALID_ARGUMENT,'"persistence" is now specified with a separate call to firestore.enablePersistence().');var e=new Bd(t);if(this._firestoreClient&&!this._settings.isEqual(e))throw new Wr(jr.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");void 0!==(this._settings=e).credentials&&(this._credentials=function(t){if(!t)return new Hf;switch(t.type){case"gapi":var e=t.client;return Vr(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty),"unexpected gapi interface"),new td(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new Wr(jr.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},Kd.prototype.enableNetwork=function(){return this.ensureClientConfigured(),this._firestoreClient.enableNetwork()},Kd.prototype.disableNetwork=function(){return this.ensureClientConfigured(),this._firestoreClient.disableNetwork()},Kd.prototype.enablePersistence=function(t){if(this._firestoreClient)throw new Wr(jr.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var e=!1;return t&&(void 0!==t.experimentalTabSynchronization&&xr("The 'experimentalTabSynchronization' setting has been renamed to 'synchronizeTabs'. In a future release, the setting will be removed and it is recommended that you update your firestore.enablePersistence() call to use 'synchronizeTabs'."),e=Yr(void 0!==t.synchronizeTabs?t.synchronizeTabs:t.experimentalTabSynchronization,!1)),this.configureClient(new qf(this._settings.cacheSizeBytes,e))},Kd.prototype.clearPersistence=function(){var t=this,n=cc.buildStoragePrefix(this.makeDatabaseInfo()),r=new zi;return this._queue.enqueueAndForgetEvenAfterShutdown(function(){return d(t,void 0,void 0,function(){var e;return p(this,function(t){switch(t.label){case 0:if(t.trys.push([0,2,,3]),void 0!==this._firestoreClient&&!this._firestoreClient.clientTerminated)throw new Wr(jr.FAILED_PRECONDITION,"Persistence cannot be cleared after this Firestore instance is initialized.");return[4,cc.clearPersistence(n)];case 1:return t.sent(),r.resolve(),[3,3];case 2:return e=t.sent(),r.reject(e),[3,3];case 3:return[2]}})})}),r.promise},Kd.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},Object.defineProperty(Kd.prototype,"_isTerminated",{get:function(){return this.ensureClientConfigured(),this._firestoreClient.clientTerminated},enumerable:!0,configurable:!0}),Kd.prototype.waitForPendingWrites=function(){return this.ensureClientConfigured(),this._firestoreClient.waitForPendingWrites()},Kd.prototype.onSnapshotsInSync=function(t){if(this.ensureClientConfigured(),nd(t))return this.onSnapshotsInSyncInternal(t);ri("Firestore.onSnapshotsInSync","function",1,t);var e={next:t};return this.onSnapshotsInSyncInternal(e)},Kd.prototype.onSnapshotsInSyncInternal=function(t){var e=this,n=new Qf({next:function(){t.next&&t.next()},error:function(t){throw Fr("Uncaught Error in onSnapshotsInSync")}});return this._firestoreClient.addSnapshotsInSyncListener(n),function(){n.mute(),e._firestoreClient.removeSnapshotsInSyncListener(n)}},Kd.prototype.ensureClientConfigured=function(){return this._firestoreClient||this.configureClient(new Vf),this._firestoreClient},Kd.prototype.makeDatabaseInfo=function(){return new Ni(this._databaseId,this._persistenceKey,this._settings.host,this._settings.ssl,this._settings.forceLongPolling)},Kd.prototype.configureClient=function(t){Vr(!!this._settings.host,"FirestoreSettings.host is not set"),Vr(!this._firestoreClient,"configureClient() called multiple times");var e=this.makeDatabaseInfo();return this._firestoreClient=new Bf(Br.getPlatform(),e,this._credentials,this._queue),this._firestoreClient.start(t)},Kd.prototype.createDataConverter=function(r){return new Od(function(t){if(t instanceof Hd){var e=r,n=t.firestore._databaseId;if(!n.isEqual(e))throw new Wr(jr.INVALID_ARGUMENT,"Document reference is for database "+n.projectId+"/"+n.database+" but should be for database "+e.projectId+"/"+e.database);return new Md(r,t._key)}return t})},Kd.databaseIdFromApp=function(t){var e=t.options;if(!Hr(e,"projectId"))throw new Wr(jr.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var n=e.projectId;if(!n||"string"!=typeof n)throw new Wr(jr.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new ki(n)},Object.defineProperty(Kd.prototype,"app",{get:function(){if(!this._firebaseApp)throw new Wr(jr.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._firebaseApp},enumerable:!0,configurable:!0}),Kd.prototype.collection=function(t){return ti("Firestore.collection",arguments,1),ri("Firestore.collection","non-empty string",1,t),this.ensureClientConfigured(),new up(qi.fromString(t),this)},Kd.prototype.doc=function(t){return ti("Firestore.doc",arguments,1),ri("Firestore.doc","non-empty string",1,t),this.ensureClientConfigured(),Hd.forPath(qi.fromString(t),this)},Kd.prototype.collectionGroup=function(t){if(ti("Firestore.collectionGroup",arguments,1),ri("Firestore.collectionGroup","non-empty string",1,t),0<=t.indexOf("/"))throw new Wr(jr.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.ensureClientConfigured(),new rp(new tl(qi.EMPTY_PATH,t),this)},Kd.prototype.runTransaction=function(e){var n=this;return ti("Firestore.runTransaction",arguments,1),ri("Firestore.runTransaction","function",1,e),this.ensureClientConfigured().transaction(function(t){return e(new jd(n,t))})},Kd.prototype.batch=function(){return this.ensureClientConfigured(),new Gd(this)},Object.defineProperty(Kd,"logLevel",{get:function(){switch(_r()){case Er.DEBUG:return"debug";case Er.ERROR:return"error";case Er.SILENT:return"silent";default:return Fr("Unknown log level: "+_r())}},enumerable:!0,configurable:!0}),Kd.setLogLevel=function(t){switch(ti("Firestore.setLogLevel",arguments,1),ri("Firestore.setLogLevel","non-empty string",1,t),t){case"debug":Lr(Er.DEBUG);break;case"error":Lr(Er.ERROR);break;case"silent":Lr(Er.SILENT);break;default:throw new Wr(jr.INVALID_ARGUMENT,"Invalid log level: "+t)}},Kd.prototype._areTimestampsInSnapshotsEnabled=function(){return this._settings.timestampsInSnapshots},Kd);function Kd(t){var e=this;if(this._firebaseApp=null,this._queue=new Xi,this.INTERNAL={delete:function(){return d(e,void 0,void 0,function(){return p(this,function(t){switch(t.label){case 0:return this.ensureClientConfigured(),[4,this._firestoreClient.terminate()];case 1:return t.sent(),[2]}})})}},"object"==typeof t.options){var n=t;this._firebaseApp=n,this._databaseId=Kd.databaseIdFromApp(n),this._persistenceKey=n.name,this._credentials=new Xf(n)}else{var r=t;if(!r.projectId)throw new Wr(jr.INVALID_ARGUMENT,"Must provide projectId");this._databaseId=new ki(r.projectId,r.database),this._persistenceKey="[DEFAULT]",this._credentials=new Hf}this._settings=new Bd({}),this._dataConverter=this.createDataConverter(this._databaseId)}var jd=(Wd.prototype.get=function(t){var n=this;ti("Transaction.get",arguments,1);var r=dp("Transaction.get",t,this._firestore);return this._transaction.lookup([r._key]).then(function(t){if(!t||1!==t.length)return Fr("Mismatch in docs returned from document lookup.");var e=t[0];if(e instanceof Vs)return new Zd(n._firestore,r._key,null,!1,!1);if(e instanceof xs)return new Zd(n._firestore,r._key,e,!1,!1);throw Fr("BatchGetDocumentsRequest returned unexpected document type: "+e.constructor.name)})},Wd.prototype.set=function(t,e,n){ni("Transaction.set",arguments,2,3);var r=dp("Transaction.set",t,this._firestore),i=(n=hp("Transaction.set",n)).merge||n.mergeFields?this._firestore._dataConverter.parseMergeData("Transaction.set",e,n.mergeFields):this._firestore._dataConverter.parseSetData("Transaction.set",e);return this._transaction.set(r._key,i),this},Wd.prototype.update=function(t,e,n){for(var r,i,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];return i="string"==typeof e||e instanceof jf?(ei("Transaction.update",arguments,3),r=dp("Transaction.update",t,this._firestore),this._firestore._dataConverter.parseUpdateVarargs("Transaction.update",e,n,o)):(ti("Transaction.update",arguments,2),r=dp("Transaction.update",t,this._firestore),this._firestore._dataConverter.parseUpdateData("Transaction.update",e)),this._transaction.update(r._key,i),this},Wd.prototype.delete=function(t){ti("Transaction.delete",arguments,1);var e=dp("Transaction.delete",t,this._firestore);return this._transaction.delete(e._key),this},Wd);function Wd(t,e){this._firestore=t,this._transaction=e}var Gd=(zd.prototype.set=function(t,e,n){ni("WriteBatch.set",arguments,2,3),this.verifyNotCommitted();var r=dp("WriteBatch.set",t,this._firestore),i=(n=hp("WriteBatch.set",n)).merge||n.mergeFields?this._firestore._dataConverter.parseMergeData("WriteBatch.set",e,n.mergeFields):this._firestore._dataConverter.parseSetData("WriteBatch.set",e);return this._mutations=this._mutations.concat(i.toMutations(r._key,Ea.NONE)),this},zd.prototype.update=function(t,e,n){for(var r,i,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];return this.verifyNotCommitted(),i="string"==typeof e||e instanceof jf?(ei("WriteBatch.update",arguments,3),r=dp("WriteBatch.update",t,this._firestore),this._firestore._dataConverter.parseUpdateVarargs("WriteBatch.update",e,n,o)):(ti("WriteBatch.update",arguments,2),r=dp("WriteBatch.update",t,this._firestore),this._firestore._dataConverter.parseUpdateData("WriteBatch.update",e)),this._mutations=this._mutations.concat(i.toMutations(r._key,Ea.exists(!0))),this},zd.prototype.delete=function(t){ti("WriteBatch.delete",arguments,1),this.verifyNotCommitted();var e=dp("WriteBatch.delete",t,this._firestore);return this._mutations=this._mutations.concat(new Ua(e._key,Ea.NONE)),this},zd.prototype.commit=function(){return d(this,void 0,void 0,function(){return p(this,function(t){return this.verifyNotCommitted(),this._committed=!0,0<this._mutations.length?[2,this._firestore.ensureClientConfigured().write(this._mutations)]:[2]})})},zd.prototype.verifyNotCommitted=function(){if(this._committed)throw new Wr(jr.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},zd);function zd(t){this._firestore=t,this._mutations=[],this._committed=!1}var Hd=(Yd.forPath=function(t,e){if(t.length%2!=0)throw new Wr(jr.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new Yd(new Ki(t),e)},Object.defineProperty(Yd.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(Yd.prototype,"parent",{get:function(){return new up(this._key.path.popLast(),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(Yd.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!0,configurable:!0}),Yd.prototype.collection=function(t){if(ti("DocumentReference.collection",arguments,1),ri("DocumentReference.collection","non-empty string",1,t),!t)throw new Wr(jr.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var e=qi.fromString(t);return new up(this._key.path.child(e),this.firestore)},Yd.prototype.isEqual=function(t){if(!(t instanceof Yd))throw pi("isEqual","DocumentReference",1,t);return this.firestore===t.firestore&&this._key.isEqual(t._key)},Yd.prototype.set=function(t,e){ni("DocumentReference.set",arguments,1,2);var n=(e=hp("DocumentReference.set",e)).merge||e.mergeFields?this.firestore._dataConverter.parseMergeData("DocumentReference.set",t,e.mergeFields):this.firestore._dataConverter.parseSetData("DocumentReference.set",t);return this._firestoreClient.write(n.toMutations(this._key,Ea.NONE))},Yd.prototype.update=function(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return n="string"==typeof t||t instanceof jf?(ei("DocumentReference.update",arguments,2),this.firestore._dataConverter.parseUpdateVarargs("DocumentReference.update",t,e,r)):(ti("DocumentReference.update",arguments,1),this.firestore._dataConverter.parseUpdateData("DocumentReference.update",t)),this._firestoreClient.write(n.toMutations(this._key,Ea.exists(!0)))},Yd.prototype.delete=function(){return ti("DocumentReference.delete",arguments,0),this._firestoreClient.write([new Ua(this._key,Ea.NONE)])},Yd.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];ni("DocumentReference.onSnapshot",arguments,1,4);var n,r={includeMetadataChanges:!1},i=0;"object"!=typeof t[i]||nd(t[i])||(di("DocumentReference.onSnapshot",r=t[i],["includeMetadataChanges"]),ai("DocumentReference.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++);var o={includeMetadataChanges:r.includeMetadataChanges};return n=nd(t[i])?t[i]:(ri("DocumentReference.onSnapshot","function",i,t[i]),ii("DocumentReference.onSnapshot","function",i+1,t[i+1]),ii("DocumentReference.onSnapshot","function",i+2,t[i+2]),{next:t[i],error:t[i+1],complete:t[i+2]}),this.onSnapshotInternal(o,n)},Yd.prototype.onSnapshotInternal=function(t,n){var r=this,e=function(t){console.error("Uncaught Error in onSnapshot:",t)};n.error&&(e=n.error.bind(n));var i=new Qf({next:function(t){if(n.next){Vr(t.docs.size<=1,"Too many documents returned on a document query");var e=t.docs.get(r._key);n.next(new Zd(r.firestore,r._key,e,t.fromCache,t.hasPendingWrites))}},error:e}),o=this._firestoreClient.listen(tl.atPath(this._key.path),i,t);return function(){i.mute(),r._firestoreClient.unlisten(o)}},Yd.prototype.get=function(n){var r=this;return ni("DocumentReference.get",arguments,0,1),fp("DocumentReference.get",n),new Promise(function(e,t){n&&"cache"===n.source?r.firestore.ensureClientConfigured().getDocumentFromLocalCache(r._key).then(function(t){e(new Zd(r.firestore,r._key,t,!0,t instanceof xs&&t.hasLocalMutations))},t):r.getViaSnapshotListener(e,t,n)})},Yd.prototype.getViaSnapshotListener=function(e,n,r){var i=this.onSnapshotInternal({includeMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(t){i(),!t.exists&&t.metadata.fromCache?n(new Wr(jr.UNAVAILABLE,"Failed to get document because the client is offline.")):t.exists&&t.metadata.fromCache&&r&&"server"===r.source?n(new Wr(jr.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):e(t)},error:n})},Yd);function Yd(t,e){this._key=t,this.firestore=e,this._firestoreClient=this.firestore.ensureClientConfigured()}var Xd=(Jd.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},Jd);function Jd(t,e){this.hasPendingWrites=t,this.fromCache=e}var Zd=($d.prototype.data=function(t){return ni("DocumentSnapshot.data",arguments,0,1),t=lp("DocumentSnapshot.data",t),this._document?this.convertObject(this._document.data(),Ka.fromSnapshotOptions(t,this._firestore._areTimestampsInSnapshotsEnabled())):void 0},$d.prototype.get=function(t,e){if(ni("DocumentSnapshot.get",arguments,1,2),e=lp("DocumentSnapshot.get",e),this._document){var n=this._document.data().field(xd("DocumentSnapshot.get",t));if(null!==n)return this.convertValue(n,Ka.fromSnapshotOptions(e,this._firestore._areTimestampsInSnapshotsEnabled()))}},Object.defineProperty($d.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty($d.prototype,"ref",{get:function(){return new Hd(this._key,this._firestore)},enumerable:!0,configurable:!0}),Object.defineProperty($d.prototype,"exists",{get:function(){return null!==this._document},enumerable:!0,configurable:!0}),Object.defineProperty($d.prototype,"metadata",{get:function(){return new Xd(this._hasPendingWrites,this._fromCache)},enumerable:!0,configurable:!0}),$d.prototype.isEqual=function(t){if(!(t instanceof $d))throw pi("isEqual","DocumentSnapshot",1,t);return this._firestore===t._firestore&&this._fromCache===t._fromCache&&this._key.isEqual(t._key)&&(null===this._document?null===t._document:this._document.isEqual(t._document))},$d.prototype.convertObject=function(t,n){var r=this,i={};return t.forEach(function(t,e){i[t]=r.convertValue(e,n)}),i},$d.prototype.convertValue=function(t,e){if(t instanceof As)return this.convertObject(t,e);if(t instanceof Ms)return this.convertArray(t,e);if(t instanceof Ts){var n=t.value(e),r=this._firestore.ensureClientConfigured().databaseId();return t.databaseId.isEqual(r)||xr("Document "+this._key.path+" contains a document reference within a different database ("+t.databaseId.projectId+"/"+t.databaseId.database+") which is not supported. It will be treated as a reference in the current database ("+r.projectId+"/"+r.database+") instead."),new Hd(n,this._firestore)}return t.value(e)},$d.prototype.convertArray=function(t,e){var n=this;return t.internalValue.map(function(t){return n.convertValue(t,e)})},$d);function $d(t,e,n,r,i){this._firestore=t,this._key=e,this._document=n,this._fromCache=r,this._hasPendingWrites=i}var tp,ep=(t(np,tp=Zd),np.prototype.data=function(t){var e=tp.prototype.data.call(this,t);return Vr("object"==typeof e,"Document in a QueryDocumentSnapshot should exist"),e},np);function np(){return null!==tp&&tp.apply(this,arguments)||this}var rp=(ip.prototype.where=function(t,e,n){ti("Query.where",arguments,3),fi("Query.where",3,n),"in"!==e&&"array-contains-any"!==e&&function(t,e,n,r){if(!e.some(function(t){return t===r}))throw new Wr(jr.INVALID_ARGUMENT,"Invalid value "+li(r)+" provided to function "+t+"() for its "+mi(n)+" argument. Acceptable values: "+e.join(", "))}("Query.where",["<","<=","==",">=",">","array-contains"],2,e);var r,i=xd("Query.where",t),o=rl.fromString(e);if(i.isKeyField()){if(o===rl.ARRAY_CONTAINS||o===rl.ARRAY_CONTAINS_ANY)throw new Wr(jr.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o.toString()+"' queries on FieldPath.documentId().");if(o===rl.IN){this.validateDisjunctiveFilterElements(n,o);for(var a=[],s=0,u=n;s<u.length;s++){var c=u[s];a.push(this.parseDocumentIdValue(c))}r=new Ms(a)}else r=this.parseDocumentIdValue(n)}else o!==rl.IN&&o!==rl.ARRAY_CONTAINS_ANY||this.validateDisjunctiveFilterElements(n,o),r=this.firestore._dataConverter.parseQueryValue("Query.where",n);var h=al.create(i,o,r);return this.validateNewFilter(h),new ip(this._query.addFilter(h),this.firestore)},ip.prototype.orderBy=function(t,e){var n;if(ni("Query.orderBy",arguments,1,2),ii("Query.orderBy","non-empty string",2,e),void 0===e||"asc"===e)n=El.ASCENDING;else{if("desc"!==e)throw new Wr(jr.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+e+"', expected 'asc' or 'desc'.");n=El.DESCENDING}if(null!==this._query.startAt)throw new Wr(jr.INVALID_ARGUMENT,"Invalid query. You must not call Query.startAt() or Query.startAfter() before calling Query.orderBy().");if(null!==this._query.endAt)throw new Wr(jr.INVALID_ARGUMENT,"Invalid query. You must not call Query.endAt() or Query.endBefore() before calling Query.orderBy().");var r=xd("Query.orderBy",t),i=new Nl(r,n);return this.validateNewOrderBy(i),new ip(this._query.addOrderBy(i),this.firestore)},ip.prototype.limit=function(t){if(ti("Query.limit",arguments,1),ri("Query.limit","number",1,t),t<=0)throw new Wr(jr.INVALID_ARGUMENT,"Invalid Query. Query limit ("+t+") is invalid. Limit must be positive.");return new ip(this._query.withLimit(t),this.firestore)},ip.prototype.startAt=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];ei("Query.startAt",arguments,1);var r=this.boundFromDocOrFields("Query.startAt",t,e,!0);return new ip(this._query.withStartAt(r),this.firestore)},ip.prototype.startAfter=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];ei("Query.startAfter",arguments,1);var r=this.boundFromDocOrFields("Query.startAfter",t,e,!1);return new ip(this._query.withStartAt(r),this.firestore)},ip.prototype.endBefore=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];ei("Query.endBefore",arguments,1);var r=this.boundFromDocOrFields("Query.endBefore",t,e,!0);return new ip(this._query.withEndAt(r),this.firestore)},ip.prototype.endAt=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];ei("Query.endAt",arguments,1);var r=this.boundFromDocOrFields("Query.endAt",t,e,!1);return new ip(this._query.withEndAt(r),this.firestore)},ip.prototype.isEqual=function(t){if(!(t instanceof ip))throw pi("isEqual","Query",1,t);return this.firestore===t.firestore&&this._query.isEqual(t._query)},ip.prototype.boundFromDocOrFields=function(t,e,n,r){if(fi(t,1,e),e instanceof Zd){if(0<n.length)throw new Wr(jr.INVALID_ARGUMENT,"Too many arguments provided to "+t+"().");var i=e;if(!i.exists)throw new Wr(jr.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+t+"().");return this.boundFromDocument(t,i._document,r)}var o=[e].concat(n);return this.boundFromFields(t,o,r)},ip.prototype.boundFromDocument=function(t,e,n){for(var r=[],i=0,o=this._query.orderBy;i<o.length;i++){var a=o[i];if(a.field.isKeyField())r.push(new Ts(this.firestore._databaseId,e.key));else{var s=e.field(a.field);if(s instanceof ys)throw new Wr(jr.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+a.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===s){var u=a.field.canonicalString();throw new Wr(jr.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+u+"' (used as the orderBy) does not exist.")}r.push(s)}}return new Cl(r,n)},ip.prototype.boundFromFields=function(t,e,n){var r=this._query.explicitOrderBy;if(e.length>r.length)throw new Wr(jr.INVALID_ARGUMENT,"Too many arguments provided to "+t+"(). The number of arguments must be less than or equal to the number of Query.orderBy() clauses");for(var i=[],o=0;o<e.length;o++){var a=e[o];if(r[o].field.isKeyField()){if("string"!=typeof a)throw new Wr(jr.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+t+"(), but got a "+typeof a);if(!this._query.isCollectionGroupQuery()&&-1!==a.indexOf("/"))throw new Wr(jr.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+t+"() must be a plain document ID, but '"+a+"' contains a slash.");var s=this._query.path.child(qi.fromString(a));if(!Ki.isDocumentKey(s))throw new Wr(jr.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+t+"() must result in a valid document path, but '"+s+"' is not because it contains an odd number of segments.");var u=new Ki(s);i.push(new Ts(this.firestore._databaseId,u))}else{var c=this.firestore._dataConverter.parseQueryValue(t,a);i.push(c)}}return new Cl(i,n)},ip.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];ni("Query.onSnapshot",arguments,1,4);var n,r={},i=0;return"object"!=typeof t[i]||nd(t[i])||(di("Query.onSnapshot",r=t[i],["includeMetadataChanges"]),ai("Query.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++),n=nd(t[i])?t[i]:(ri("Query.onSnapshot","function",i,t[i]),ii("Query.onSnapshot","function",i+1,t[i+1]),ii("Query.onSnapshot","function",i+2,t[i+2]),{next:t[i],error:t[i+1],complete:t[i+2]}),this.onSnapshotInternal(r,n)},ip.prototype.onSnapshotInternal=function(t,e){var n=this,r=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(r=e.error.bind(e));var i=new Qf({next:function(t){e.next&&e.next(new op(n.firestore,n._query,t))},error:r}),o=this.firestore.ensureClientConfigured(),a=o.listen(this._query,i,t);return function(){i.mute(),o.unlisten(a)}},ip.prototype.get=function(n){var r=this;return ni("Query.get",arguments,0,1),fp("Query.get",n),new Promise(function(e,t){n&&"cache"===n.source?r.firestore.ensureClientConfigured().getDocumentsFromLocalCache(r._query).then(function(t){e(new op(r.firestore,r._query,t))},t):r.getViaSnapshotListener(e,t,n)})},ip.prototype.getViaSnapshotListener=function(e,n,r){var i=this.onSnapshotInternal({includeMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(t){i(),t.metadata.fromCache&&r&&"server"===r.source?n(new Wr(jr.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):e(t)},error:n})},ip.prototype.parseDocumentIdValue=function(t){if("string"==typeof t){if(""===t)throw new Wr(jr.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!this._query.isCollectionGroupQuery()&&-1!==t.indexOf("/"))throw new Wr(jr.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+t+"' contains a '/' character.");var e=this._query.path.child(qi.fromString(t));if(!Ki.isDocumentKey(e))throw new Wr(jr.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+e+"' is not because it has an odd number of segments ("+e.length+").");return new Ts(this.firestore._databaseId,new Ki(e))}if(t instanceof Hd){var n=t;return new Ts(this.firestore._databaseId,n._key)}throw new Wr(jr.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+li(t)+".")},ip.prototype.validateDisjunctiveFilterElements=function(t,e){if(!Array.isArray(t)||0===t.length)throw new Wr(jr.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(10<t.length)throw new Wr(jr.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.");if(0<=t.indexOf(null))throw new Wr(jr.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'null' in the value array.");if(0<t.filter(function(t){return Number.isNaN(t)}).length)throw new Wr(jr.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'NaN' in the value array.")},ip.prototype.validateNewFilter=function(t){if(t instanceof al){var e=[rl.ARRAY_CONTAINS,rl.ARRAY_CONTAINS_ANY],n=[rl.IN,rl.ARRAY_CONTAINS_ANY],r=0<=e.indexOf(t.op),i=0<=n.indexOf(t.op);if(t.isInequality()){var o=this._query.getInequalityFilterField();if(null!==o&&!o.isEqual(t.field))throw new Wr(jr.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+o.toString()+"' and '"+t.field.toString()+"'");var a=this._query.getFirstOrderByField();null!==a&&this.validateOrderByAndInequalityMatch(t.field,a)}else if(i||r){var s=null;if(i&&(s=this._query.findFilterOperator(n)),null===s&&r&&(s=this._query.findFilterOperator(e)),null!=s)throw s===t.op?new Wr(jr.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+t.op.toString()+"' filter."):new Wr(jr.INVALID_ARGUMENT,"Invalid query. You cannot use '"+t.op.toString()+"' filters with '"+s.toString()+"' filters.")}}},ip.prototype.validateNewOrderBy=function(t){if(null===this._query.getFirstOrderByField()){var e=this._query.getInequalityFilterField();null!==e&&this.validateOrderByAndInequalityMatch(e,t.field)}},ip.prototype.validateOrderByAndInequalityMatch=function(t,e){if(!e.isEqual(t))throw new Wr(jr.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first Query.orderBy(), but your first Query.orderBy() is on field '"+e.toString()+"' instead.")},ip);function ip(t,e){this._query=t,this.firestore=e}var op=(Object.defineProperty(ap.prototype,"docs",{get:function(){var e=[];return this.forEach(function(t){return e.push(t)}),e},enumerable:!0,configurable:!0}),Object.defineProperty(ap.prototype,"empty",{get:function(){return this._snapshot.docs.isEmpty()},enumerable:!0,configurable:!0}),Object.defineProperty(ap.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!0,configurable:!0}),ap.prototype.forEach=function(e,n){var r=this;ni("QuerySnapshot.forEach",arguments,1,2),ri("QuerySnapshot.forEach","function",1,e),this._snapshot.docs.forEach(function(t){e.call(n,r.convertToDocumentImpl(t))})},Object.defineProperty(ap.prototype,"query",{get:function(){return new rp(this._originalQuery,this._firestore)},enumerable:!0,configurable:!0}),ap.prototype.docChanges=function(t){t&&(di("QuerySnapshot.docChanges",t,["includeMetadataChanges"]),ai("QuerySnapshot.docChanges","boolean","includeMetadataChanges",t.includeMetadataChanges));var e=!(!t||!t.includeMetadataChanges);if(e&&this._snapshot.excludesMetadataChanges)throw new Wr(jr.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(i,e,o){if(o.oldDocs.isEmpty()){var n,r=0;return o.docChanges.map(function(t){var e=new ep(i,t.doc.key,t.doc,o.fromCache,o.mutatedKeys.has(t.doc.key));return Vr(t.type===Ih.Added,"Invalid event type for first snapshot"),Vr(!n||o.query.docComparator(n,t.doc)<0,"Got added events in wrong order"),n=t.doc,{type:"added",doc:e,oldIndex:-1,newIndex:r++}})}var a=o.oldDocs;return o.docChanges.filter(function(t){return e||t.type!==Ih.Metadata}).map(function(t){var e=new ep(i,t.doc.key,t.doc,o.fromCache,o.mutatedKeys.has(t.doc.key)),n=-1,r=-1;return t.type!==Ih.Added&&(Vr(0<=(n=a.indexOf(t.doc.key)),"Index for document not found"),a=a.delete(t.doc.key)),t.type!==Ih.Removed&&(r=(a=a.add(t.doc)).indexOf(t.doc.key)),{type:function(t){switch(t){case Ih.Added:return"added";case Ih.Modified:case Ih.Metadata:return"modified";case Ih.Removed:return"removed";default:return Fr("Unknown change type: "+t)}}(t.type),doc:e,oldIndex:n,newIndex:r}})}(this._firestore,e,this._snapshot),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},ap.prototype.isEqual=function(t){if(!(t instanceof ap))throw pi("isEqual","QuerySnapshot",1,t);return this._firestore===t._firestore&&this._originalQuery.isEqual(t._originalQuery)&&this._snapshot.isEqual(t._snapshot)},ap.prototype.convertToDocumentImpl=function(t){return new ep(this._firestore,t.key,t,this.metadata.fromCache,this._snapshot.mutatedKeys.has(t.key))},ap);function ap(t,e,n){this._firestore=t,this._originalQuery=e,this._snapshot=n,this._cachedChanges=null,this._cachedChangesIncludeMetadataChanges=null,this.metadata=new Xd(n.hasPendingWrites,n.fromCache)}a(["length","forEach","map"],"undefined"!=typeof Symbol?[Symbol.iterator]:[]).forEach(function(t){try{Object.defineProperty(op.prototype.docChanges,t,{get:function(){return function(){throw new Wr(jr.INVALID_ARGUMENT,'QuerySnapshot.docChanges has been changed from a property into a method, so usages like "querySnapshot.docChanges" should become "querySnapshot.docChanges()"')}()}})}catch(t){}});var sp,up=(t(cp,sp=rp),Object.defineProperty(cp.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(cp.prototype,"parent",{get:function(){var t=this._query.path.popLast();return t.isEmpty()?null:new Hd(new Ki(t),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(cp.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!0,configurable:!0}),cp.prototype.doc=function(t){if(ni("CollectionReference.doc",arguments,0,1),0===arguments.length&&(t=gi.newId()),ri("CollectionReference.doc","non-empty string",1,t),""===t)throw new Wr(jr.INVALID_ARGUMENT,"Document path must be a non-empty string");var e=qi.fromString(t);return Hd.forPath(this._query.path.child(e),this.firestore)},cp.prototype.add=function(t){ti("CollectionReference.add",arguments,1),ri("CollectionReference.add","object",1,t);var e=this.doc();return e.set(t).then(function(){return e})},cp);function cp(t,e){var n=sp.call(this,tl.atPath(t),e)||this;if(t.length%2!=1)throw new Wr(jr.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t.canonicalString()+" has "+t.length);return n}function hp(t,e){if(void 0===e)return{merge:!1};if(di(t,e,["merge","mergeFields"]),ai(t,"boolean","merge",e.merge),si(t,"mergeFields","a string or a FieldPath",e.mergeFields,function(t){return"string"==typeof t||t instanceof jf}),void 0!==e.mergeFields&&void 0!==e.merge)throw new Wr(jr.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function lp(t,e){return void 0===e?{}:(di(t,e,["serverTimestamps"]),ui(t,0,"serverTimestamps",e.serverTimestamps,["estimate","previous","none"]),e)}function fp(t,e){ii(t,"object",1,e),e&&(di(t,e,["source"]),ui(t,0,"source",e.source,["default","server","cache"]))}function dp(t,e,n){if(e instanceof Hd){if(e.firestore!==n)throw new Wr(jr.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}throw pi(t,"DocumentReference",1,e)}var pp=zr(Qd,"Use firebase.firestore() instead."),mp=zr(jd,"Use firebase.firestore().runTransaction() instead."),yp=zr(Gd,"Use firebase.firestore().batch() instead."),gp=zr(Hd,"Use firebase.firestore().doc() instead."),vp=zr(Zd),bp=zr(ep),wp=zr(rp),Sp=zr(op),Tp=zr(up,"Use firebase.firestore().collection() instead."),Ep={Firestore:pp,GeoPoint:Zh,Timestamp:ao,Blob:Di,Transaction:mp,WriteBatch:yp,DocumentReference:gp,DocumentSnapshot:vp,Query:wp,QueryDocumentSnapshot:bp,QuerySnapshot:Sp,CollectionReference:Tp,FieldPath:jf,FieldValue:wd,setLogLevel:Qd.setLogLevel,CACHE_SIZE_UNLIMITED:Vd};function Ip(t){t.INTERNAL.registerService("firestore",function(t){return new Qd(t)},function(t){Vr(t&&"object"==typeof t,"shallowCopy() expects object parameter.");var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}(Ep))}var Cp=(Dp.prototype.addCallback=function(t){},Dp.prototype.shutdown=function(){},Dp);function Dp(){}var Np="ConnectivityMonitor",Ap=(kp.prototype.addCallback=function(t){this.callbacks.push(t)},kp.prototype.shutdown=function(){window.removeEventListener("online",this.networkAvailableListener),window.removeEventListener("offline",this.networkUnavailableListener)},kp.prototype.configureNetworkMonitoring=function(){window.addEventListener("online",this.networkAvailableListener),window.addEventListener("offline",this.networkUnavailableListener)},kp.prototype.onNetworkAvailable=function(){Pr(Np,"Network connectivity changed: AVAILABLE");for(var t=0,e=this.callbacks;t<e.length;t++)(0,e[t])(0)},kp.prototype.onNetworkUnavailable=function(){Pr(Np,"Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.callbacks;t<e.length;t++)(0,e[t])(1)},kp.isAvailable=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},kp);function kp(){var t=this;this.networkAvailableListener=function(){return t.onNetworkAvailable()},this.networkUnavailableListener=function(){return t.onNetworkUnavailable()},this.callbacks=[],this.configureNetworkMonitoring()}var Rp=(Mp.prototype.onOpen=function(t){Vr(!this.wrappedOnOpen,"Called onOpen on stream twice!"),this.wrappedOnOpen=t},Mp.prototype.onClose=function(t){Vr(!this.wrappedOnClose,"Called onClose on stream twice!"),this.wrappedOnClose=t},Mp.prototype.onMessage=function(t){Vr(!this.wrappedOnMessage,"Called onMessage on stream twice!"),this.wrappedOnMessage=t},Mp.prototype.close=function(){this.closeFn()},Mp.prototype.send=function(t){this.sendFn(t)},Mp.prototype.callOnOpen=function(){Vr(void 0!==this.wrappedOnOpen,"Cannot call onOpen because no callback was set"),this.wrappedOnOpen()},Mp.prototype.callOnClose=function(t){Vr(void 0!==this.wrappedOnClose,"Cannot call onClose because no callback was set"),this.wrappedOnClose(t)},Mp.prototype.callOnMessage=function(t){Vr(void 0!==this.wrappedOnMessage,"Cannot call onMessage because no callback was set"),this.wrappedOnMessage(t)},Mp);function Mp(t){this.sendFn=t.sendFn,this.closeFn=t.closeFn}var Op="Connection",_p={BatchGetDocuments:"batchGet",Commit:"commit"},Lp="gl-js/ fire/"+Mr,Pp=(xp.prototype.modifyHeadersForRequest=function(t,e){if(e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n]);t["X-Goog-Api-Client"]=Lp},xp.prototype.invokeRPC=function(s,r,u){var c=this,h=this.makeUrl(s);return new Promise(function(i,o){var a=new Rr;a.listenOnce(Ar.COMPLETE,function(){try{switch(a.getLastErrorCode()){case Nr.NO_ERROR:var t=a.getResponseJson();Pr(Op,"XHR received:",JSON.stringify(t)),i(t);break;case Nr.TIMEOUT:Pr(Op,'RPC "'+s+'" timed out'),o(new Wr(jr.DEADLINE_EXCEEDED,"Request time out"));break;case Nr.HTTP_ERROR:var e=a.getStatus();if(Pr(Op,'RPC "'+s+'" failed with status:',e,"response text:",a.getResponseText()),0<e){var n=a.getResponseJson().error;if(n&&n.status&&n.message){var r=function(t){var e=t.toLowerCase().replace("_","-");return 0<=Object.values(jr).indexOf(e)?e:jr.UNKNOWN}(n.status);o(new Wr(r,n.message))}else o(new Wr(jr.UNKNOWN,"Server responded with status "+a.getStatus()))}else Pr(Op,'RPC "'+s+'" failed'),o(new Wr(jr.UNAVAILABLE,"Connection failed."));break;default:Fr('RPC "'+s+'" failed with unanticipated webchannel error '+a.getLastErrorCode()+": "+a.getLastError()+", giving up.")}}finally{Pr(Op,'RPC "'+s+'" completed.')}});var t=l({},r);delete t.database;var e=JSON.stringify(t);Pr(Op,"XHR sending: ",h+" "+e);var n={"Content-Type":"text/plain"};c.modifyHeadersForRequest(n,u),a.send(h,"POST",e,n,15)})},xp.prototype.invokeStreamingRPC=function(t,e,n){return this.invokeRPC(t,e,n)},xp.prototype.openStream=function(t,e){var n=[this.baseUrl,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=Dr(),i={backgroundChannelTest:!0,httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling};this.modifyHeadersForRequest(i.initMessageHeaders,e),"object"==typeof navigator&&"ReactNative"===navigator.product||(i.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");function a(t,e){s.listen(t,function(t){try{e(t)}catch(t){setTimeout(function(){throw t},0)}})}Pr(Op,"Creating WebChannel: "+o+" "+i);var s=r.createWebChannel(o,i),u=!1,c=!1,h=new Rp({sendFn:function(t){c?Pr(Op,"Not sending because WebChannel is closed:",t):(u||(Pr(Op,"Opening WebChannel transport."),s.open(),u=!0),Pr(Op,"WebChannel sending:",t),s.send(t))},closeFn:function(){return s.close()}});return a(kr.EventType.OPEN,function(){c||Pr(Op,"WebChannel transport opened.")}),a(kr.EventType.CLOSE,function(){c||(c=!0,Pr(Op,"WebChannel transport closed"),h.callOnClose())}),a(kr.EventType.ERROR,function(t){c||(c=!0,Pr(Op,"WebChannel transport errored:",t),h.callOnClose(new Wr(jr.UNAVAILABLE,"The operation could not be completed")))}),a(kr.EventType.MESSAGE,function(t){if(!c){var e=t.data[0];Vr(!!e,"Got a webchannel message without data.");var n=e,r=n.error||n[0]&&n[0].error;if(r){Pr(Op,"WebChannel received error:",r);var i=r.status,o=function(t){var e=vh[t];if(void 0!==e)return Eh(e)}(i),a=r.message;void 0===o&&(o=jr.INTERNAL,a="Unknown error status: "+i+" with message "+r.message),c=!0,h.callOnClose(new Wr(o,a)),s.close()}else Pr(Op,"WebChannel received:",e),h.callOnMessage(e)}}),setTimeout(function(){h.callOnOpen()},0),h},xp.prototype.makeUrl=function(t){var e=_p[t];Vr(void 0!==e,"Unknown REST mapping for: "+t);var n=[this.baseUrl,"/","v1"];return n.push("/projects/"),n.push(this.databaseId.projectId),n.push("/databases/"),n.push(this.databaseId.database),n.push("/documents"),n.push(":"),n.push(e),n.join("")},xp);function xp(t){this.databaseId=t.databaseId;var e=t.ssl?"https":"http";this.baseUrl=e+"://"+t.host,this.forceLongPolling=t.forceLongPolling}var qp=(Object.defineProperty(Fp.prototype,"document",{get:function(){return"undefined"!=typeof document?document:null},enumerable:!0,configurable:!0}),Object.defineProperty(Fp.prototype,"window",{get:function(){return"undefined"!=typeof window?window:null},enumerable:!0,configurable:!0}),Fp.prototype.loadConnection=function(t){return Promise.resolve(new Pp(t))},Fp.prototype.newConnectivityMonitor=function(){return Ap.isAvailable()?new Ap:new Cp},Fp.prototype.newSerializer=function(t){return new Yl(t,{useProto3Json:!0})},Fp.prototype.formatJSON=function(t){return JSON.stringify(t)},Fp.prototype.atob=function(t){return atob(t)},Fp.prototype.btoa=function(t){return btoa(t)},Fp);function Fp(){this.emptyByteString="",this.base64Available="undefined"!=typeof atob}Br.setPlatform(new qp),Ip(Vp)}).apply(this,arguments)}catch(t){throw console.error(t),new Error("Cannot instantiate firebase-firestore - be sure to load firebase-app.js first.")}});
//# sourceMappingURL=firebase-firestore.js.map
</script>
<script>
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(require("@firebase/app")):"function"==typeof define&&define.amd?define(["@firebase/app"],e):e((t=t||self).firebase)}(this,function(zt){"use strict";try{(function(){zt=zt&&zt.hasOwnProperty("default")?zt.default:zt;var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};var s=function(){return(s=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function u(o,s,a,c){return new(a=a||Promise)(function(t,e){function r(t){try{i(c.next(t))}catch(t){e(t)}}function n(t){try{i(c.throw(t))}catch(t){e(t)}}function i(e){e.done?t(e.value):new a(function(t){t(e.value)}).then(r,n)}i((c=c.apply(o,s||[])).next())})}function _(r,n){var i,o,s,t,a={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return t={next:e(0),throw:e(1),return:e(2)},"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(e){return function(t){return function(e){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,o&&(s=2&e[0]?o.return:e[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,e[1])).done)return s;switch(o=0,s&&(e=[2&e[0],s.value]),e[0]){case 0:case 1:s=e;break;case 4:return a.label++,{value:e[1],done:!1};case 5:a.label++,o=e[1],e=[0];continue;case 7:e=a.ops.pop(),a.trys.pop();continue;default:if(!(s=0<(s=a.trys).length&&s[s.length-1])&&(6===e[0]||2===e[0])){a=0;continue}if(3===e[0]&&(!s||e[1]>s[0]&&e[1]<s[3])){a.label=e[1];break}if(6===e[0]&&a.label<s[1]){a.label=s[1],s=e;break}if(s&&a.label<s[2]){a.label=s[2],a.ops.push(e);break}s[2]&&a.ops.pop(),a.trys.pop();continue}e=n.call(r,a)}catch(t){e=[6,t],o=0}finally{i=s=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,t])}}}function n(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),s=[];try{for(;(void 0===e||0<e--)&&!(n=o.next()).done;)s.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s}var t,e,i,h=(i=Error,r(t=a,e=i),void(t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)),a);function o(){this.constructor=t}function a(t,e){var r=i.call(this,e)||this;return r.code=t,r.name="FirebaseError",Object.setPrototypeOf(r,a.prototype),Error.captureStackTrace&&Error.captureStackTrace(r,c.prototype.create),r}var c=(l.prototype.create=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];for(var n=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?function(t,n){return t.replace(p,function(t,e){var r=n[e];return null!=r?r.toString():"<"+e+"?>"})}(o,n):"Error",a=this.serviceName+": "+s+" ("+i+").",c=new h(i,a),u=0,l=Object.keys(n);u<l.length;u++){var f=l[u];"_"!==f.slice(-1)&&(f in c&&console.warn('Overwriting FirebaseError base field "'+f+'" can cause unexpected behavior.'),c[f]=n[f])}return c},l);function l(t,e,r){this.service=t,this.serviceName=e,this.errors=r}var p=/\{\$([^}]+)}/g;function f(r){return new Promise(function(t,e){r.onsuccess=function(){t(r.result)},r.onerror=function(){e(r.error)}})}function g(r,n,i){var o,t=new Promise(function(t,e){f(o=r[n].apply(r,i)).then(t,e)});return t.request=o,t}function d(t,r,e){e.forEach(function(e){Object.defineProperty(t.prototype,e,{get:function(){return this[r][e]},set:function(t){this[r][e]=t}})})}function v(e,r,n,t){t.forEach(function(t){t in n.prototype&&(e.prototype[t]=function(){return g(this[r],t,arguments)})})}function m(e,r,n,t){t.forEach(function(t){t in n.prototype&&(e.prototype[t]=function(){return this[r][t].apply(this[r],arguments)})})}function y(e,r,n,t){t.forEach(function(t){t in n.prototype&&(e.prototype[t]=function(){return function(t,e,r){var n=g(t,e,r);return n.then(function(t){if(t)return new w(t,n.request)})}(this[r],t,arguments)})})}function b(t){this._index=t}function w(t,e){this._cursor=t,this._request=e}function S(t){this._store=t}function E(r){this._tx=r,this.complete=new Promise(function(t,e){r.oncomplete=function(){t()},r.onerror=function(){e(r.error)},r.onabort=function(){e(r.error)}})}function T(t,e,r){this._db=t,this.oldVersion=e,this.transaction=new E(r)}function C(t){this._db=t}d(b,"_index",["name","keyPath","multiEntry","unique"]),v(b,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),y(b,"_index",IDBIndex,["openCursor","openKeyCursor"]),d(w,"_cursor",["direction","key","primaryKey","value"]),v(w,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(r){r in IDBCursor.prototype&&(w.prototype[r]=function(){var e=this,t=arguments;return Promise.resolve().then(function(){return e._cursor[r].apply(e._cursor,t),f(e._request).then(function(t){if(t)return new w(t,e._request)})})})}),S.prototype.createIndex=function(){return new b(this._store.createIndex.apply(this._store,arguments))},S.prototype.index=function(){return new b(this._store.index.apply(this._store,arguments))},d(S,"_store",["name","keyPath","indexNames","autoIncrement"]),v(S,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),y(S,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),m(S,"_store",IDBObjectStore,["deleteIndex"]),E.prototype.objectStore=function(){return new S(this._tx.objectStore.apply(this._tx,arguments))},d(E,"_tx",["objectStoreNames","mode"]),m(E,"_tx",IDBTransaction,["abort"]),T.prototype.createObjectStore=function(){return new S(this._db.createObjectStore.apply(this._db,arguments))},d(T,"_db",["name","version","objectStoreNames"]),m(T,"_db",IDBDatabase,["deleteObjectStore","close"]),C.prototype.transaction=function(){return new E(this._db.transaction.apply(this._db,arguments))},d(C,"_db",["name","version","objectStoreNames"]),m(C,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(i){[S,b].forEach(function(t){i in t.prototype&&(t.prototype[i.replace("open","iterate")]=function(){var t=function(t){return Array.prototype.slice.call(t)}(arguments),e=t[t.length-1],r=this._store||this._index,n=r[i].apply(r,t.slice(0,-1));n.onsuccess=function(){e(n.result)}})})}),[b,S].forEach(function(t){t.prototype.getAll||(t.prototype.getAll=function(t,r){var n=this,i=[];return new Promise(function(e){n.iterateCursor(t,function(t){t?(i.push(t.value),void 0===r||i.length!=r?t.continue():e(i)):e(i)})})})});var I,k=1e4,O="w:0.3.1",F="FIS_v2",M="https://firebaseinstallations.googleapis.com/v1",P=36e5,j=((I={})["missing-app-config-values"]="Missing App configuration values.",I["create-installation-failed"]="Could not register Firebase Installation.",I["generate-token-failed"]="Could not generate Auth Token.",I["not-registered"]="Firebase Installation is not registered.",I["installation-not-found"]="Firebase Installation not found.",I["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',I["app-offline"]="Could not process request. Application offline.",I["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",I),A=new c("installations","Installations",j);function L(t){return t instanceof h&&t.code.includes("request-failed")}function N(t){if(!t||!t.options)throw A.create("missing-app-config-values");var e=t.name,r=t.options,n=r.projectId,i=r.apiKey,o=r.appId;if(!(e&&n&&i&&o))throw A.create("missing-app-config-values");return{appName:e,projectId:n,apiKey:i,appId:o}}function D(t){var e=t.projectId;return M+"/projects/"+e+"/installations"}function x(t){return{token:t.token,requestStatus:2,expiresIn:function(t){return Number(t.replace("s","000"))}(t.expiresIn),creationTime:Date.now()}}function R(n,i){return u(this,void 0,void 0,function(){var e,r;return _(this,function(t){switch(t.label){case 0:return[4,i.json()];case 1:return e=t.sent(),r=e.error,[2,A.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})]}})})}function q(t){var e=t.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function B(t,e){var r=e.refreshToken,n=q(t);return n.append("Authorization",function(t){return F+" "+t}(r)),n}function K(r){return u(this,void 0,void 0,function(){var e;return _(this,function(t){switch(t.label){case 0:return[4,r()];case 1:return 500<=(e=t.sent()).status&&e.status<600?[2,r()]:[2,e]}})})}function V(e){return new Promise(function(t){setTimeout(t,e)})}function z(t){return btoa(String.fromCharCode.apply(String,function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(n(arguments[e]));return t}(t))).replace(/\+/g,"-").replace(/\//g,"_")}var H=/^[cdef][\w-]{21}$/,$="";function U(){try{var t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;var e=function(t){return z(t).substr(0,22)}(t);return H.test(e)?e:$}catch(t){return $}}var G,W,J="firebase-installations-database",Y=1,Q="firebase-installations-store",X=null;function Z(){return X=X||function(t,e,r){var n=g(indexedDB,"open",[t,e]),i=n.request;return i&&(i.onupgradeneeded=function(t){r&&r(new T(i.result,t.oldVersion,i.transaction))}),n.then(function(t){return new C(t)})}(J,Y,function(t){switch(t.oldVersion){case 0:t.createObjectStore(Q)}})}function tt(i,o){return u(this,void 0,void 0,function(){var e,r,n;return _(this,function(t){switch(t.label){case 0:return e=nt(i),[4,Z()];case 1:return r=t.sent(),[4,(n=r.transaction(Q,"readwrite")).objectStore(Q).put(o,e)];case 2:return t.sent(),[4,n.complete];case 3:return t.sent(),[2,o]}})})}function et(i){return u(this,void 0,void 0,function(){var e,r,n;return _(this,function(t){switch(t.label){case 0:return e=nt(i),[4,Z()];case 1:return r=t.sent(),[4,(n=r.transaction(Q,"readwrite")).objectStore(Q).delete(e)];case 2:return t.sent(),[4,n.complete];case 3:return t.sent(),[2]}})})}function rt(a,c){return u(this,void 0,void 0,function(){var e,r,n,i,o,s;return _(this,function(t){switch(t.label){case 0:return e=nt(a),[4,Z()];case 1:return r=t.sent(),n=r.transaction(Q,"readwrite"),[4,(i=n.objectStore(Q)).get(e)];case 2:return o=t.sent(),void 0!==(s=c(o))?[3,4]:[4,i.delete(e)];case 3:return t.sent(),[3,6];case 4:return[4,i.put(s,e)];case 5:t.sent(),t.label=6;case 6:return[4,n.complete];case 7:return t.sent(),[2,s]}})})}function nt(t){return t.appName+"!"+t.appId}function it(i){return u(this,void 0,void 0,function(){var n,e,r;return _(this,function(t){switch(t.label){case 0:return[4,rt(i,function(t){var e=function(t){return st(t||{fid:U(),registrationStatus:0})}(t),r=function(t,e){{if(0!==e.registrationStatus)return 1===e.registrationStatus?{installationEntry:e,registrationPromise:function(r){return u(this,void 0,void 0,function(){var e;return _(this,function(t){switch(t.label){case 0:return[4,ot(r)];case 1:e=t.sent(),t.label=2;case 2:return 1!==e.registrationStatus?[3,5]:[4,V(100)];case 3:return t.sent(),[4,ot(r)];case 4:return e=t.sent(),[3,2];case 5:if(0===e.registrationStatus)throw A.create("create-installation-failed");return[2,e]}})})}(t)}:{installationEntry:e};if(!navigator.onLine){var r=Promise.reject(A.create("app-offline"));return{installationEntry:e,registrationPromise:r}}var n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=function(n,i){return u(this,void 0,void 0,function(){var e,r;return _(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,7]),[4,function(a,t){var c=t.fid;return u(this,void 0,void 0,function(){var e,r,n,i,o,s;return _(this,function(t){switch(t.label){case 0:return e=D(a),r=q(a),n={fid:c,authVersion:F,appId:a.appId,sdkVersion:O},i={method:"POST",headers:r,body:JSON.stringify(n)},[4,K(function(){return fetch(e,i)})];case 1:return(o=t.sent()).ok?[4,o.json()]:[3,3];case 2:return s=t.sent(),[2,{fid:s.fid||c,registrationStatus:2,refreshToken:s.refreshToken,authToken:x(s.authToken)}];case 3:return[4,R("Create Installation",o)];case 4:throw t.sent()}})})}(n,i)];case 1:return e=t.sent(),[2,tt(n,e)];case 2:return L(r=t.sent())&&409===r.serverCode?[4,et(n)]:[3,4];case 3:return t.sent(),[3,6];case 4:return[4,tt(n,{fid:i.fid,registrationStatus:0})];case 5:t.sent(),t.label=6;case 6:throw r;case 7:return[2]}})})}(t,n);return{installationEntry:n,registrationPromise:i}}}(i,e);return n=r.registrationPromise,r.installationEntry})];case 1:return(e=t.sent()).fid!==$?[3,3]:(r={},[4,n]);case 2:return[2,(r.installationEntry=t.sent(),r)];case 3:return[2,{installationEntry:e,registrationPromise:n}]}})})}function ot(t){return rt(t,function(t){if(!t)throw A.create("installation-not-found");return st(t)})}function st(t){return function(t){return 1===t.registrationStatus&&t.registrationTime+k<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function at(a,c){return u(this,void 0,void 0,function(){var e,r,n,i,o,s;return _(this,function(t){switch(t.label){case 0:return e=function(t,e){var r=e.fid;return D(t)+"/"+r+"/authTokens:generate"}(a,c),r=B(a,c),n={installation:{sdkVersion:O}},i={method:"POST",headers:r,body:JSON.stringify(n)},[4,K(function(){return fetch(e,i)})];case 1:return(o=t.sent()).ok?[4,o.json()]:[3,3];case 2:return s=t.sent(),[2,x(s)];case 3:return[4,R("Generate Auth Token",o)];case 4:throw t.sent()}})})}function ct(i,o){return void 0===o&&(o=!1),u(this,void 0,void 0,function(){var n,e,r;return _(this,function(t){switch(t.label){case 0:return[4,rt(i,function(t){if(!lt(t))throw A.create("not-registered");var e=t.authToken;if(!o&&function(t){return 2===t.requestStatus&&!function(t){var e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+P}(t)}(e))return t;if(1===e.requestStatus)return n=function(n){return u(this,void 0,void 0,function(){var e,r;return _(this,function(t){switch(t.label){case 0:return[4,ut(n)];case 1:e=t.sent(),t.label=2;case 2:return 1!==e.authToken.requestStatus?[3,5]:[4,V(100)];case 3:return t.sent(),[4,ut(n)];case 4:return e=t.sent(),[3,2];case 5:if(0===(r=e.authToken).requestStatus)throw A.create("generate-token-failed");return[2,r]}})})}(i),t;if(!navigator.onLine)throw A.create("app-offline");var r=function(t){var e={requestStatus:1,requestTime:Date.now()};return s(s({},t),{authToken:e})}(t);return n=function(i,o){return u(this,void 0,void 0,function(){var e,r,n;return _(this,function(t){switch(t.label){case 0:return t.trys.push([0,3,,8]),[4,at(i,o)];case 1:return e=t.sent(),n=s(s({},o),{authToken:e}),[4,tt(i,n)];case 2:return t.sent(),[2,e];case 3:return!L(r=t.sent())||401!==r.serverCode&&404!==r.serverCode?[3,5]:[4,et(i)];case 4:return t.sent(),[3,7];case 5:return n=s(s({},o),{authToken:{requestStatus:0}}),[4,tt(i,n)];case 6:t.sent(),t.label=7;case 7:throw r;case 8:return[2]}})})}(i,r),r})];case 1:return e=t.sent(),n?[4,n]:[3,3];case 2:return r=t.sent(),[3,4];case 3:r=e.authToken,t.label=4;case 4:return[2,r.token]}})})}function ut(t){return rt(t,function(t){if(!lt(t))throw A.create("not-registered");return function(t){return 1===t.requestStatus&&t.requestTime+k<Date.now()}(t.authToken)?s(s({},t),{authToken:{requestStatus:0}}):t})}function lt(t){return void 0!==t&&2===t.registrationStatus}function ft(r,n){return void 0===n&&(n=!1),u(this,void 0,void 0,function(){var e;return _(this,function(t){switch(t.label){case 0:return[4,function(i){return u(this,void 0,void 0,function(){var e,r,n;return _(this,function(t){switch(t.label){case 0:return[4,it(i)];case 1:return e=t.sent(),r=e.installationEntry,(n=e.registrationPromise)?[4,n]:[3,3];case 2:return t.sent(),[3,4];case 3:if(2!==r.registrationStatus)throw A.create("create-installation-failed");t.label=4;case 4:return[2]}})})}(e=N(r))];case 1:return t.sent(),[2,ct(e,n)]}})})}function ht(o,s){return u(this,void 0,void 0,function(){var e,r,n,i;return _(this,function(t){switch(t.label){case 0:return e=function(t,e){var r=e.fid;return D(t)+"/"+r}(o,s),r=B(o,s),n={method:"DELETE",headers:r},[4,K(function(){return fetch(e,n)})];case 1:return(i=t.sent()).ok?[3,3]:[4,R("Delete Installation",i)];case 2:throw t.sent();case 3:return[2]}})})}function pt(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var n=Array(t),i=0;for(e=0;e<r;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)n[i]=o[s];return n}zt.INTERNAL.registerService("installations",function(e){return N(e),{app:e,getId:function(){return function(o){return u(this,void 0,void 0,function(){var e,r,n,i;return _(this,function(t){switch(t.label){case 0:return[4,it(e=N(o))];case 1:return r=t.sent(),n=r.installationEntry,(i=r.registrationPromise)&&i.catch(function(){}),2===n.registrationStatus&&ct(e).catch(function(){}),[2,n.fid]}})})}(e)},getToken:function(t){return ft(e,t)},delete:function(){return function(n){return u(this,void 0,void 0,function(){var e,r;return _(this,function(t){switch(t.label){case 0:return[4,rt(e=N(n),function(t){if(!t||0!==t.registrationStatus)return t})];case 1:if(!(r=t.sent()))return[3,6];if(1!==r.registrationStatus)return[3,2];throw A.create("delete-pending-registration");case 2:if(2!==r.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw A.create("app-offline");case 3:return[4,ht(e,r)];case 4:return t.sent(),[4,et(e)];case 5:t.sent(),t.label=6;case 6:return[2]}})})}(e)}}}),(W=G=G||{})[W.DEBUG=0]="DEBUG",W[W.VERBOSE=1]="VERBOSE",W[W.INFO=2]="INFO",W[W.WARN=3]="WARN",W[W.ERROR=4]="ERROR",W[W.SILENT=5]="SILENT";function gt(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];if(!(e<t.logLevel)){var i=(new Date).toISOString();switch(e){case G.DEBUG:case G.VERBOSE:console.log.apply(console,pt(["["+i+"]  "+t.name+":"],r));break;case G.INFO:console.info.apply(console,pt(["["+i+"]  "+t.name+":"],r));break;case G.WARN:console.warn.apply(console,pt(["["+i+"]  "+t.name+":"],r));break;case G.ERROR:console.error.apply(console,pt(["["+i+"]  "+t.name+":"],r));break;default:throw new Error("Attempted to log a message with an invalid logType (value: "+e+")")}}}var dt=G.INFO,vt=(Object.defineProperty(mt.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in G))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=t},enumerable:!0,configurable:!0}),Object.defineProperty(mt.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!0,configurable:!0}),mt.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,pt([this,G.DEBUG],t))},mt.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,pt([this,G.VERBOSE],t))},mt.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,pt([this,G.INFO],t))},mt.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,pt([this,G.WARN],t))},mt.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,pt([this,G.ERROR],t))},mt);function mt(t){this.name=t,this._logLevel=dt,this._logHandler=gt}var yt,bt=(wt.prototype.isCachedDataFresh=function(t,e){if(!e)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var r=Date.now()-e,n=r<=t;return this.logger.debug("Config fetch cache check. Cache age millis: "+r+". Cache max age millis (minimumFetchIntervalMillis setting): "+t+". Is cache hit: "+n+"."),n},wt.prototype.fetch=function(s){return u(this,void 0,void 0,function(){var e,r,n,i,o;return _(this,function(t){switch(t.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return e=t.sent(),r=e[0],(n=e[1])&&this.isCachedDataFresh(s.cacheMaxAgeMillis,r)?[2,n]:(s.eTag=n&&n.eTag,[4,this.client.fetch(s)]);case 2:return i=t.sent(),o=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],200===i.status&&o.push(this.storage.setLastSuccessfulFetchResponse(i)),[4,Promise.all(o)];case 3:return t.sent(),[2,i]}})})},wt);function wt(t,e,r,n){this.client=t,this.storage=e,this.storageCache=r,this.logger=n}var _t=((yt={})["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",yt["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",yt["registration-api-key"]="Undefined API key. Check Firebase app initialization.",yt["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",yt["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",yt["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",yt["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",yt["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",yt["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",yt["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',yt["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',yt["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",yt["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",yt),St=new c("remoteconfig","Remote Config",_t);var Et=(Tt.prototype.fetch=function(w){return u(this,void 0,void 0,function(){var e,r,n,i,o,s,a,c,u,l,f,h,p,g,d,v,m,y,b;return _(this,function(t){switch(t.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:e=t.sent(),r=e[0],n=e[1],i=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",o=i+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,s={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":w.eTag||"*"},a={sdk_version:this.sdkVersion,app_instance_id:r,app_instance_id_token:n,app_id:this.appId,language_code:function(t){return void 0===t&&(t=navigator),t.languages&&t.languages[0]||t.language}()},c={method:"POST",headers:s,body:JSON.stringify(a)},u=fetch(o,c),l=new Promise(function(t,e){w.signal.addEventListener(function(){var t=new Error("The operation was aborted.");t.name="AbortError",e(t)})}),t.label=2;case 2:return t.trys.push([2,5,,6]),[4,Promise.race([u,l])];case 3:return t.sent(),[4,u];case 4:return f=t.sent(),[3,6];case 5:throw h=t.sent(),p="fetch-client-network","AbortError"===h.name&&(p="fetch-timeout"),St.create(p,{originalErrorMessage:h.message});case 6:if(g=f.status,d=f.headers.get("ETag")||void 0,200!==f.status)return[3,11];y=void 0,t.label=7;case 7:return t.trys.push([7,9,,10]),[4,f.json()];case 8:return y=t.sent(),[3,10];case 9:throw b=t.sent(),St.create("fetch-client-parse",{originalErrorMessage:b.message});case 10:v=y.entries,m=y.state,t.label=11;case 11:if("INSTANCE_STATE_UNSPECIFIED"===m?g=500:"NO_CHANGE"===m?g=304:"NO_TEMPLATE"!==m&&"EMPTY_CONFIG"!==m||(v={}),304!==g&&200!==g)throw St.create("fetch-status",{httpStatus:g});return[2,{status:g,eTag:d,config:v}]}})})},Tt);function Tt(t,e,r,n,i,o){this.firebaseInstallations=t,this.sdkVersion=e,this.namespace=r,this.projectId=n,this.apiKey=i,this.appId=o}var Ct=(It.prototype.addEventListener=function(t){this.listeners.push(t)},It.prototype.abort=function(){this.listeners.forEach(function(t){return t()})},It);function It(){this.listeners=[]}var kt=["1","true","t","yes","y","on"],Ot=(Ft.prototype.asString=function(){return this._value},Ft.prototype.asBoolean=function(){return"static"!==this._source&&0<=kt.indexOf(this._value.toLowerCase())},Ft.prototype.asNumber=function(){if("static"===this._source)return 0;var t=Number(this._value);return isNaN(t)&&(t=0),t},Ft.prototype.getSource=function(){return this._source},Ft);function Ft(t,e){void 0===e&&(e=""),this._source=t,this._value=e}var Mt=(Pt.prototype.setLogLevel=function(t){switch(t){case"debug":this._logger.logLevel=G.DEBUG;break;case"silent":this._logger.logLevel=G.SILENT;break;default:this._logger.logLevel=G.ERROR}},Object.defineProperty(Pt.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!0,configurable:!0}),Object.defineProperty(Pt.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!0,configurable:!0}),Pt.prototype.activate=function(){return u(this,void 0,void 0,function(){var e,r,n;return _(this,function(t){switch(t.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return e=t.sent(),r=e[0],n=e[1],r&&r.config&&r.eTag&&r.eTag!==n?[4,Promise.all([this._storageCache.setActiveConfig(r.config),this._storage.setActiveConfigEtag(r.eTag)])]:[2,!1];case 2:return t.sent(),[2,!0]}})})},Pt.prototype.ensureInitialized=function(){var t=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then(function(){t._isInitializationComplete=!0})),this._initializePromise},Pt.prototype.fetch=function(){return u(this,void 0,void 0,function(){var e=this;return _(this,function(t){return[2,new Promise(function(o,s){return u(e,void 0,void 0,function(){var e,r,n,i=this;return _(this,function(t){switch(t.label){case 0:e=new Ct,setTimeout(function(){return u(i,void 0,void 0,function(){return _(this,function(t){return e.abort(),[2]})})},this.settings.fetchTimeoutMillis),t.label=1;case 1:return t.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:e})];case 2:return t.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return t.sent(),o(),[3,6];case 4:return r=t.sent(),n=function(t,e){return t instanceof h&&-1!==t.code.indexOf(e)}(r,"fetch-throttle")?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(n)];case 5:return t.sent(),s(r),[3,6];case 6:return[2]}})})})]})})},Pt.prototype.fetchAndActivate=function(){return u(this,void 0,void 0,function(){return _(this,function(t){switch(t.label){case 0:return[4,this.fetch()];case 1:return t.sent(),[2,this.activate()]}})})},Pt.prototype.getAll=function(){var r=this;return function(t,e){return void 0===t&&(t={}),void 0===e&&(e={}),Object.keys(s(s({},t),e))}(this._storageCache.getActiveConfig(),this.defaultConfig).reduce(function(t,e){return t[e]=r.getValue(e),t},{})},Pt.prototype.getBoolean=function(t){return this.getValue(t).asBoolean()},Pt.prototype.getNumber=function(t){return this.getValue(t).asNumber()},Pt.prototype.getString=function(t){return this.getValue(t).asString()},Pt.prototype.getValue=function(t){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+t+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var e=this._storageCache.getActiveConfig();return e&&void 0!==e[t]?new Ot("remote",e[t]):this.defaultConfig&&void 0!==this.defaultConfig[t]?new Ot("default",String(this.defaultConfig[t])):(this._logger.debug('Returning static value for key "'+t+'". Define a default or remote value if this is unintentional.'),new Ot("static"))},Pt);function Pt(t,e,r,n,i){this.app=t,this._client=e,this._storageCache=r,this._storage=n,this._logger=i,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}function jt(t,e){var r=t.target.error||void 0;return St.create(e,{originalErrorMessage:r&&r.message})}var At="app_namespace_store",Lt="firebase_remote_config",Nt=1;var Dt=(xt.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},xt.prototype.setLastFetchStatus=function(t){return this.set("last_fetch_status",t)},xt.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},xt.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.set("last_successful_fetch_timestamp_millis",t)},xt.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},xt.prototype.setLastSuccessfulFetchResponse=function(t){return this.set("last_successful_fetch_response",t)},xt.prototype.getActiveConfig=function(){return this.get("active_config")},xt.prototype.setActiveConfig=function(t){return this.set("active_config",t)},xt.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},xt.prototype.setActiveConfigEtag=function(t){return this.set("active_config_etag",t)},xt.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},xt.prototype.setThrottleMetadata=function(t){return this.set("throttle_metadata",t)},xt.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},xt.prototype.get=function(a){return u(this,void 0,void 0,function(){var o,s=this;return _(this,function(t){switch(t.label){case 0:return[4,this.openDbPromise];case 1:return o=t.sent(),[2,new Promise(function(r,e){var t=o.transaction([At],"readonly").objectStore(At),n=s.createCompositeKey(a);try{var i=t.get(n);i.onerror=function(t){e(jt(t,"storage-get"))},i.onsuccess=function(t){var e=t.target.result;r(e?e.value:void 0)}}catch(t){e(St.create("storage-get",{originalErrorMessage:t&&t.message}))}})]}})})},xt.prototype.set=function(a,c){return u(this,void 0,void 0,function(){var o,s=this;return _(this,function(t){switch(t.label){case 0:return[4,this.openDbPromise];case 1:return o=t.sent(),[2,new Promise(function(t,e){var r=o.transaction([At],"readwrite").objectStore(At),n=s.createCompositeKey(a);try{var i=r.put({compositeKey:n,value:c});i.onerror=function(t){e(jt(t,"storage-set"))},i.onsuccess=function(){t()}}catch(t){e(St.create("storage-set",{originalErrorMessage:t&&t.message}))}})]}})})},xt.prototype.delete=function(a){return u(this,void 0,void 0,function(){var o,s=this;return _(this,function(t){switch(t.label){case 0:return[4,this.openDbPromise];case 1:return o=t.sent(),[2,new Promise(function(t,e){var r=o.transaction([At],"readwrite").objectStore(At),n=s.createCompositeKey(a);try{var i=r.delete(n);i.onerror=function(t){e(jt(t,"storage-delete"))},i.onsuccess=function(){t()}}catch(t){e(St.create("storage-delete",{originalErrorMessage:t&&t.message}))}})]}})})},xt.prototype.createCompositeKey=function(t){return[this.appId,this.appName,this.namespace,t].join()},xt);function xt(t,e,r,n){void 0===n&&(n=new Promise(function(e,r){var t=indexedDB.open(Lt,Nt);t.onerror=function(t){r(jt(t,"storage-open"))},t.onsuccess=function(t){e(t.target.result)},t.onupgradeneeded=function(t){var e=t.target.result;switch(t.oldVersion){case 0:e.createObjectStore(At,{keyPath:"compositeKey"})}}})),this.appId=t,this.appName=e,this.namespace=r,this.openDbPromise=n}var Rt=(qt.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},qt.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},qt.prototype.getActiveConfig=function(){return this.activeConfig},qt.prototype.loadFromStorage=function(){return u(this,void 0,void 0,function(){var e,r,n,i,o,s;return _(this,function(t){switch(t.label){case 0:return e=this.storage.getLastFetchStatus(),r=this.storage.getLastSuccessfulFetchTimestampMillis(),n=this.storage.getActiveConfig(),[4,e];case 1:return(i=t.sent())&&(this.lastFetchStatus=i),[4,r];case 2:return(o=t.sent())&&(this.lastSuccessfulFetchTimestampMillis=o),[4,n];case 3:return(s=t.sent())&&(this.activeConfig=s),[2]}})})},qt.prototype.setLastFetchStatus=function(t){return this.lastFetchStatus=t,this.storage.setLastFetchStatus(t)},qt.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.lastSuccessfulFetchTimestampMillis=t,this.storage.setLastSuccessfulFetchTimestampMillis(t)},qt.prototype.setActiveConfig=function(t){return this.activeConfig=t,this.storage.setActiveConfig(t)},qt);function qt(t){this.storage=t}var Bt=(Kt.prototype.fetch=function(r){return u(this,void 0,void 0,function(){var e;return _(this,function(t){switch(t.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return e=t.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(r,e)]}})})},Kt.prototype.attemptFetch=function(i,t){var o=t.throttleEndTimeMillis,s=t.backoffCount;return u(this,void 0,void 0,function(){var e,r,n;return _(this,function(t){switch(t.label){case 0:return[4,function(i,o){return new Promise(function(t,e){var r=Math.max(o-Date.now(),0),n=setTimeout(t,r);i.addEventListener(function(){clearTimeout(n),e(St.create("fetch-throttle",{throttleEndTimeMillis:o}))})})}(i.signal,o)];case 1:t.sent(),t.label=2;case 2:return t.trys.push([2,5,,7]),[4,this.client.fetch(i)];case 3:return e=t.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return t.sent(),[2,e];case 5:if(!function(t){if(!(t instanceof h))return!1;var e=Number(t.httpStatus);return 429===e||500===e||503===e||504===e}(r=t.sent()))throw r;return n={throttleEndTimeMillis:Date.now()+function(t){var e=1e3*Math.pow(2,t),r=Math.round(.5*e*(Math.random()-.5)*2);return Math.min(144e5,e+r)}(s),backoffCount:s+1},[4,this.storage.setThrottleMetadata(n)];case 6:return t.sent(),[2,this.attemptFetch(i,n)];case 7:return[2]}})})},Kt);function Kt(t,e){this.client=t,this.storage=e}var Vt;(Vt=zt).INTERNAL.registerService("remoteConfig",function(t,e,r){if("undefined"==typeof window)throw St.create("registration-window");var n=t.options,i=n.projectId,o=n.apiKey,s=n.appId;if(!i)throw St.create("registration-project-id");if(!o)throw St.create("registration-api-key");if(!s)throw St.create("registration-app-id");r=r||"firebase";var a=new Dt(s,t.name,r),c=new Rt(a),u=new vt("@firebase/remote-config");u.logLevel=G.ERROR;var l=new Et(t.installations(),Vt.SDK_VERSION,r,i,o,s),f=new Bt(l,a),h=new bt(f,a,c,u),p=new Mt(t,h,c,a,u);return p.ensureInitialized(),p},void 0,void 0,!0)}).apply(this,arguments)}catch(t){throw console.error(t),new Error("Cannot instantiate firebase-remote-config - be sure to load firebase-app.js first.")}});
//# sourceMappingURL=firebase-remote-config.js.map
</script>
<script>
let dependencyUrls = []
const maxLoadTimesTrys = 4;

//Main Libraries
dependencyUrls.push("https://www.googletagmanager.com/gtag/js?id=UA-118283086-6", "https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js");
//Ads Libraries
dependencyUrls.push("js/adsController.js", "js/IronSourceRV.js", "js/cpmstar.js", "js/moneyController.js");
//Firebase/Google Libraries
dependencyUrls.push("js/googleAnalytics.js", "js/Firebase/firebase-init.js?v=2", "js/Firebase/firebase-login.js?v=2", "js/Firebase/firebase-config.js?v=2", "js/Firebase/firebase-firestore.js?v=2")
//Game Libraries
dependencyUrls.push("js/unityUrls.js?v=2", "js/unityGame.js?v=2", "js/mobileRedirect.js", "js/fullscreen.js")
//etc. Libraries
dependencyUrls.push("js/windowResize.js", "js/blockManager.js", "js/macUserAgent.js", "js/visibilityChangeListener.js", "PC/payment/js/xsolla.js")

dynamicallyLoadScripts();

async function dynamicallyLoadScripts() {
    for (let i = 0; i < dependencyUrls.length; i++) {
        let url = dependencyUrls[i];
        let script = document.createElement("script");
        script.src = url;

        document.head.appendChild(script);
    }

    let trys = 0;
    while (window.loadedUrls === undefined || window.firebaseLoaded === undefined || window.adsLoaded === undefined
    || window.gameScriptLoaded === undefined || window.configInit === undefined || window.adsControllerLoaded === undefined) {
        await sleep(500)
        trys++;
        if(trys >= maxLoadTimesTrys) {
            break;
        }
    }

    isGameLoaded()
    loadGame();
    initFirebaseLibraries();
    fixMacUserAgent();
}

function loadGame() {
    let gameLoader = document.createElement("script")
    gameLoader.src = getGameLoaderUrl();
    gameLoader.id = "unity-loader"
    gameLoader.onload = function () {
        showGame();
    };

    let gameLoadDiv = document.getElementById("unity-loader-div");
    gameLoadDiv.innerHTML = "";
    gameLoadDiv.appendChild(gameLoader);
}

async function isGameLoaded() {
    await sleep(5000);
    if(window.gameStartLoading === undefined) {
        location.reload();
    }
}

function initFirebaseLibraries() {
    initializeFireBase();
    initRemoteConfig();
}

function onUnityReady() {
    initAds();
    checkAdBlock();
    sendConfig();
}

function sleep(ms) {
    return new Promise(resolve => setTimeout(resolve, ms));
}
</script>
<style>
html {
	box-sizing: border-box;
}

*,
*:before,
*:after {
	box-sizing: inherit;
}

body {
	margin: 0;
	background: #000!important;
	overflow: hidden;
}

#gameContainer {
	width: 100vw;
	height: 100vh;
	background: #000!important;
}

#canvas {
	width: 100%;
	height: 100%;
	display: block;
}
/* try to handle mobile dialog */

#canvas + * {
	z-index: 2;
}

.logo {
	display: block;
	max-width: 15vw;
	max-height: 15vh;
}

.progress {
	margin: 1.5em;
	border: 1px solid white;
	width: 30vw;
	display: none;
}

.progress .full {
	margin: 2px;
	background: white;
	height: 1em;
	transform-origin: top left;
}

#loader {
	position: absolute;
	left: 0;
	top: 0;
	width: 100vw;
	height: 100vh;
	display: flex;
	flex-direction: column;
	align-items: center;
	justify-content: center;
}

.spinner,
.spinner:after {
	border-radius: 50%;
	width: 5em;
	height: 5em;
}

#unity-progress-bar-empty {
    width: 30%;
    height: 24px;
    margin: 10px 20px 20px 10px;
    text-align: left;
    border: 1px solid white;
    padding: 2px;
}
#unity-progress-bar-full {
    width: 0%;
    height: 100%;
    background: white;
}
.light #unity-progress-bar-empty {
    border-color: black;
}
.light #unity-progress-bar-full {
    background: black;
}

.spinner {
	margin: 10px;
	font-size: 10px;
	position: relative;
	text-indent: -9999em;
	border-top: 1.1em solid rgba(255, 255, 255, 0.2);
	border-right: 1.1em solid rgba(255, 255, 255, 0.2);
	border-bottom: 1.1em solid rgba(255, 255, 255, 0.2);
	border-left: 1.1em solid #ffffff;
	transform: translateZ(0);
	animation: spinner-spin 1.1s infinite linear;
}

@keyframes spinner-spin {
	0% {
		transform: rotate(0deg);
	}
	100% {
		transform: rotate(360deg);
	}
}

.ad {
	background: rgba(0, 0, 0, 0.4);
	overflow: hidden;
	display: none;
}

.modal{
	background:rgba(0,0,0,.4);
	display:none;
	height:100%;
	width: 100%;
	position:fixed;
	z-index:10000;
	top: 0;
	left: 0;
	bottom: 0;
	right: 0;
}

.modalContent{
	margin: auto;
	width: 100%;
}

.centered {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
}

/* The Close Button */
.close {
  color: #aaa;
  float: right;
  font-size: 28px;
  font-weight: bold;
}

.close:hover,
.close:focus {
  color: black;
  text-decoration: none;
  cursor: pointer;
}

#continueWindow{
	background-color: #fefefe;
	margin: 15% auto;
	padding: 20px;
	border: 1px solid #888;
	width: 30%;
}

#adWindow{
	background: #4382f5;
	border: 10px solid #4382f5;
	width: 660px;
	border-top: 0;
	height: 540px;
}

.ads{
	height:100%;
	display: flex;
	flex-direction: column;
	justify-content: space-evenly;
	position: absolute;
	z-index:40;
}

.ad-rectangle-bottom {
	width: 304px;
	height: 258px;
	border-style: solid;
	border-width: 4px 4px 4px 0px;
	border-color: rgba(0, 0, 0, 0.01);
	user-select: none;
	-moz-user-select: none;
	-khtml-user-select: none;
	-webkit-user-select: none;
	-o-user-select: none;
}

.ad-rectangle-upper {
	width: 304px;
	height: 258px;
	border-style: solid;
	border-width: 4px 4px 4px 0px;
	border-color: rgba(0, 0, 0, 0.01);
	user-select: none;
	-moz-user-select: none;
	-khtml-user-select: none;
	-webkit-user-select: none;
	-o-user-select: none;
}
.ad-leaderboard-bottom {
	width: 304px;
	height: 608px;
	border-style: solid;
	border-width: 4px 4px 4px 0px;
	border-color: rgba(0, 0, 0, 0.01);
	user-select: none;
	-moz-user-select: none;
	-khtml-user-select: none;
	-webkit-user-select: none;
	-o-user-select: none;
}

@media (min-height: 900px) {
	.ad-smallscreen{
		display: none;
	}
}

@media (max-height: 900px) {
	.ad-largescreen{
		display: none;
	}
}

#adWindow {
	border: 10px solid #4382f5 !important;
	height: 500px !important;
}

a[onclick*="showConsentToolSettings"] {
	right: 0px;
	left: auto !important;
}
</style>
<script>
// Copyright 2011 Google Inc. All Rights Reserved.
(function(){/*

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/
var l,aa=function(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}},ba="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(a==Array.prototype||a==Object.prototype)return a;a[b]=c.value;return a},ca=function(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}throw Error("Cannot find global object");
},fa=ca(this),p=function(a,b){if(b)a:{var c=fa;a=a.split(".");for(var d=0;d<a.length-1;d++){var e=a[d];if(!(e in c))break a;c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&ba(c,a,{configurable:!0,writable:!0,value:b})}};
p("Symbol",function(a){if(a)return a;var b=function(f,g){this.h=f;ba(this,"description",{configurable:!0,writable:!0,value:g})};b.prototype.toString=function(){return this.h};var c="jscomp_symbol_"+(1E9*Math.random()>>>0)+"_",d=0,e=function(f){if(this instanceof e)throw new TypeError("Symbol is not a constructor");return new b(c+(f||"")+"_"+d++,f)};return e});
p("Symbol.iterator",function(a){if(a)return a;a=Symbol("Symbol.iterator");for(var b="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),c=0;c<b.length;c++){var d=fa[b[c]];"function"===typeof d&&"function"!=typeof d.prototype[a]&&ba(d.prototype,a,{configurable:!0,writable:!0,value:function(){return ha(aa(this))}})}return a});
var ha=function(a){a={next:a};a[Symbol.iterator]=function(){return this};return a},q=function(a){return a.raw=a},r=function(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):{next:aa(a)}},ia=function(a){if(!(a instanceof Array)){a=r(a);for(var b,c=[];!(b=a.next()).done;)c.push(b.value);a=c}return a},ka=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},la="function"==typeof Object.assign?Object.assign:function(a,b){for(var c=1;c<arguments.length;c++){var d=
arguments[c];if(d)for(var e in d)ka(d,e)&&(a[e]=d[e])}return a};p("Object.assign",function(a){return a||la});
var ma="function"==typeof Object.create?Object.create:function(a){var b=function(){};b.prototype=a;return new b},na=function(){function a(){function c(){}new c;Reflect.construct(c,[],function(){});return new c instanceof c}if("undefined"!=typeof Reflect&&Reflect.construct){if(a())return Reflect.construct;var b=Reflect.construct;return function(c,d,e){c=b(c,d);e&&Reflect.setPrototypeOf(c,e.prototype);return c}}return function(c,d,e){void 0===e&&(e=c);e=ma(e.prototype||Object.prototype);return Function.prototype.apply.call(c,
e,d)||e}}(),oa;if("function"==typeof Object.setPrototypeOf)oa=Object.setPrototypeOf;else{var pa;a:{var qa={a:!0},ra={};try{ra.__proto__=qa;pa=ra.a;break a}catch(a){}pa=!1}oa=pa?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null}
var sa=oa,t=function(a,b){a.prototype=ma(b.prototype);a.prototype.constructor=a;if(sa)sa(a,b);else for(var c in b)if("prototype"!=c)if(Object.defineProperties){var d=Object.getOwnPropertyDescriptor(b,c);d&&Object.defineProperty(a,c,d)}else a[c]=b[c];a.Ba=b.prototype},ta=function(){this.B=!1;this.l=null;this.A=void 0;this.h=1;this.I=this.j=0;this.o=null},va=function(a){if(a.B)throw new TypeError("Generator is already running");a.B=!0};ta.prototype.C=function(a){this.A=a};
var wa=function(a,b){a.o={Wd:b,Ff:!0};a.h=a.j||a.I};ta.prototype.return=function(a){this.o={return:a};this.h=this.I};
var xa=function(a,b,c){a.h=c;return{value:b}},ya=function(a){a.j=0;var b=a.o.Wd;a.o=null;return b},za=function(a){this.h=new ta;this.j=a},Da=function(a,b){va(a.h);var c=a.h.l;if(c)return Aa(a,"return"in c?c["return"]:function(d){return{value:d,done:!0}},b,a.h.return);a.h.return(b);return Ca(a)},Aa=function(a,b,c,d){try{var e=b.call(a.h.l,c);if(!(e instanceof Object))throw new TypeError("Iterator result "+e+" is not an object");if(!e.done)return a.h.B=!1,e;var f=e.value}catch(g){return a.h.l=null,
wa(a.h,g),Ca(a)}a.h.l=null;d.call(a.h,f);return Ca(a)},Ca=function(a){for(;a.h.h;)try{var b=a.j(a.h);if(b)return a.h.B=!1,{value:b.value,done:!1}}catch(c){a.h.A=void 0,wa(a.h,c)}a.h.B=!1;if(a.h.o){b=a.h.o;a.h.o=null;if(b.Ff)throw b.Wd;return{value:b.return,done:!0}}return{value:void 0,done:!0}},Ea=function(a){this.next=function(b){va(a.h);a.h.l?b=Aa(a,a.h.l.next,b,a.h.C):(a.h.C(b),b=Ca(a));return b};this.throw=function(b){va(a.h);a.h.l?b=Aa(a,a.h.l["throw"],b,a.h.C):(wa(a.h,b),b=Ca(a));return b};
this.return=function(b){return Da(a,b)};this[Symbol.iterator]=function(){return this}},Fa=function(a){function b(d){return a.next(d)}function c(d){return a.throw(d)}return new Promise(function(d,e){function f(g){g.done?d(g.value):Promise.resolve(g.value).then(b,c).then(f,e)}f(a.next())})},Ga=function(a){return Fa(new Ea(new za(a)))},Ha=function(){for(var a=Number(this),b=[],c=a;c<arguments.length;c++)b[c-a]=arguments[c];return b};p("Reflect",function(a){return a?a:{}});p("Reflect.construct",function(){return na});
p("Reflect.setPrototypeOf",function(a){return a?a:sa?function(b,c){try{return sa(b,c),!0}catch(d){return!1}}:null});
p("Promise",function(a){function b(){this.h=null}function c(g){return g instanceof e?g:new e(function(h){h(g)})}if(a)return a;b.prototype.j=function(g){if(null==this.h){this.h=[];var h=this;this.l(function(){h.A()})}this.h.push(g)};var d=fa.setTimeout;b.prototype.l=function(g){d(g,0)};b.prototype.A=function(){for(;this.h&&this.h.length;){var g=this.h;this.h=[];for(var h=0;h<g.length;++h){var k=g[h];g[h]=null;try{k()}catch(n){this.o(n)}}}this.h=null};b.prototype.o=function(g){this.l(function(){throw g;
})};var e=function(g){this.h=0;this.l=void 0;this.j=[];this.C=!1;var h=this.o();try{g(h.resolve,h.reject)}catch(k){h.reject(k)}};e.prototype.o=function(){function g(n){return function(m){k||(k=!0,n.call(h,m))}}var h=this,k=!1;return{resolve:g(this.H),reject:g(this.A)}};e.prototype.H=function(g){if(g===this)this.A(new TypeError("A Promise cannot resolve to itself"));else if(g instanceof e)this.L(g);else{a:switch(typeof g){case "object":var h=null!=g;break a;case "function":h=!0;break a;default:h=!1}h?
this.G(g):this.B(g)}};e.prototype.G=function(g){var h=void 0;try{h=g.then}catch(k){this.A(k);return}"function"==typeof h?this.M(h,g):this.B(g)};e.prototype.A=function(g){this.I(2,g)};e.prototype.B=function(g){this.I(1,g)};e.prototype.I=function(g,h){if(0!=this.h)throw Error("Cannot settle("+g+", "+h+"): Promise already settled in state"+this.h);this.h=g;this.l=h;2===this.h&&this.J();this.K()};e.prototype.J=function(){var g=this;d(function(){if(g.F()){var h=fa.console;"undefined"!==typeof h&&h.error(g.l)}},
1)};e.prototype.F=function(){if(this.C)return!1;var g=fa.CustomEvent,h=fa.Event,k=fa.dispatchEvent;if("undefined"===typeof k)return!0;"function"===typeof g?g=new g("unhandledrejection",{cancelable:!0}):"function"===typeof h?g=new h("unhandledrejection",{cancelable:!0}):(g=fa.document.createEvent("CustomEvent"),g.initCustomEvent("unhandledrejection",!1,!0,g));g.promise=this;g.reason=this.l;return k(g)};e.prototype.K=function(){if(null!=this.j){for(var g=0;g<this.j.length;++g)f.j(this.j[g]);this.j=
null}};var f=new b;e.prototype.L=function(g){var h=this.o();g.ec(h.resolve,h.reject)};e.prototype.M=function(g,h){var k=this.o();try{g.call(h,k.resolve,k.reject)}catch(n){k.reject(n)}};e.prototype.then=function(g,h){function k(u,y){return"function"==typeof u?function(A){try{n(u(A))}catch(F){m(F)}}:y}var n,m,x=new e(function(u,y){n=u;m=y});this.ec(k(g,n),k(h,m));return x};e.prototype.catch=function(g){return this.then(void 0,g)};e.prototype.ec=function(g,h){function k(){switch(n.h){case 1:g(n.l);break;
case 2:h(n.l);break;default:throw Error("Unexpected state: "+n.h);}}var n=this;null==this.j?f.j(k):this.j.push(k);this.C=!0};e.resolve=c;e.reject=function(g){return new e(function(h,k){k(g)})};e.race=function(g){return new e(function(h,k){for(var n=r(g),m=n.next();!m.done;m=n.next())c(m.value).ec(h,k)})};e.all=function(g){var h=r(g),k=h.next();return k.done?c([]):new e(function(n,m){function x(A){return function(F){u[A]=F;y--;0==y&&n(u)}}var u=[],y=0;do u.push(void 0),y++,c(k.value).ec(x(u.length-
1),m),k=h.next();while(!k.done)})};return e});p("Array.prototype.find",function(a){return a?a:function(b,c){a:{var d=this;d instanceof String&&(d=String(d));for(var e=d.length,f=0;f<e;f++){var g=d[f];if(b.call(c,g,f,d)){b=g;break a}}b=void 0}return b}});
p("WeakMap",function(a){function b(){}function c(k){var n=typeof k;return"object"===n&&null!==k||"function"===n}function d(k){if(!ka(k,f)){var n=new b;ba(k,f,{value:n})}}function e(k){var n=Object[k];n&&(Object[k]=function(m){if(m instanceof b)return m;Object.isExtensible(m)&&d(m);return n(m)})}if(function(){if(!a||!Object.seal)return!1;try{var k=Object.seal({}),n=Object.seal({}),m=new a([[k,2],[n,3]]);if(2!=m.get(k)||3!=m.get(n))return!1;m.delete(k);m.set(n,4);return!m.has(k)&&4==m.get(n)}catch(x){return!1}}())return a;
var f="$jscomp_hidden_"+Math.random();e("freeze");e("preventExtensions");e("seal");var g=0,h=function(k){this.h=(g+=Math.random()+1).toString();if(k){k=r(k);for(var n;!(n=k.next()).done;)n=n.value,this.set(n[0],n[1])}};h.prototype.set=function(k,n){if(!c(k))throw Error("Invalid WeakMap key");d(k);if(!ka(k,f))throw Error("WeakMap key fail: "+k);k[f][this.h]=n;return this};h.prototype.get=function(k){return c(k)&&ka(k,f)?k[f][this.h]:void 0};h.prototype.has=function(k){return c(k)&&ka(k,f)&&ka(k[f],
this.h)};h.prototype.delete=function(k){return c(k)&&ka(k,f)&&ka(k[f],this.h)?delete k[f][this.h]:!1};return h});
p("Map",function(a){if(function(){if(!a||"function"!=typeof a||!a.prototype.entries||"function"!=typeof Object.seal)return!1;try{var h=Object.seal({x:4}),k=new a(r([[h,"s"]]));if("s"!=k.get(h)||1!=k.size||k.get({x:4})||k.set({x:4},"t")!=k||2!=k.size)return!1;var n=k.entries(),m=n.next();if(m.done||m.value[0]!=h||"s"!=m.value[1])return!1;m=n.next();return m.done||4!=m.value[0].x||"t"!=m.value[1]||!n.next().done?!1:!0}catch(x){return!1}}())return a;var b=new WeakMap,c=function(h){this.j={};this.h=f();
this.size=0;if(h){h=r(h);for(var k;!(k=h.next()).done;)k=k.value,this.set(k[0],k[1])}};c.prototype.set=function(h,k){h=0===h?0:h;var n=d(this,h);n.list||(n.list=this.j[n.id]=[]);n.oa?n.oa.value=k:(n.oa={next:this.h,Ra:this.h.Ra,head:this.h,key:h,value:k},n.list.push(n.oa),this.h.Ra.next=n.oa,this.h.Ra=n.oa,this.size++);return this};c.prototype.delete=function(h){h=d(this,h);return h.oa&&h.list?(h.list.splice(h.index,1),h.list.length||delete this.j[h.id],h.oa.Ra.next=h.oa.next,h.oa.next.Ra=h.oa.Ra,
h.oa.head=null,this.size--,!0):!1};c.prototype.clear=function(){this.j={};this.h=this.h.Ra=f();this.size=0};c.prototype.has=function(h){return!!d(this,h).oa};c.prototype.get=function(h){return(h=d(this,h).oa)&&h.value};c.prototype.entries=function(){return e(this,function(h){return[h.key,h.value]})};c.prototype.keys=function(){return e(this,function(h){return h.key})};c.prototype.values=function(){return e(this,function(h){return h.value})};c.prototype.forEach=function(h,k){for(var n=this.entries(),
m;!(m=n.next()).done;)m=m.value,h.call(k,m[1],m[0],this)};c.prototype[Symbol.iterator]=c.prototype.entries;var d=function(h,k){var n=k&&typeof k;"object"==n||"function"==n?b.has(k)?n=b.get(k):(n=""+ ++g,b.set(k,n)):n="p_"+k;var m=h.j[n];if(m&&ka(h.j,n))for(h=0;h<m.length;h++){var x=m[h];if(k!==k&&x.key!==x.key||k===x.key)return{id:n,list:m,index:h,oa:x}}return{id:n,list:m,index:-1,oa:void 0}},e=function(h,k){var n=h.h;return ha(function(){if(n){for(;n.head!=h.h;)n=n.Ra;for(;n.next!=n.head;)return n=
n.next,{done:!1,value:k(n)};n=null}return{done:!0,value:void 0}})},f=function(){var h={};return h.Ra=h.next=h.head=h},g=0;return c});p("Math.trunc",function(a){return a?a:function(b){b=Number(b);if(isNaN(b)||Infinity===b||-Infinity===b||0===b)return b;var c=Math.floor(Math.abs(b));return 0>b?-c:c}});
var Ia=function(a,b){a instanceof String&&(a+="");var c=0,d=!1,e={next:function(){if(!d&&c<a.length){var f=c++;return{value:b(f,a[f]),done:!1}}d=!0;return{done:!0,value:void 0}}};e[Symbol.iterator]=function(){return e};return e};
p("Array.from",function(a){return a?a:function(b,c,d){c=null!=c?c:function(h){return h};var e=[],f="undefined"!=typeof Symbol&&Symbol.iterator&&b[Symbol.iterator];if("function"==typeof f){b=f.call(b);for(var g=0;!(f=b.next()).done;)e.push(c.call(d,f.value,g++))}else for(f=b.length,g=0;g<f;g++)e.push(c.call(d,b[g],g));return e}});p("Array.prototype.keys",function(a){return a?a:function(){return Ia(this,function(b){return b})}});
p("Array.prototype.values",function(a){return a?a:function(){return Ia(this,function(b,c){return c})}});p("Array.prototype.fill",function(a){return a?a:function(b,c,d){var e=this.length||0;0>c&&(c=Math.max(0,e+c));if(null==d||d>e)d=e;d=Number(d);0>d&&(d=Math.max(0,e+d));for(c=Number(c||0);c<d;c++)this[c]=b;return this}});var Ja=function(a){return a?a:Array.prototype.fill};p("Int8Array.prototype.fill",Ja);p("Uint8Array.prototype.fill",Ja);p("Uint8ClampedArray.prototype.fill",Ja);
p("Int16Array.prototype.fill",Ja);p("Uint16Array.prototype.fill",Ja);p("Int32Array.prototype.fill",Ja);p("Uint32Array.prototype.fill",Ja);p("Float32Array.prototype.fill",Ja);p("Float64Array.prototype.fill",Ja);p("Object.setPrototypeOf",function(a){return a||sa});
var Ka=function(a,b,c){if(null==a)throw new TypeError("The 'this' value for String.prototype."+c+" must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype."+c+" must not be a regular expression");return a+""};p("String.prototype.startsWith",function(a){return a?a:function(b,c){var d=Ka(this,b,"startsWith");b+="";var e=d.length,f=b.length;c=Math.max(0,Math.min(c|0,d.length));for(var g=0;g<f&&c<e;)if(d[c++]!=b[g++])return!1;return g>=f}});
p("String.prototype.repeat",function(a){return a?a:function(b){var c=Ka(this,null,"repeat");if(0>b||1342177279<b)throw new RangeError("Invalid count value");b|=0;for(var d="";b;)if(b&1&&(d+=c),b>>>=1)c+=c;return d}});p("Object.is",function(a){return a?a:function(b,c){return b===c?0!==b||1/b===1/c:b!==b&&c!==c}});
p("Array.prototype.includes",function(a){return a?a:function(b,c){var d=this;d instanceof String&&(d=String(d));var e=d.length;c=c||0;for(0>c&&(c=Math.max(c+e,0));c<e;c++){var f=d[c];if(f===b||Object.is(f,b))return!0}return!1}});p("String.prototype.includes",function(a){return a?a:function(b,c){return-1!==Ka(this,b,"includes").indexOf(b,c||0)}});
p("String.prototype.padStart",function(a){return a?a:function(b,c){var d=Ka(this,null,"padStart");b-=d.length;c=void 0!==c?String(c):" ";return(0<b&&c?c.repeat(Math.ceil(b/c.length)).substring(0,b):"")+d}});p("Math.imul",function(a){return a?a:function(b,c){b=Number(b);c=Number(c);var d=b&65535,e=c&65535;return d*e+((b>>>16&65535)*e+d*(c>>>16&65535)<<16>>>0)|0}});
p("Array.prototype.flatMap",function(a){return a?a:function(b,c){var d=[];Array.prototype.forEach.call(this,function(e,f){e=b.call(c,e,f,this);Array.isArray(e)?d.push.apply(d,e):d.push(e)});return d}});
var La=La||{},v=this||self,w=function(a,b,c){a=a.split(".");c=c||v;a[0]in c||"undefined"==typeof c.execScript||c.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)a.length||void 0===b?c[d]&&c[d]!==Object.prototype[d]?c=c[d]:c=c[d]={}:c[d]=b},Ma=function(a,b){a=a.split(".");b=b||v;for(var c=0;c<a.length;c++)if(b=b[a[c]],null==b)return null;return b},Na=function(a){var b=typeof a;b="object"!=b?b:a?Array.isArray(a)?"array":b:"null";return"array"==b||"object"==b&&"number"==typeof a.length},Oa=
function(a){var b=typeof a;return"object"==b&&null!=a||"function"==b},Ra=function(a){return Object.prototype.hasOwnProperty.call(a,Pa)&&a[Pa]||(a[Pa]=++Qa)},Sa=function(a){null!==a&&"removeAttribute"in a&&a.removeAttribute(Pa);try{delete a[Pa]}catch(b){}},Pa="closure_uid_"+(1E9*Math.random()>>>0),Qa=0,Ta=function(a,b,c){return a.call.apply(a.bind,arguments)},Ua=function(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var e=Array.prototype.slice.call(arguments);
Array.prototype.unshift.apply(e,d);return a.apply(b,e)}}return function(){return a.apply(b,arguments)}},Va=function(a,b,c){Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Va=Ta:Va=Ua;return Va.apply(null,arguments)},Wa=function(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var d=c.slice();d.push.apply(d,arguments);return a.apply(this,d)}},Xa=function(){return Date.now()},Ya=function(a,b){function c(){}c.prototype=b.prototype;a.Ba=b.prototype;
a.prototype=new c;a.prototype.constructor=a;a.ji=function(d,e,f){for(var g=Array(arguments.length-2),h=2;h<arguments.length;h++)g[h-2]=arguments[h];return b.prototype[e].apply(d,g)}},Za=function(a){return a};function $a(a,b){if(Error.captureStackTrace)Error.captureStackTrace(this,$a);else{var c=Error().stack;c&&(this.stack=c)}a&&(this.message=String(a));void 0!==b&&(this.cause=b)}Ya($a,Error);$a.prototype.name="CustomError";var ab;var bb,cb="undefined"!==typeof TextEncoder;function db(a){v.setTimeout(function(){throw a;},0)};var eb=function(a,b){var c=a.length-b.length;return 0<=c&&a.indexOf(b,c)==c},fb=function(a){return/^[\s\xa0]*$/.test(a)},ib=String.prototype.trim?function(a){return a.trim()}:function(a){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(a)[1]},jb=/&/g,kb=/</g,lb=/>/g,nb=/"/g,ob=/'/g,pb=/\x00/g,qb=/[\x00&<>"']/,rb=function(a,b){return-1!=a.toLowerCase().indexOf(b.toLowerCase())},tb=function(a,b){var c=0;a=ib(String(a)).split(".");b=ib(String(b)).split(".");for(var d=Math.max(a.length,b.length),e=0;0==c&&
e<d;e++){var f=a[e]||"",g=b[e]||"";do{f=/(\d*)(\D*)(.*)/.exec(f)||["","","",""];g=/(\d*)(\D*)(.*)/.exec(g)||["","","",""];if(0==f[0].length&&0==g[0].length)break;c=sb(0==f[1].length?0:parseInt(f[1],10),0==g[1].length?0:parseInt(g[1],10))||sb(0==f[2].length,0==g[2].length)||sb(f[2],g[2]);f=f[3];g=g[3]}while(0==c)}return c},sb=function(a,b){return a<b?-1:a>b?1:0};function ub(){var a=v.navigator;return a&&(a=a.userAgent)?a:""}function z(a){return-1!=ub().indexOf(a)};function vb(){return z("Trident")||z("MSIE")}function wb(){return z("Firefox")||z("FxiOS")}function xb(){return z("Safari")&&!(yb()||z("Coast")||z("Opera")||z("Edge")||z("Edg/")||z("OPR")||wb()||z("Silk")||z("Android"))}function yb(){return(z("Chrome")||z("CriOS"))&&!z("Edge")||z("Silk")};function zb(){return z("iPhone")&&!z("iPod")&&!z("iPad")};var Ab=function(a,b){if("string"===typeof a)return"string"!==typeof b||1!=b.length?-1:a.indexOf(b,0);for(var c=0;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},Bb=function(a,b){for(var c=a.length,d="string"===typeof a?a.split(""):a,e=0;e<c;e++)e in d&&b.call(void 0,d[e],e,a)};function Cb(a,b){for(var c="string"===typeof a?a.split(""):a,d=a.length-1;0<=d;--d)d in c&&b.call(void 0,c[d],d,a)}
var Db=function(a,b){for(var c=a.length,d=[],e=0,f="string"===typeof a?a.split(""):a,g=0;g<c;g++)if(g in f){var h=f[g];b.call(void 0,h,g,a)&&(d[e++]=h)}return d},Eb=function(a,b){for(var c=a.length,d=Array(c),e="string"===typeof a?a.split(""):a,f=0;f<c;f++)f in e&&(d[f]=b.call(void 0,e[f],f,a));return d},Fb=function(a,b,c){var d=c;Bb(a,function(e,f){d=b.call(void 0,d,e,f,a)});return d},Gb=function(a,b){for(var c=a.length,d="string"===typeof a?a.split(""):a,e=0;e<c;e++)if(e in d&&b.call(void 0,d[e],
e,a))return!0;return!1};function Hb(a,b){b=Ib(a,b);return 0>b?null:"string"===typeof a?a.charAt(b):a[b]}function Ib(a,b){for(var c=a.length,d="string"===typeof a?a.split(""):a,e=0;e<c;e++)if(e in d&&b.call(void 0,d[e],e,a))return e;return-1}function Jb(a,b){for(var c="string"===typeof a?a.split(""):a,d=a.length-1;0<=d;d--)if(d in c&&b.call(void 0,c[d],d,a))return d;return-1}function Kb(a,b){return 0<=Ab(a,b)}function Lb(a,b){b=Ab(a,b);var c;(c=0<=b)&&Mb(a,b);return c}
function Mb(a,b){return 1==Array.prototype.splice.call(a,b,1).length}function Nb(a,b){var c=0;Cb(a,function(d,e){b.call(void 0,d,e,a)&&Mb(a,e)&&c++})}function Ob(a){return Array.prototype.concat.apply([],arguments)}function Pb(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}function Qb(a){for(var b=0,c=0,d={};c<a.length;){var e=a[c++],f=Oa(e)?"o"+Ra(e):(typeof e).charAt(0)+e;Object.prototype.hasOwnProperty.call(d,f)||(d[f]=!0,a[b++]=e)}a.length=b}
function Rb(a,b){a.sort(b||Sb)}function Sb(a,b){return a>b?1:a<b?-1:0}function Tb(a){for(var b=[],c=0;c<a;c++)b[c]="";return b};var Ub=function(a){Ub[" "](a);return a};Ub[" "]=function(){};var Vb=function(a,b){try{return Ub(a[b]),!0}catch(c){}return!1},Xb=function(a){var b=Wb;return Object.prototype.hasOwnProperty.call(b,8)?b[8]:b[8]=a(8)};var Yb=z("Opera"),Zb=vb(),$b=z("Edge"),ac=z("Gecko")&&!(rb(ub(),"WebKit")&&!z("Edge"))&&!(z("Trident")||z("MSIE"))&&!z("Edge"),bc=rb(ub(),"WebKit")&&!z("Edge"),cc=z("Macintosh"),ec=z("Android"),fc=zb(),gc=z("iPad"),hc=z("iPod"),ic=zb()||z("iPad")||z("iPod"),jc=function(){var a=v.document;return a?a.documentMode:void 0},kc;
a:{var lc="",mc=function(){var a=ub();if(ac)return/rv:([^\);]+)(\)|;)/.exec(a);if($b)return/Edge\/([\d\.]+)/.exec(a);if(Zb)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(bc)return/WebKit\/(\S+)/.exec(a);if(Yb)return/(?:Version)[ \/]?(\S+)/.exec(a)}();mc&&(lc=mc?mc[1]:"");if(Zb){var nc=jc();if(null!=nc&&nc>parseFloat(lc)){kc=String(nc);break a}}kc=lc}var oc=kc,Wb={},pc=function(){return Xb(function(){return 0<=tb(oc,8)})},qc;
if(v.document&&Zb){var rc=jc();qc=rc?rc:parseInt(oc,10)||void 0}else qc=void 0;var sc=qc;var tc=wb(),uc=z("Android")&&!(yb()||wb()||z("Opera")||z("Silk")),vc=yb();xb();var wc={},xc=null,Ac=function(a,b){void 0===b&&(b=0);zc();b=wc[b];for(var c=Array(Math.floor(a.length/3)),d=b[64]||"",e=0,f=0;e<a.length-2;e+=3){var g=a[e],h=a[e+1],k=a[e+2],n=b[g>>2];g=b[(g&3)<<4|h>>4];h=b[(h&15)<<2|k>>6];k=b[k&63];c[f++]=""+n+g+h+k}n=0;k=d;switch(a.length-e){case 2:n=a[e+1],k=b[(n&15)<<2]||d;case 1:a=a[e],c[f]=""+b[a>>2]+b[(a&3)<<4|n>>4]+k+d}return c.join("")},Cc=function(a){var b=[];Bc(a,function(c){b.push(c)});return b},Bc=function(a,b){function c(k){for(;d<a.length;){var n=a.charAt(d++),
m=xc[n];if(null!=m)return m;if(!fb(n))throw Error("Unknown base64 encoding at char: "+n);}return k}zc();for(var d=0;;){var e=c(-1),f=c(0),g=c(64),h=c(64);if(64===h&&-1===e)break;b(e<<2|f>>4);64!=g&&(b(f<<4&240|g>>2),64!=h&&b(g<<6&192|h))}},zc=function(){if(!xc){xc={};for(var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),b=["+/=","+/","-_=","-_.","-_"],c=0;5>c;c++){var d=a.concat(b[c].split(""));wc[c]=d;for(var e=0;e<d.length;e++){var f=d[e];void 0===xc[f]&&(xc[f]=e)}}}};var Dc="undefined"!==typeof Uint8Array,Ec=!Zb&&"function"===typeof v.btoa,Fc,Gc={};var Hc="function"===typeof Symbol&&"symbol"===typeof Symbol()?Symbol():void 0;function Ic(a,b){if(Hc)return a[Hc]|=b;if(void 0!==a.Ga)return a.Ga|=b;Object.defineProperties(a,{Ga:{value:b,configurable:!0,writable:!0,enumerable:!1}});return b}function Jc(a,b){var c=Kc(a);(c&b)!==b&&(Object.isFrozen(a)&&(a=Array.prototype.slice.call(a)),Lc(a,c|b));return a}function Mc(a,b){Hc?a[Hc]&&(a[Hc]&=~b):void 0!==a.Ga&&(a.Ga&=~b)}function Kc(a){var b;Hc?b=a[Hc]:b=a.Ga;return null==b?0:b}
function Lc(a,b){Hc?a[Hc]=b:void 0!==a.Ga?a.Ga=b:Object.defineProperties(a,{Ga:{value:b,configurable:!0,writable:!0,enumerable:!1}})}function Nc(a){Ic(a,1);return a}function Oc(a){return!!(Kc(a)&2)}function Pc(a){Ic(a,16);return a}function Qc(a,b){Lc(b,(a|0)&-51)}function Rc(a,b){Lc(b,(a|18)&-41)};var Sc={};function Tc(a){return null!==a&&"object"===typeof a&&!Array.isArray(a)&&a.constructor===Object}var Uc,Vc,Wc=[];Lc(Wc,23);Vc=Object.freeze(Wc);var Xc=function(a){if(Oc(a.da))throw Error("Cannot mutate an immutable Message");};function Yc(a){var b=a.length;(b=b?a[b-1]:void 0)&&Tc(b)?b.g=1:(b={},a.push((b.g=1,b)))};function Zc(a){if(null!=a&&"number"!==typeof a)throw Error("Value of float/double field must be a number|null|undefined, found "+typeof a+": "+a);return a}function $c(a,b,c){var d=!1;if(null!=a&&"object"===typeof a&&!(d=Array.isArray(a))&&a.kd===Sc)return a;if(d)return new b(a);if(c)return new b};var ad=function(a){var b=a.j+a.fb;return a.xa||(a.xa=a.da[b]={})},B=function(a,b,c){return-1===b?null:b>=a.j?a.xa?a.xa[b]:void 0:c&&a.xa&&(c=a.xa[b],null!=c)?c:a.da[b+a.fb]},C=function(a,b,c,d){Xc(a);return bd(a,b,c,d)},bd=function(a,b,c,d){a.l&&(a.l=void 0);if(b>=a.j||d)return ad(a)[b]=c,a;a.da[b+a.fb]=c;(c=a.xa)&&b in c&&delete c[b];return a};
function cd(a,b,c,d,e){var f=B(a,b,d);Array.isArray(f)||(f=Vc);var g=Kc(f);g&1||Nc(f);if(e)g&2||Ic(f,2),c&1||Object.freeze(f);else{e=!(c&2);var h=g&2;c&1||!h?e&&g&16&&!h&&Mc(f,16):(f=Nc(Array.prototype.slice.call(f)),bd(a,b,f,d))}return f}
var dd=function(a,b,c){return cd(a,b,0,void 0===c?!1:c,Oc(a.da))},ed=function(a,b){var c=B(a,b);var d=null==c?c:"number"===typeof c||"NaN"===c||"Infinity"===c||"-Infinity"===c?Number(c):void 0;null!=d&&d!==c&&bd(a,b,d);return d},fd=function(a,b){a=B(a,b);return null==a?a:!!a},gd=function(a,b,c,d){c=null==c?Vc:Jc(c,1);return C(a,b,c,d)};function hd(a,b,c,d){Xc(a);c!==d?bd(a,b,c):bd(a,b,void 0,!1);return a}
var id=function(a,b){for(var c=0,d=0;d<b.length;d++){var e=b[d];null!=B(a,e)&&(0!==c&&bd(a,c,void 0,!1),c=e)}return c},kd=function(a,b,c){var d=void 0===d?!1:d;var e=B(a,c,d);b=$c(e,b);b!==e&&null!=b&&(bd(a,c,b,d),Ic(b.da,Kc(a.da)&18));e=b;if(null==e)return e;Oc(a.da)||(b=jd(e),b!==e&&(e=b,bd(a,c,e,d)));return e};
function ld(a,b,c,d,e){a.h||(a.h={});var f=a.h[c],g=cd(a,c,3,void 0,e);if(!f){var h=g;f=[];var k=!!(Kc(a.da)&16);g=Oc(h);var n=h;!e&&g&&(h=Array.prototype.slice.call(h));for(var m=g,x=0;x<h.length;x++){var u=h[x];var y=b,A=!1;A=void 0===A?!1:A;u=Array.isArray(u)?new y(u):A?new y:void 0;if(void 0!==u){y=u.da;var F=A=Kc(y);g&&(F|=2);k&&(F|=16);F!=A&&Lc(y,F);y=F;m=m||!!(2&y);f.push(u)}}a.h[c]=f;k=Kc(h);b=k|33;b=m?b&-9:b|8;k!=b&&(m=h,Object.isFrozen(m)&&(m=Array.prototype.slice.call(m)),Lc(m,b),h=m);
n!==h&&bd(a,c,h);(e||d&&g)&&Ic(f,2);d&&Object.freeze(f);return f}e||(e=Object.isFrozen(f),d&&!e?Object.freeze(f):!d&&e&&(f=Array.prototype.slice.call(f),a.h[c]=f));return f}
var md=function(a,b,c){var d=Oc(a.da);b=ld(a,b,c,d,d);a=cd(a,c,3,void 0,d);if(!(d||Kc(a)&8)){for(d=0;d<b.length;d++){c=b[d];var e=jd(c);c!==e&&(b[d]=e,a[d]=e.da)}Ic(a,8)}return b},nd=function(a,b,c){Xc(a);null==c&&(c=void 0);return bd(a,b,c)},od=function(a,b,c,d){Xc(a);var e=null==c?Vc:Nc([]);if(null!=c){for(var f=!!c.length,g=0;g<c.length;g++){var h=c[g];f=f&&!Oc(h.da);e[g]=h.da}e=Jc(e,(f?8:0)|1);a.h||(a.h={});a.h[b]=c}else a.h&&(a.h[b]=void 0);return bd(a,b,e,d)},pd=function(a,b,c,d){Xc(a);var e=
ld(a,c,b,!1,!1);c=null!=d?d:new c;a=cd(a,b,2,void 0,!1);e.push(c);a.push(c.da);Oc(c.da)&&Mc(a,8);return c},qd=function(a){a=B(a,7);return null==a?void 0:a};function rd(a,b){return null==a?b:a}var sd=function(a,b,c){c=id(a,c)===b;return rd(B(a,c?b:-1),0)};var td;function ud(a,b){td=b;a=new a(b);td=void 0;return a};function vd(a){switch(typeof a){case "number":return isFinite(a)?a:String(a);case "object":if(a)if(Array.isArray(a)){if(0!==(Kc(a)&128))return a=Array.prototype.slice.call(a),Yc(a),a}else if(Dc&&null!=a&&a instanceof Uint8Array){if(Ec){for(var b="";10240<a.length;)b+=String.fromCharCode.apply(null,a.subarray(0,10240)),a=a.subarray(10240);b+=String.fromCharCode.apply(null,a);a=btoa(b)}else a=Ac(a);return a}}return a};function xd(a,b,c,d){if(null!=a){if(Array.isArray(a))a=yd(a,b,c,void 0!==d);else if(Tc(a)){var e={},f;for(f in a)e[f]=xd(a[f],b,c,d);a=e}else a=b(a,d);return a}}function yd(a,b,c,d){var e=Kc(a);d=d?!!(e&16):void 0;a=Array.prototype.slice.call(a);for(var f=0;f<a.length;f++)a[f]=xd(a[f],b,c,d);c(e,a);return a}function zd(a){return a.kd===Sc?a.toJSON():vd(a)}function Ad(a,b){a&128&&Yc(b)};function Bd(a,b,c){c=void 0===c?Rc:c;if(null!=a){if(Dc&&a instanceof Uint8Array)return b?a:new Uint8Array(a);if(Array.isArray(a)){var d=Kc(a);if(d&2)return a;if(b&&!(d&32)&&(d&16||0===d))return Lc(a,d|2),a;a=yd(a,Bd,d&4?Rc:c,!0);b=Kc(a);b&4&&b&2&&Object.freeze(a);return a}return a.kd===Sc?Cd(a):a}}function Dd(a,b,c,d,e,f,g){(a=a.h&&a.h[c])?(d=Kc(a),d&2?d=a:(f=Eb(a,Cd),Rc(d,f),Object.freeze(f),d=f),od(b,c,d,e)):C(b,c,Bd(d,f,g),e)}function Cd(a){if(Oc(a.da))return a;a=Ed(a,!0);Ic(a.da,2);return a}
function Ed(a,b){var c=a.da,d=Pc([]),e=a.constructor.messageId;e&&d.push(e);e=a.xa;if(e){d.length=c.length;d.fill(void 0,d.length,c.length);var f={};d[d.length-1]=f}0!==(Kc(c)&128)&&Yc(d);b=b||Oc(a.da)?Rc:Qc;d=ud(a.constructor,d);a.ed&&(d.ed=a.ed.slice());f=!!(Kc(c)&16);for(var g=e?c.length-1:c.length,h=0;h<g;h++)Dd(a,d,h-a.fb,c[h],!1,f,b);if(e)for(var k in e)Dd(a,d,+k,e[k],!0,f,b);return d}function jd(a){if(!Oc(a.da))return a;var b=Ed(a,!1);b.l=a;return b};var D=function(a,b,c,d){null==a&&(a=td);td=void 0;var e=this.constructor.messageId,f=!1;if(null==a){a=e?[e]:[];var g=48;var h=!0;d&&(g|=128);Lc(a,g)}else{if(!Array.isArray(a))throw Error();if(e&&e!==a[0])throw Error();var k=g=Ic(a,0);if(h=0!==(16&k))(f=0!==(32&k))||(k|=32);if(d){if(!(k&128)&&0<a.length){var n=a[a.length-1];if(Tc(n)&&"g"in n){k|=128;delete n.g;var m=!0,x;for(x in n){m=!1;break}m&&a.pop()}else throw Error();}}else if(128&k)throw Error();g!==k&&Lc(a,k)}this.fb=e?0:-1;this.h=void 0;this.da=
a;a:{g=this.da.length;e=g-1;if(g&&(g=this.da[e],Tc(g))){this.xa=g;this.j=e-this.fb;break a}void 0!==b&&-1<b?(this.j=Math.max(b,e+1-this.fb),this.xa=void 0):this.j=Number.MAX_VALUE}if(!d&&this.xa&&"g"in this.xa)throw Error('Unexpected "g" flag in sparse object of message that is not a group type.');if(c){b=h&&!f&&!0;d=this.j;var u;for(h=0;h<c.length;h++)f=c[h],f<d?(f+=this.fb,(e=a[f])?Fd(e,b):a[f]=Vc):(u||(u=ad(this)),(e=u[f])?Fd(e,b):u[f]=Vc)}};
D.prototype.toJSON=function(){var a=this.da;return Uc?a:yd(a,zd,Ad)};var Hd=function(a){Uc=!0;try{return JSON.stringify(a.toJSON(),Gd)}finally{Uc=!1}};function Fd(a,b){if(Array.isArray(a)){var c=Kc(a),d=1;!b||c&2||(d|=16);(c&d)!==d&&Lc(a,c|d)}}D.prototype.kd=Sc;D.prototype.toString=function(){return this.da.toString()};function Gd(a,b){return vd(b)};var Id=0,Jd=0;function Kd(a){var b=0>a;a=Math.abs(a);var c=a>>>0;a=Math.floor((a-c)/4294967296);b&&(c=r(Ld(c,a)),b=c.next().value,a=c.next().value,c=b);Id=c>>>0;Jd=a>>>0}var Md="function"===typeof BigInt;
function Nd(a){if(16>a.length)Kd(Number(a));else if(Md)a=BigInt(a),Id=Number(a&BigInt(4294967295))>>>0,Jd=Number(a>>BigInt(32)&BigInt(4294967295));else{var b=+("-"===a[0]);Jd=Id=0;for(var c=a.length,d=0+b,e=(c-b)%6+b;e<=c;d=e,e+=6)d=Number(a.slice(d,e)),Jd*=1E6,Id=1E6*Id+d,4294967296<=Id&&(Jd+=Id/4294967296|0,Id%=4294967296);b&&(b=r(Ld(Id,Jd)),a=b.next().value,b=b.next().value,Id=a,Jd=b)}}function Ld(a,b){b=~b;a?a=~a+1:b+=1;return[a,b]};var Od=function(a,b){this.j=a>>>0;this.h=b>>>0},Qd=function(a){if(!a)return Pd||(Pd=new Od(0,0));if(!/^\d+$/.test(a))return null;Nd(a);return new Od(Id,Jd)},Pd,Rd=function(a,b){this.j=a>>>0;this.h=b>>>0},Td=function(a){if(!a)return Sd||(Sd=new Rd(0,0));if(!/^-?\d+$/.test(a))return null;Nd(a);return new Rd(Id,Jd)},Sd;var Ud=function(){this.h=[]};Ud.prototype.length=function(){return this.h.length};Ud.prototype.end=function(){var a=this.h;this.h=[];return a};
var Vd=function(a,b,c){for(;0<c||127<b;)a.h.push(b&127|128),b=(b>>>7|c<<25)>>>0,c>>>=7;a.h.push(b)},Wd=function(a,b){for(;127<b;)a.h.push(b&127|128),b>>>=7;a.h.push(b)},Xd=function(a,b){if(0<=b)Wd(a,b);else{for(var c=0;9>c;c++)a.h.push(b&127|128),b>>=7;a.h.push(1)}},Yd=function(a,b){a.h.push(b>>>0&255);a.h.push(b>>>8&255);a.h.push(b>>>16&255);a.h.push(b>>>24&255)};var Zd=function(){this.l=[];this.j=0;this.h=new Ud},$d=function(a,b){0!==b.length&&(a.l.push(b),a.j+=b.length)},be=function(a,b){ae(a,b,2);b=a.h.end();$d(a,b);b.push(a.j);return b},ce=function(a,b){var c=b.pop();for(c=a.j+a.h.length()-c;127<c;)b.push(c&127|128),c>>>=7,a.j++;b.push(c);a.j++},de=function(a,b){if(b=b.ed){$d(a,a.h.end());for(var c=0;c<b.length;c++)$d(a,b[c].pi(Gc)||Fc||(Fc=new Uint8Array(0)))}},ae=function(a,b,c){Wd(a.h,8*b+c)};function ee(a,b,c){if(c){var d={},e;for(e in c){var f=c[e],g=f.ng;g||(d.Gb=f.si||f.yi.Mc,f.cf?(d.Pc=fe(f.cf),g=function(h){return function(k,n,m){return h.Gb(k,n,m,h.Pc)}}(d)):f.Jf?(d.Oc=ge(f.mf.Ud,f.Jf),g=function(h){return function(k,n,m){return h.Gb(k,n,m,h.Oc)}}(d)):g=d.Gb,f.ng=g);g(b,a,f.mf);d={Gb:d.Gb,Pc:d.Pc,Oc:d.Oc}}}de(b,a)}
function he(a,b){var c=a[b];"function"==typeof c&&0===c.length&&(c=c(),a[b]=c);return Array.isArray(c)&&(ie in c||je in c||0<c.length&&"function"==typeof c[0])?c:void 0}var ke=Symbol();function fe(a){var b=a[ke];if(!b){var c=le(a);b=function(d,e){return me(d,e,c)};a[ke]=b}return b}function ge(a,b){var c=a[ke];c||(c=function(d,e){return ee(d,e,b)},a[ke]=c);return c}var je=Symbol();function ne(a,b){a.push(b)}function oe(a,b,c){a.push(b,c.Mc)}
function pe(a,b,c,d){var e=fe(d),f=le(d).Ud,g=c.Mc;a.push(b,function(h,k,n){return g(h,k,n,f,e)})}function qe(a,b,c,d,e,f){var g=ge(d,f),h=c.Mc;a.push(b,function(k,n,m){return h(k,n,m,d,g)})}
function le(a){var b=a[je];if(b)return b;b=a[je]=[];var c=ne,d=oe,e=pe,f=qe;b.Ud=a[0];var g=1;if(a.length>g&&"number"!==typeof a[g]){var h=a[g++];c(b,h)}for(;g<a.length;){c=a[g++];for(var k=g+1;k<a.length&&"number"!==typeof a[k];)k++;h=a[g++];k-=g;switch(k){case 0:d(b,c,h);break;case 1:(k=he(a,g))?(g++,e(b,c,h,k)):d(b,c,h,a[g++]);break;case 2:k=b;var n=g++;n=he(a,n);e(k,c,h,n,a[g++]);break;case 3:f(b,c,h,a[g++],a[g++],a[g++]);break;case 4:f(b,c,h,a[g++],a[g++],a[g++],a[g++]);break;default:throw Error("unexpected number of binary field arguments: "+
k);}}ie in a&&je in a&&(a.length=0);return b}var ie=Symbol();function me(a,b,c){for(var d=c.length,e=1==d%2,f=e?1:0;f<d;f+=2)(0,c[f+1])(b,a,c[f]);ee(a,b,e?c[0]:void 0)}function re(a,b){return{xi:a,Mc:b}}function se(a,b,c){b=B(b,c);null!=b&&("string"===typeof b&&Td(b),null!=b&&(ae(a,c,0),"number"===typeof b?(a=a.h,Kd(b),Vd(a,Id,Jd)):(c=Td(b),Vd(a.h,c.j,c.h))))}function te(a,b,c){b=B(b,c);null!=b&&null!=b&&(ae(a,c,0),Xd(a.h,b))}
var ue=re(function(a,b,c){if(1!==a.h())return!1;a=a.B();hd(b,c,Zc(a),0);return!0},function(a,b,c){b=ed(b,c);if(null!=b){ae(a,c,1);a=a.h;var d=+b;if(0===d)Jd=0<1/d?0:2147483648,Id=0;else if(isNaN(d))Jd=2147483647,Id=4294967295;else if(d=(c=0>d?-2147483648:0)?-d:d,1.7976931348623157E308<d)Jd=(c|2146435072)>>>0,Id=0;else if(2.2250738585072014E-308>d)b=d/Math.pow(2,-1074),Jd=(c|b/4294967296)>>>0,Id=b>>>0;else{var e=d;b=0;if(2<=e)for(;2<=e&&1023>b;)b++,e/=2;else for(;1>e&&-1022<b;)e*=2,b--;d*=Math.pow(2,
-b);Jd=(c|b+1023<<20|1048576*d&1048575)>>>0;Id=4503599627370496*d>>>0}Yd(a,Id);Yd(a,Jd)}}),ve=re(function(a,b,c){if(5!==a.h())return!1;C(b,c,a.I());return!0},function(a,b,c){b=ed(b,c);if(null!=b){ae(a,c,5);a=a.h;var d=+b;0===d?0<1/d?Id=Jd=0:(Jd=0,Id=2147483648):isNaN(d)?(Jd=0,Id=2147483647):(d=(c=0>d?-2147483648:0)?-d:d,3.4028234663852886E38<d?(Jd=0,Id=(c|2139095040)>>>0):1.1754943508222875E-38>d?(d=Math.round(d/Math.pow(2,-149)),Jd=0,Id=(c|d)>>>0):(b=Math.floor(Math.log(d)/Math.LN2),d*=Math.pow(2,
-b),d=Math.round(8388608*d),16777216<=d&&++b,Jd=0,Id=(c|b+127<<23|d&8388607)>>>0));Yd(a,Id)}}),we=re(function(a,b,c){if(0!==a.h())return!1;C(b,c,a.l());return!0},se),xe=re(function(a,b,c){if(0!==a.h())return!1;a=a.l();hd(b,c,a,0);return!0},se),ye=re(function(a,b,c){if(0!==a.h())return!1;C(b,c,a.K());return!0},function(a,b,c){b=B(b,c);null!=b&&("string"===typeof b&&Qd(b),null!=b&&(ae(a,c,0),"number"===typeof b?(a=a.h,Kd(b),Vd(a,Id,Jd)):(c=Qd(b),Vd(a.h,c.j,c.h))))}),ze=re(function(a,b,c){if(0!==a.h())return!1;
C(b,c,a.j());return!0},te),Ae=re(function(a,b,c){if(0!==a.h())return!1;a=a.j();hd(b,c,a,0);return!0},te),Be=re(function(a,b,c){if(0!==a.h())return!1;C(b,c,a.A());return!0},function(a,b,c){b=fd(b,c);null!=b&&(ae(a,c,0),a.h.h.push(b?1:0))}),Ce=re(function(a,b,c){if(2!==a.h())return!1;C(b,c,a.F());return!0},function(a,b,c){b=B(b,c);if(null!=b){var d=!1;d=void 0===d?!1:d;if(cb){if(d&&/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/.test(b))throw Error("Found an unpaired surrogate");
b=(bb||(bb=new TextEncoder)).encode(b)}else{for(var e=0,f=new Uint8Array(3*b.length),g=0;g<b.length;g++){var h=b.charCodeAt(g);if(128>h)f[e++]=h;else{if(2048>h)f[e++]=h>>6|192;else{if(55296<=h&&57343>=h){if(56319>=h&&g<b.length){var k=b.charCodeAt(++g);if(56320<=k&&57343>=k){h=1024*(h-55296)+k-56320+65536;f[e++]=h>>18|240;f[e++]=h>>12&63|128;f[e++]=h>>6&63|128;f[e++]=h&63|128;continue}else g--}if(d)throw Error("Found an unpaired surrogate");h=65533}f[e++]=h>>12|224;f[e++]=h>>6&63|128}f[e++]=h&63|
128}}b=e===f.length?f:f.subarray(0,e)}ae(a,c,2);Wd(a.h,b.length);$d(a,a.h.end());$d(a,b)}}),De=re(function(a,b,c,d,e){if(2!==a.h())return!1;var f=a.o;Xc(b);var g=B(b,c);d=jd($c(g,d,!0));g!==d&&bd(b,c,d);f.call(a,d,e);return!0},function(a,b,c,d,e){b=kd(b,d,c);null!=b&&(c=be(a,c),e(b,a),ce(a,c))}),Ee=re(function(a,b,c,d,e){if(2!==a.h())return!1;a.o(pd(b,c,d),e);return!0},function(a,b,c,d,e){b=md(b,d,c);if(null!=b)for(d=0;d<b.length;d++){var f=be(a,c);e(b[d],a);ce(a,f)}}),Fe=re(function(a,b,c){if(0!==
a.h())return!1;C(b,c,a.C());return!0},function(a,b,c){b=B(b,c);null!=b&&(b=parseInt(b,10),ae(a,c,0),Xd(a.h,b))});function Ge(a){return function(){var b=new Zd;me(this,b,le(a));$d(b,b.h.end());for(var c=new Uint8Array(b.j),d=b.l,e=d.length,f=0,g=0;g<e;g++){var h=d[g];c.set(h,f);f+=h.length}b.l=[c];return c}}function He(a){return function(b){if(null==b||""==b)b=new a;else{b=JSON.parse(b);if(!Array.isArray(b))throw Error(void 0);b=ud(a,Pc(b))}return b}};var Ke=function(a,b){this.h=a===Ie&&b||"";this.j=Je};Ke.prototype.Ya=!0;Ke.prototype.La=function(){return this.h};var Le=function(a){return a instanceof Ke&&a.constructor===Ke&&a.j===Je?a.h:"type_error:Const"},Je={},Ie={};var Me=function(){},Ne=function(a){var b=!1,c;return function(){b||(c=a(),b=!0);return c}},Oe=function(a){var b=a;return function(){if(b){var c=b;b=null;c()}}},Pe=function(a){var b=0,c=!1,d=[],e=function(){b=0;c&&(c=!1,f())},f=function(){b=v.setTimeout(e,1E3);var g=d;d=[];a.apply(void 0,g)};return function(g){d=arguments;b?c=!0:f()}};var Qe=Ne(function(){var a=!1;try{var b=Object.defineProperty({},"passive",{get:function(){a=!0}});v.addEventListener("test",null,b)}catch(c){}return a});function Re(a){return a?a.passive&&Qe()?a:a.capture||!1:!1}var Se=function(a,b,c,d){return a.addEventListener?(a.addEventListener(b,c,Re(d)),!0):!1},Te=function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,Re())};function Ue(a){a&&"function"==typeof a.W&&a.W()};var E=function(){this.K=this.K;this.I=this.I};E.prototype.K=!1;E.prototype.ya=function(){return this.K};E.prototype.W=function(){this.K||(this.K=!0,this.N())};var We=function(a,b){Ve(a,Wa(Ue,b))},Ve=function(a,b){a.K?b():(a.I||(a.I=[]),a.I.push(b))};E.prototype.N=function(){if(this.I)for(;this.I.length;)this.I.shift()()};var Xe=function(a,b){this.h=a;this.defaultValue=void 0===b?!1:b},Ye=function(a,b){this.h=a;this.defaultValue=void 0===b?0:b},Ze=function(a){var b=void 0===b?[]:b;this.h=a;this.defaultValue=b};var $e=new Xe(471855283),af=new Xe(1930),bf=new Ye(494575051),cf=new Ze(489560439),df=new Ze(505762507),ef=new Ye(360261971),ff=new Ye(1921,72),gf=new Ye(1920,12),jf=new Ye(426169222,1E3),kf=new Ye(1917,300),lf=new Ye(1916,.001),mf=new Xe(478498873,!0),nf=new Xe(478009624),of=new Xe(370946349),pf=new Ye(406149835),qf=new Ze(1932);var rf=function(){var a;this.h=a=void 0===a?{}:a};rf.prototype.reset=function(){this.h={}};var sf=Zb||bc;function tf(a,b,c){for(var d in a)b.call(c,a[d],d,a)}function uf(a,b){var c={},d;for(d in a)b.call(void 0,a[d],d,a)&&(c[d]=a[d]);return c}function vf(a){var b=wf,c;for(c in b)if(a.call(void 0,b[c],c,b))return!0;return!1}function xf(a){var b=yf,c;for(c in b)if(!a.call(void 0,b[c],c,b))return!1;return!0}function zf(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function Af(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b}
function Bf(a,b){var c=Na(b),d=c?b:arguments;for(c=c?0:1;c<d.length;c++){if(null==a)return;a=a[d[c]]}return a}function Cf(a,b){return null!==a&&b in a}function Df(a,b){for(var c in a)if(a[c]==b)return!0;return!1}function Ef(a){var b=Ff,c;for(c in b)if(a.call(void 0,b[c],c,b))return c}function Gf(a){for(var b in a)return!1;return!0}function Hf(a){for(var b in a)delete a[b]}function If(a,b,c){return null!==a&&b in a?a[b]:c}var Jf="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");
function Kf(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<Jf.length;f++)c=Jf[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};var Lf,Mf=function(){if(void 0===Lf){var a=null,b=v.trustedTypes;if(b&&b.createPolicy){try{a=b.createPolicy("goog#html",{createHTML:Za,createScript:Za,createScriptURL:Za})}catch(c){v.console&&v.console.error(c.message)}Lf=a}else Lf=a}return Lf};var Of=function(a,b){this.h=b===Nf?a:""};Of.prototype.toString=function(){return this.h+""};Of.prototype.Ya=!0;Of.prototype.La=function(){return this.h.toString()};var Pf=function(a){return a instanceof Of&&a.constructor===Of?a.h:"type_error:TrustedResourceUrl"},Nf={},Qf=function(a){var b=Mf();a=b?b.createScriptURL(a):a;return new Of(a,Nf)};var Sf=function(a,b){this.h=b===Rf?a:""};Sf.prototype.toString=function(){return this.h.toString()};Sf.prototype.Ya=!0;Sf.prototype.La=function(){return this.h.toString()};
var Tf=function(a){return a instanceof Sf&&a.constructor===Sf?a.h:"type_error:SafeUrl"},Uf=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Vf=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i,Xf=function(a){if(a instanceof Sf)return a;a="object"==typeof a&&a.Ya?a.La():String(a);Vf.test(a)?a=Wf(a):(a=String(a).replace(/(%0A|%0D)/g,""),a=a.match(Uf)?Wf(a):null);return a},Yf;try{new URL("s://g"),Yf=!0}catch(a){Yf=!1}var Zf=Yf,Rf={},Wf=function(a){return new Sf(a,Rf)},$f=Wf("about:invalid#zClosurez");var ag={},bg=function(a,b){this.h=b===ag?a:"";this.Ya=!0};bg.prototype.La=function(){return this.h};bg.prototype.toString=function(){return this.h.toString()};var cg=new bg("",ag);var dg={},eg=function(a,b){this.h=b===dg?a:"";this.Ya=!0};eg.prototype.La=function(){return this.h.toString()};eg.prototype.toString=function(){return this.h.toString()};var fg=function(a){return a instanceof eg&&a.constructor===eg?a.h:"type_error:SafeHtml"},gg=function(a){var b=Mf();a=b?b.createHTML(a):a;return new eg(a,dg)};var hg=/^[\w+/_-]+[=]{0,2}$/,ig=function(a,b){b=(b||v).document;return b.querySelector?(a=b.querySelector(a))&&(a=a.nonce||a.getAttribute("nonce"))&&hg.test(a)?a:"":""};var jg=function(a,b){this.x=void 0!==a?a:0;this.y=void 0!==b?b:0};l=jg.prototype;l.wb=function(a){return a instanceof jg&&(this==a?!0:this&&a?this.x==a.x&&this.y==a.y:!1)};l.ceil=function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this};l.floor=function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this};l.round=function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this};l.scale=function(a,b){this.x*=a;this.y*="number"===typeof b?b:a;return this};var G=function(a,b){this.width=a;this.height=b};l=G.prototype;l.aspectRatio=function(){return this.width/this.height};l.isEmpty=function(){return!(this.width*this.height)};l.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};l.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};l.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};
l.scale=function(a,b){this.width*=a;this.height*="number"===typeof b?b:a;return this};var kg=function(a){return decodeURIComponent(a.replace(/\+/g," "))},lg=function(a,b){a.length>b&&(a=a.substring(0,b-3)+"...");return a},mg=String.prototype.repeat?function(a,b){return a.repeat(b)}:function(a,b){return Array(b+1).join(a)},ng=function(a){return null==a?"":String(a)},og=2147483648*Math.random()|0,pg=function(a){return String(a).replace(/\-([a-z])/g,function(b,c){return c.toUpperCase()})},qg=function(){return"googleAvInapp".replace(/([A-Z])/g,"-$1").toLowerCase()},rg=function(a){return a.replace(RegExp("(^|[\\s]+)([a-z])",
"g"),function(b,c,d){return c+d.toUpperCase()})},sg=function(a){isFinite(a)&&(a=String(a));return"string"===typeof a?/^\s*-?0x/i.test(a)?parseInt(a,16):parseInt(a,10):NaN};var vg=function(a){return a?new tg(ug(a)):ab||(ab=new tg)},wg=function(a){var b=document;return"string"===typeof a?b.getElementById(a):a},yg=function(a,b){tf(b,function(c,d){c&&"object"==typeof c&&c.Ya&&(c=c.La());"style"==d?a.style.cssText=c:"class"==d?a.className=c:"for"==d?a.htmlFor=c:xg.hasOwnProperty(d)?a.setAttribute(xg[d],c):0==d.lastIndexOf("aria-",0)||0==d.lastIndexOf("data-",0)?a.setAttribute(d,c):a[d]=c})},xg={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",
height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"},Ag=function(a){a=a.document;a=zg(a)?a.documentElement:a.body;return new G(a.clientWidth,a.clientHeight)},Bg=function(a){var b=a.scrollingElement?a.scrollingElement:!bc&&zg(a)?a.documentElement:a.body||a.documentElement;a=a.parentWindow||a.defaultView;return Zb&&a.pageYOffset!=b.scrollTop?new jg(b.scrollLeft,b.scrollTop):new jg(a.pageXOffset||b.scrollLeft,a.pageYOffset||
b.scrollTop)},H=function(a){return a?a.parentWindow||a.defaultView:window},Eg=function(a,b,c){var d=arguments,e=document,f=d[1],g=Cg(e,String(d[0]));f&&("string"===typeof f?g.className=f:Array.isArray(f)?g.className=f.join(" "):yg(g,f));2<d.length&&Dg(e,g,d,2);return g},Dg=function(a,b,c,d){function e(h){h&&b.appendChild("string"===typeof h?a.createTextNode(h):h)}for(;d<c.length;d++){var f=c[d];if(!Na(f)||Oa(f)&&0<f.nodeType)e(f);else{a:{if(f&&"number"==typeof f.length){if(Oa(f)){var g="function"==
typeof f.item||"string"==typeof f.item;break a}if("function"===typeof f){g="function"==typeof f.item;break a}}g=!1}Bb(g?Pb(f):f,e)}}},Cg=function(a,b){b=String(b);"application/xhtml+xml"===a.contentType&&(b=b.toLowerCase());return a.createElement(b)},zg=function(a){return"CSS1Compat"==a.compatMode},Fg=function(a){a&&a.parentNode&&a.parentNode.removeChild(a)},Gg=function(a){var b;if(sf&&(b=a.parentElement))return b;b=a.parentNode;return Oa(b)&&1==b.nodeType?b:null},Hg=function(a,b){if(!a||!b)return!1;
if(a.contains&&1==b.nodeType)return a==b||a.contains(b);if("undefined"!=typeof a.compareDocumentPosition)return a==b||!!(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a},ug=function(a){return 9==a.nodeType?a:a.ownerDocument||a.document},Ig=function(a){try{return a.contentWindow||(a.contentDocument?H(a.contentDocument):null)}catch(b){}return null},Jg=function(a,b){a&&(a=a.parentNode);for(var c=0;a;){if(b(a))return a;a=a.parentNode;c++}return null},tg=function(a){this.h=a||
v.document||document};tg.prototype.getElementsByTagName=function(a,b){return(b||this.h).getElementsByTagName(String(a))};tg.prototype.appendChild=function(a,b){a.appendChild(b)};tg.prototype.append=function(a,b){Dg(ug(a),a,arguments,1)};tg.prototype.canHaveChildren=function(a){if(1!=a.nodeType)return!1;switch(a.tagName){case "APPLET":case "AREA":case "BASE":case "BR":case "COL":case "COMMAND":case "EMBED":case "FRAME":case "HR":case "IMG":case "INPUT":case "IFRAME":case "ISINDEX":case "KEYGEN":case "LINK":case "NOFRAMES":case "NOSCRIPT":case "META":case "OBJECT":case "PARAM":case "SCRIPT":case "SOURCE":case "STYLE":case "TRACK":case "WBR":return!1}return!0};var Lg=function(){return!Kg()&&(z("iPod")||z("iPhone")||z("Android")||z("IEMobile"))},Kg=function(){return z("iPad")||z("Android")&&!z("Mobile")||z("Silk")};var Mg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$"),Ng=function(a){var b=a.match(Mg);a=b[1];var c=b[3];b=b[4];var d="";a&&(d+=a+":");c&&(d=d+"//"+c,b&&(d+=":"+b));return d},Og=function(a,b){if(a){a=a.split("&");for(var c=0;c<a.length;c++){var d=a[c].indexOf("="),e=null;if(0<=d){var f=a[c].substring(0,d);e=a[c].substring(d+1)}else f=a[c];b(f,e?kg(e):"")}}},Pg=/#|$/,Qg=function(a,b){var c=a.search(Pg);a:{var d=
0;for(var e=b.length;0<=(d=a.indexOf(b,d))&&d<c;){var f=a.charCodeAt(d-1);if(38==f||63==f)if(f=a.charCodeAt(d+e),!f||61==f||38==f||35==f)break a;d+=e+1}d=-1}if(0>d)return null;e=a.indexOf("&",d);if(0>e||e>c)e=c;d+=b.length+1;return kg(a.slice(d,-1!==e?e:0))};var Rg=function(a){var b=[],c=[],d={},e=function(f,g){var h=g+"  ";try{if(void 0===f)b.push("undefined");else if(null===f)b.push("NULL");else if("string"===typeof f)b.push('"'+f.replace(/\n/g,"\n"+g)+'"');else if("function"===typeof f)b.push(String(f).replace(/\n/g,"\n"+g));else if(Oa(f)){f[Pa]||c.push(f);var k=Ra(f);if(d[k])b.push("*** reference loop detected (id="+k+") ***");else{d[k]=!0;b.push("{");for(var n in f)"function"!==typeof f[n]&&(b.push("\n"),b.push(h),b.push(n+" = "),e(f[n],h));b.push("\n"+
g+"}");delete d[k]}}else b.push(f)}catch(m){b.push("*** "+m+" ***")}};e(a,"");for(a=0;a<c.length;a++)Sa(c[a]);return b.join("")};/*

 SPDX-License-Identifier: Apache-2.0
*/
var Sg;try{new URL("s://g"),Sg=!0}catch(a){Sg=!1}var Tg=Sg;function Ug(a,b){if(void 0!==a.tagName){if("script"===a.tagName.toLowerCase())throw Error("");if("style"===a.tagName.toLowerCase())throw Error("");}a.innerHTML=fg(b)};function Vg(a){var b,c,d=null==(c=(b=(a.ownerDocument&&a.ownerDocument.defaultView||window).document).querySelector)?void 0:c.call(b,"script[nonce]");(b=d?d.nonce||d.getAttribute("nonce")||"":"")&&a.setAttribute("nonce",b)};function Wg(a,b){a.write(fg(b))};var Xg=function(a){this.Hf=a};function Yg(a){return new Xg(function(b){return b.substr(0,a.length+1).toLowerCase()===a+":"})}var Zg=[Yg("data"),Yg("http"),Yg("https"),Yg("mailto"),Yg("ftp"),new Xg(function(a){return/^[^:]*([/?#]|$)/.test(a)})];var $g=function(a){try{return!!a&&null!=a.location.href&&Vb(a,"foo")}catch(b){return!1}},bh=function(a){var b=void 0===b?!1:b;var c=void 0===c?v:c;for(var d=0;c&&40>d++&&(!b&&!$g(c)||!a(c));)c=ah(c)},ch=function(){var a=window;bh(function(b){a=b;return!1});return a},ah=function(a){try{var b=a.parent;if(b&&b!=a)return b}catch(c){}return null},dh=function(a,b){if(a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&b(a[c],c,a)},eh=function(a){var b=a.length;if(0==b)return 0;for(var c=305419896,
d=0;d<b;d++)c^=(c<<5)+(c>>2)+a.charCodeAt(d)&4294967295;return 0<c?c:4294967296+c};function fh(a){var b,c;return null!=(c=null==(b=/https?:\/\/[^\/]+/.exec(a))?void 0:b[0])?c:""}var gh=function(){var a=v;try{for(var b=null;b!=a;b=a,a=a.parent)switch(a.location.protocol){case "https:":return!0;case "file:":return!0;case "http:":return!1}}catch(c){}return!0},hh=function(a,b){try{return!(!a.frames||!a.frames[b])}catch(c){return!1}},ih=function(a,b){for(var c=0;50>c;++c){if(hh(a,b))return a;if(!(a=ah(a)))break}return null};
function jh(a,b){if(a.length&&b.head){a=r(a);for(var c=a.next();!c.done;c=a.next())if((c=c.value)&&b.head){var d=kh("META");b.head.appendChild(d);d.httpEquiv="origin-trial";d.content=c}}}
var lh=function(){var a=window;if("number"!==typeof a.goog_pvsid)try{Object.defineProperty(a,"goog_pvsid",{value:Math.floor(Math.random()*Math.pow(2,52)),configurable:!1})}catch(b){}return Number(a.goog_pvsid)||-1},kh=function(a,b){b=void 0===b?document:b;return b.createElement(String(a).toLowerCase())},mh=function(a){for(var b=a;a&&a!=a.parent;)a=a.parent,$g(a)&&(b=a);return b};var I=function(a,b,c,d){this.top=a;this.right=b;this.bottom=c;this.left=d};I.prototype.getWidth=function(){return this.right-this.left};I.prototype.getHeight=function(){return this.bottom-this.top};var nh=function(a){return new I(a.top,a.right,a.bottom,a.left)};I.prototype.expand=function(a,b,c,d){Oa(a)?(this.top-=a.top,this.right+=a.right,this.bottom+=a.bottom,this.left-=a.left):(this.top-=a,this.right+=Number(b),this.bottom+=Number(c),this.left-=Number(d));return this};
var oh=function(a,b){return a==b?!0:a&&b?a.top==b.top&&a.right==b.right&&a.bottom==b.bottom&&a.left==b.left:!1};I.prototype.ceil=function(){this.top=Math.ceil(this.top);this.right=Math.ceil(this.right);this.bottom=Math.ceil(this.bottom);this.left=Math.ceil(this.left);return this};I.prototype.floor=function(){this.top=Math.floor(this.top);this.right=Math.floor(this.right);this.bottom=Math.floor(this.bottom);this.left=Math.floor(this.left);return this};
I.prototype.round=function(){this.top=Math.round(this.top);this.right=Math.round(this.right);this.bottom=Math.round(this.bottom);this.left=Math.round(this.left);return this};var ph=function(a,b,c){b instanceof jg?(a.left+=b.x,a.right+=b.x,a.top+=b.y,a.bottom+=b.y):(a.left+=b,a.right+=b,"number"===typeof c&&(a.top+=c,a.bottom+=c));return a};I.prototype.scale=function(a,b){b="number"===typeof b?b:a;this.left*=a;this.right*=a;this.top*=b;this.bottom*=b;return this};var qh=function(a,b,c,d){this.left=a;this.top=b;this.width=c;this.height=d},rh=function(a){return new I(a.top,a.left+a.width,a.top+a.height,a.left)};l=qh.prototype;l.yb=function(){return new G(this.width,this.height)};l.ceil=function(){this.left=Math.ceil(this.left);this.top=Math.ceil(this.top);this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};
l.floor=function(){this.left=Math.floor(this.left);this.top=Math.floor(this.top);this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};l.round=function(){this.left=Math.round(this.left);this.top=Math.round(this.top);this.width=Math.round(this.width);this.height=Math.round(this.height);return this};l.scale=function(a,b){b="number"===typeof b?b:a;this.left*=a;this.width*=a;this.top*=b;this.height*=b;return this};function sh(a){a=void 0===a?v:a;var b=a.context||a.AMP_CONTEXT_DATA;if(!b)try{b=a.parent.context||a.parent.AMP_CONTEXT_DATA}catch(e){}var c,d;return(null==(c=b)?0:c.pageViewId)&&(null==(d=b)?0:d.canonicalUrl)?b:null};var th=function(){this.S={}},uh=function(){var a=sh(window);if(a){if(a){var b=a.pageViewId;a=a.clientId;"string"===typeof a&&(b+=a.replace(/\D/g,"").substr(0,6))}else b=null;return+b}b=mh(window);(a=b.google_global_correlator)||(b.google_global_correlator=a=1+Math.floor(Math.random()*Math.pow(2,43)));return a},wh=function(a,b){var c=vh[7]||"google_ps_7";a=a.S;var d=a[c];return void 0===d?(a[c]=b(),a[c]):d},xh=function(a){var b=uh();return wh(a,function(){return b})},zh=function(){if(yh)var a=yh;else{a=
((a=void 0===a?sh():a)?$g(a.master)?a.master:null:null)||window;var b=a.google_persistent_state_async;a=null!=b&&"object"==typeof b&&null!=b.S&&"object"==typeof b.S?yh=b:a.google_persistent_state_async=yh=new th}return xh(a)},yh=null,Ah={},vh=(Ah[8]="google_prev_ad_formats_by_region",Ah[9]="google_prev_ad_slotnames_by_region",Ah);var Ch=function(a,b,c,d,e){Bh(a,b,void 0===c?null:c,void 0===d?!1:d,void 0===e?!1:e)};function Bh(a,b,c,d,e){e=void 0===e?!1:e;a.google_image_requests||(a.google_image_requests=[]);var f=kh("IMG",a.document);if(c||d){var g=function(h){c&&c(h);d&&Lb(a.google_image_requests,f);Te(f,"load",g);Te(f,"error",g)};Se(f,"load",g);Se(f,"error",g)}e&&(f.attributionsrc="");f.src=b;a.google_image_requests.push(f)}
var Eh=function(a,b){var c=void 0===c?!1:c;var d="https://pagead2.googlesyndication.com/pagead/gen_204?id="+b;dh(a,function(e,f){e&&(d+="&"+f+"="+encodeURIComponent(e))});Dh(d,c)},Dh=function(a,b){var c=window;b=void 0===b?!1:b;var d=void 0===d?!1:d;c.fetch?(b={keepalive:!0,credentials:"include",redirect:"follow",method:"get",mode:"no-cors"},d&&(b.mode="cors",b.headers={"Attribution-Reporting-Eligible":"event-source"}),c.fetch(a,b)):Ch(c,a,void 0,b,d)};var Fh=function(a,b,c){c=void 0===c?{}:c;this.error=a;this.context=b.context;this.msg=b.message||"";this.id=b.id||"jserror";this.meta=c},Gh=function(a){return!!(a.error&&a.meta&&a.id)};function J(a){var b=Ha.apply(1,arguments);if(0===b.length)return Qf(a[0]);for(var c=[a[0]],d=0;d<b.length;d++)c.push(encodeURIComponent(b[d])),c.push(a[d+1]);return Qf(c.join(""))}function Hh(a,b){var c=Pf(a).toString();if(/#/.test(c))throw Error("");var d=/\?/.test(c)?"&":"?";b.forEach(function(e,f){e=e instanceof Array?e:[e];for(var g=0;g<e.length;g++){var h=e[g];null!==h&&void 0!==h&&(c+=d+encodeURIComponent(f)+"="+encodeURIComponent(String(h)),d="&")}});return Qf(c)};var Ih=q(["https://pagead2.googlesyndication.com/pagead/js/err_rep.js"]),Jh=function(){var a=void 0===a?"jserror":a;var b=void 0===b?.01:b;var c=void 0===c?J(Ih):c;this.j=a;this.l=!1;this.h=null;this.o=!1;this.C=Math.random();this.A=b;this.B=this.Pa;this.I=c};l=Jh.prototype;l.xd=function(a){this.j=a};l.Ic=function(a){this.h=a};l.yd=function(a){this.l=a};l.zd=function(a){this.o=a};
l.Pa=function(a,b,c,d,e){c=void 0===c?this.A:c;e=void 0===e?this.j:e;if((this.o?this.C:Math.random())>c)return this.l;Gh(b)||(b=new Fh(b,{context:a,id:e}));if(d||this.h)b.meta={},this.h&&this.h(b.meta),d&&d(b.meta);v.google_js_errors=v.google_js_errors||[];v.google_js_errors.push(b);v.error_rep_loaded||(b=v.document,a=kh("SCRIPT",b),a.src=Pf(this.I),Vg(a),(b=b.getElementsByTagName("script")[0])&&b.parentNode&&b.parentNode.insertBefore(a,b),v.error_rep_loaded=!0);return this.l};
l.nb=function(a,b,c){try{return b()}catch(d){if(!this.B(a,d,this.A,c,this.j))throw d;}};l.td=function(a,b,c,d){var e=this;return function(){var f=Ha.apply(0,arguments);return e.nb(a,function(){return b.apply(c,f)},d)}};var Kh=function(a){return a.prerendering?3:{visible:1,hidden:2,prerender:3,preview:4,unloaded:5}[a.visibilityState||a.webkitVisibilityState||a.mozVisibilityState||""]||0},Lh=function(a){var b;a.visibilityState?b="visibilitychange":a.mozVisibilityState?b="mozvisibilitychange":a.webkitVisibilityState&&(b="webkitvisibilitychange");return b};var Mh=null;function Nh(){var a=void 0===a?v:a;return(a=a.performance)&&a.now&&a.timing?Math.floor(a.now()+a.timing.navigationStart):Xa()}function Oh(){var a=void 0===a?v:a;return(a=a.performance)&&a.now?a.now():null}function Ph(a,b){b=void 0===b?v:b;var c,d;return(null==(c=b.performance)?void 0:null==(d=c.timing)?void 0:d[a])||0}
function Qh(){var a=void 0===a?v:a;var b=Math.min(Ph("domLoading",a)||Infinity,Ph("domInteractive",a)||Infinity);return Infinity===b?Math.max(Ph("responseEnd",a),Ph("navigationStart",a)):b};var Rh=function(a,b,c,d){this.label=a;this.type=b;this.value=c;this.duration=void 0===d?0:d;this.uniqueId=Math.random();this.taskId=this.slotId=void 0};var Sh=v.performance,Th=!!(Sh&&Sh.mark&&Sh.measure&&Sh.clearMarks),Uh=Ne(function(){var a;if(a=Th){var b;if(null===Mh){Mh="";try{a="";try{a=v.top.location.hash}catch(c){a=v.location.hash}a&&(Mh=(b=a.match(/\bdeid=([\d,]+)/))?b[1]:"")}catch(c){}}b=Mh;a=!!b.indexOf&&0<=b.indexOf("1337")}return a}),Vh=function(a,b){this.C=[];this.h=b||v;var c=null;b&&(b.google_js_reporting_queue=b.google_js_reporting_queue||[],this.C=b.google_js_reporting_queue,c=b.google_measure_js_timing);this.l=Uh()||(null!=c?c:Math.random()<
a)};Vh.prototype.I=function(){this.l=!1;this.C!=this.h.google_js_reporting_queue&&(Uh()&&Bb(this.C,Wh),this.C.length=0)};Vh.prototype.K=function(a){!this.l||2048<this.C.length||this.C.push(a)};var Wh=function(a){a&&Sh&&Uh()&&(Sh.clearMarks("goog_"+a.label+"_"+a.uniqueId+"_start"),Sh.clearMarks("goog_"+a.label+"_"+a.uniqueId+"_end"))};Vh.prototype.start=function(a,b){if(!this.l)return null;a=new Rh(a,b,Oh()||Nh());b="goog_"+a.label+"_"+a.uniqueId+"_start";Sh&&Uh()&&Sh.mark(b);return a};
Vh.prototype.end=function(a){if(this.l&&"number"===typeof a.value){a.duration=(Oh()||Nh())-a.value;var b="goog_"+a.label+"_"+a.uniqueId+"_end";Sh&&Uh()&&Sh.mark(b);this.K(a)}};var Xh=function(a){a=a._google_rum_ns_=a._google_rum_ns_||{};return a.pq=a.pq||[]};var Yh=function(a,b,c){dh(b,function(d,e){var f=c&&c[e];!d&&0!==d||f||(a+="&"+encodeURIComponent(e)+"="+encodeURIComponent(String(d)),c&&(c[e]=!0))});return a},ei=function(a,b,c,d,e,f,g,h){f=void 0===f?Infinity:f;g=void 0===g?!1:g;Vh.call(this,a,h);var k=this;this.F=0;this.M=f;this.aa=b;this.L=c;this.Z=d;this.ia=e;a=this.h.navigator;this.X=!("csi.gstatic.com"!==this.L||!a||!a.sendBeacon);this.A={};this.J={};this.h.performance&&this.h.performance.now||Zh(this,"dat",1);a&&a.deviceMemory&&Zh(this,"dmc",
a.deviceMemory);this.h===this.h.top&&Zh(this,"top",1);this.V=!g;this.O=function(){k.h.setTimeout(function(){return $h(k)},1100)};this.ca=[];this.U=function(){Zh(k,"uet",2);for(var m=r(k.ca),x=m.next();!x.done;x=m.next()){x=x.value;try{x()}catch(y){}}m=k.h;var u=void 0===u?{}:u;"function"===typeof window.CustomEvent?x=new CustomEvent("rum_blp",u):(x=document.createEvent("CustomEvent"),x.initCustomEvent("rum_blp",!!u.bubbles,!!u.cancelable,u.detail));m.dispatchEvent(x);$h(k);null!=k.A.uet&&(k.o-=3+
k.A.uet.length+2,delete k.A.uet)};this.na=Pe(function(){$h(k)});this.ua=function(){var m=k.h.document;(null!=m.hidden?m.hidden:null!=m.mozHidden?m.mozHidden:null!=m.webkitHidden&&m.webkitHidden)&&k.na()};this.G=this.h.setTimeout(function(){return $h(k)},5E3);this.B={};this.o=b.length+c.length+d.length+e.length+3;this.j=0;Bb(this.C,function(m){return ai(k,m)});this.H=[];b=Xh(this.h);var n=function(m){var x=m[0];m=m[1];var u=x.length+m.length+2;8E3<k.o+k.j+u&&$h(k);k.H.push([x,m]);k.j+=u;bi(k);return 0};
Bb(b,function(m){return n(m)});b.length=0;b.push=n;ci(this);di(this)};t(ei,Vh);
var di=function(a){"complete"===a.h.document.readyState?a.h.setTimeout(function(){return $h(a)},0):Se(a.h,"load",a.O);var b=Lh(a.h.document);"undefined"!==typeof b&&Se(a.h,b,a.ua);Se(a.h,"pagehide",a.U)},Zh=function(a,b,c){c=String(c);a.o=null!=a.A[b]?a.o+(c.length-a.A[b].length):a.o+(b.length+c.length+2);a.A[b]=c},hi=function(a,b,c,d,e){e=void 0===e?"":e;var f=fi(a,b,c,d,e);8E3<a.o+a.j+f&&($h(a),f=b.length+c.length+2);gi(a,b,c,d,e);a.j+=f;bi(a)},fi=function(a,b,c,d,e){return null==a.B[b]?b.length+
c.length+2:d?c.length+(void 0===e?"":e).length:c.length-a.B[b].length},gi=function(a,b,c,d,e){a.B[b]=d&&null!=a.B[b]?a.B[b]+(""+(void 0===e?"":e)+c):c},bi=function(a){6E3<=a.o+a.j&&$h(a)},$h=function(a){if(a.l&&a.V){try{if(a.j){var b=a.B;a.F++;var c=ii(a,b);b=!1;try{b=!!(a.X&&a.h.navigator&&a.h.navigator.sendBeacon(c,null))}catch(d){a.X=!1}b||Ch(a.h,c);ci(a);a.F===a.M&&a.I()}}catch(d){(new Jh).Pa(358,d)}a.B={};a.j=0;a.C.length=0;a.h.clearTimeout(a.G);a.G=0}},ii=function(a,b){var c=a.aa+"//"+a.L+a.Z+
a.ia,d={};c=Yh(c,a.A,d);c=Yh(c,b,d);b=a.h;b.google_timing_params&&(c=Yh(c,b.google_timing_params,d),b.google_timing_params=void 0);Bb(a.H,function(e){var f=r(e);e=f.next().value;f=f.next().value;var g={};c=Yh(c,(g[e]=f,g))});a.H.length=0;return c},ci=function(a){Zh(a,"puid",(a.F+1).toString(36)+"~"+Xa().toString(36))},ai=function(a,b){var c="met."+b.type,d="number"===typeof b.value?Math.round(b.value).toString(36):b.value,e=Math.round(b.duration);b=""+b.label+(null!=b.slotId?"_"+b.slotId:"")+("."+
d)+(0<e?"_"+e.toString(36):"")+(null!=b.taskId?"__"+Math.round(b.taskId).toString(36):"");hi(a,c,b,!0,"~")};ei.prototype.K=function(a){this.l&&this.F<this.M&&(Vh.prototype.K.call(this,a),ai(this,a))};ei.prototype.I=function(){Vh.prototype.I.call(this);this.h.clearTimeout(this.G);this.j=this.G=0;this.B={};Hf(this.J);Hf(this.A);Te(this.h,"load",this.O);Te(this.h,"pagehide",this.U)};var K=function(a){var b="kb";if(a.kb&&a.hasOwnProperty(b))return a.kb;b=new a;return a.kb=b};var L=function(){this.h=new ei(1,"https:","csi.gstatic.com","/csi?v=2&s=","ima",void 0,!0);var a=zh();null!=a&&Zh(this.h,"c",a);a=parseInt(this.h.A.c,10)/2;null!=a&&Zh(this.h,"slotId",a)},M=function(a,b,c){if(null!=c){a=a.h;var d=b+"="+c;a.J[d]||(hi(a,b,c,!1),1E3>d.length&&(a.J[d]=!0))}},ji=function(a,b){for(var c in b)b[c]="object"===typeof b[c]?encodeURIComponent(JSON.stringify(b[c])):encodeURIComponent(String(b[c]));a=a.h;c=!1;var d=0,e;for(e in b)null!=a.B[e]&&(c=!0),d+=fi(a,e,b[e],!1);(8E3<a.o+
a.j+d||c)&&$h(a);for(var f in b)gi(a,f,b[f],!1);a.j+=d;bi(a)},ki=function(a){var b=L.h().h,c=Nh()-0;b.l&&b.K(new Rh(a,4,c,0))};L.h=function(){return K(L)};var li=function(a){return/^\s*$/.test(a)?!1:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/(?:"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)[\s\u2028\u2029]*(?=:|,|]|}|$)/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,""))},mi=function(a){try{return v.JSON.parse(a)}catch(b){}a=String(a);if(li(a))try{return eval("("+a+")")}catch(b){}throw Error("Invalid JSON string: "+a);},ni=function(a){this.h=a},pi=function(a,b){var c=
[];oi(a,b,c);return c.join("")},oi=function(a,b,c){if(null==b)c.push("null");else{if("object"==typeof b){if(Array.isArray(b)){var d=b;b=d.length;c.push("[");for(var e="",f=0;f<b;f++)c.push(e),e=d[f],oi(a,a.h?a.h.call(d,String(f),e):e,c),e=",";c.push("]");return}if(b instanceof String||b instanceof Number||b instanceof Boolean)b=b.valueOf();else{c.push("{");f="";for(d in b)Object.prototype.hasOwnProperty.call(b,d)&&(e=b[d],"function"!=typeof e&&(c.push(f),qi(d,c),c.push(":"),oi(a,a.h?a.h.call(b,d,
e):e,c),f=","));c.push("}");return}}switch(typeof b){case "string":qi(b,c);break;case "number":c.push(isFinite(b)&&!isNaN(b)?String(b):"null");break;case "boolean":c.push(String(b));break;case "function":c.push("null");break;default:throw Error("Unknown type: "+typeof b);}}},ri={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},si=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g,qi=function(a,b){b.push('"',a.replace(si,
function(c){var d=ri[c];d||(d="\\u"+(c.charCodeAt(0)|65536).toString(16).slice(1),ri[c]=d);return d}),'"')};var ti=function(){this.l=null;this.h="missing-id";this.j=!1},vi=function(a){var b=null;try{b=document.getElementsByClassName("lima-exp-data")}catch(c){return ui("missing-element",a.h),null}if(1<b.length)return ui("multiple-elements",a.h),null;b=b[0];return b?b.innerHTML:(ui("missing-element",a.h),null)},xi=function(){var a=wi,b=vi(a);if(null!==b)if(li(b)){var c=JSON.parse(b);b=c.experimentIds;var d=c.binaryIdentifier;c=c.adEventId;var e="string"===typeof d;if("string"==typeof c){var f=L.h();null!=
c&&Zh(f.h,"qqid",c)}e&&(a.h=d);"string"!==typeof b?ui("missing-flags",a.h):(e||ui("missing-binary-id",a.h),a.l=b)}else ui("invalid-json",a.h)};ti.prototype.reset=function(){this.l=null;this.h="missing-id"};var zi=function(a,b,c,d,e){this.id=a;this.D=b;this.o=c;this.h=!1;this.l=d;this.j=e;this.o&&yi(this)},Ai=function(a){return a.h||a.o},yi=function(a){if(a.l&&a.j){var b=a.l;b&&Object.assign(a.j.h,b)}},Bi=function(){this.h=[]},Ci=function(){this.h=new Map;this.j=!1;this.A=new Bi;this.B=new zi(0,0,!1);this.l=[this.A];this.o=new rf},N=function(a){var b=Di;if(b.j||b.h.has(a.id)||null==a.D&&null==a.control||0==a.gf)return b.B;var c=b.A;if(null!=a.control)for(var d=r(b.l),e=d.next();!e.done;e=d.next()){if(e=
e.value,e.h.includes(a.control)){c=e;break}}else null!=a.Y&&(c=a.Y);d=0;null!=a.control?d=a.control.D:null!=a.D&&(d=a.D);a=new zi(a.id,d,!!a.mi,a.flags,b.o);c.h.push(a);b.l.includes(c)||b.l.push(c);b.h.set(a.id,a);return a},Ei=function(){var a=Di;return[].concat(ia(a.h.keys())).filter(function(b){return Ai(this.h.get(b))},a)},Fi=function(a){var b=Di;b.j||(a.h(b.l,b.h),b.j=!0)};
Ci.prototype.reset=function(){for(var a=r(this.h),b=a.next();!b.done;b=a.next())b=r(b.value),b.next(),b.next().value.h=!1;this.j=!1;this.o.reset()};var Di=new Ci,Hi=function(){return Gi.h.filter(function(a){return Ai(a)}).map(function(a){return a.id})};var Ii=function(){};Ii.prototype.h=function(a){a=r(a);for(var b=a.next();!b.done;b=a.next()){var c=0,d=Math.floor(1E3*Math.random());b=r(b.value.h);for(var e=b.next();!e.done;e=b.next())if(e=e.value,c+=e.D,d<c){e.h=!0;yi(e);break}}};var Ki=function(a){D.call(this,a,-1,Ji)};t(Ki,D);var Ji=[2,8],Li=[3,4,5];var Ni=function(a){D.call(this,a,-1,Mi)};t(Ni,D);var Mi=[4];var Pi=function(a){D.call(this,a,-1,Oi)};t(Pi,D);var Oi=[5],Qi=[1,2,3,6,7];var Si=function(a){D.call(this,a,-1,Ri)};t(Si,D);Si.prototype.getId=function(){return rd(B(this,1),0)};var Ri=[2];var Ui=function(a){D.call(this,a,-1,Ti)};t(Ui,D);var Ti=[2];var Wi=function(a){D.call(this,a,-1,Vi)};t(Wi,D);var Vi=[2];var Yi=function(a){D.call(this,a,-1,Xi)};t(Yi,D);var Xi=[1,4,2,3];function Zi(a,b){switch(b){case 1:return sd(a,1,Qi);case 2:return sd(a,2,Qi);case 3:return sd(a,3,Qi);case 6:return sd(a,6,Qi);default:return null}}
function $i(a,b){if(!a)return null;switch(b){case 1:return rd(fd(a,1),!1);case 7:return rd(B(a,3),"");case 2:var c=void 0===c?0:c;return rd(ed(a,2),c);case 3:return rd(B(a,3),"");case 6:b=Oc(a.da);c=cd(a,4,1,!1,b);var d=Kc(c);if(!(d&4)){Object.isFrozen(c)&&(c=Nc(c.slice()),bd(a,4,c,!1));for(var e=0,f=0;e<c.length;e++){var g=c[e];null!=g&&(c[f++]=g)}f<e&&(c.length=f);Ic(c,5);b&&(Ic(c,2),Object.freeze(c))}!b&&(d&2||Object.isFrozen(c))&&(c=Array.prototype.slice.call(c),Ic(c,5),gd(a,4,c,!1));return c;
default:return null}};var aj={},bj=(aj[47]=tc,aj);function cj(){var a=dj,b=md(new Yi(ej),Wi,2);1==b.length&&16==rd(B(b[0],1),0)&&md(b[0],Ui,2).forEach(function(c){var d=rd(B(c,1),0),e=kd(c,Ki,3),f=a[rd(B(c,4),0)];md(c,Si,2).forEach(function(g){var h=d||rd(B(g,4),0),k=g.getId(),n=e||kd(g,Ki,3);n=n?sd(n,3,Li):null;n=bj[n];g=fj(md(g,Pi,2));N({id:k,D:h,Y:f,gf:n,flags:g})})})}function fj(a){if(a.length){var b={};a.forEach(function(c){var d=id(c,Qi),e=kd(c,Ni,4);e&&(c=Zi(c,d),d=$i(e,d),b[c]=d)});return b}};var gj=function(a){this.j=a};gj.prototype.h=function(a,b){a=r(this.j);for(var c=a.next();!c.done;c=a.next())if(c=b.get(c.value))c.h=!0,yi(c)};var hj=function(a,b){this.j=a;this.l=b};t(hj,gj);hj.prototype.h=function(a,b){gj.prototype.h.call(this,a,b);var c=[];a=[];for(var d=r(this.j),e=d.next();!e.done;e=d.next())e=e.value,b.get(e)?c.push(e):a.push(e);b=c.map(String).join(",")||"0";a=a.map(String).join(",")||"0";M(L.h(),"sei",b);M(L.h(),"nsei",a);M(L.h(),"bi",this.l)};var ij=function(){ti.apply(this,arguments)};t(ij,ti);var ui=function(a,b){var c=L.h();M(c,"eee",a);M(c,"bi",b)};ij.h=function(){return K(ij)};function jj(){return kj.split(",").map(function(a){return parseInt(a,10)}).filter(function(a){return!isNaN(a)})};var Gi=new Bi,lj=new Bi,mj=new Bi,nj=new Bi,oj=new Bi,pj=new Bi,qj=new Bi,rj=new Bi,sj=new Bi,tj=new Bi,uj=new Bi,vj=new Bi,wj=new Bi,xj=new Bi,yj=new Bi,zj=new Bi;N({id:318475490,D:0});N({id:324123032,D:0});N({id:418572103,D:0});N({id:420706097,D:10});N({id:420706098,D:10});N({id:21062100,D:0});N({id:420706105,D:0});N({id:420706106,D:0});N({id:21064018,D:0});N({id:21064020,D:0});N({id:21064022,D:0});N({id:21064024,D:0});N({id:21064075,D:0});N({id:21064201,D:0});N({id:420706142,D:0});
N({id:21064347,D:0});N({id:44745813,D:0});N({id:44746068,D:0});N({id:21064565,D:0});N({id:21064567,D:0});N({id:418572006,D:10});N({id:44768716,D:10,Y:vj});var Aj=N({id:44768717,D:10,Y:vj}),Bj=N({id:44744588,D:10}),Cj=N({id:44747319,D:10});N({id:44740339,D:10});var Dj=N({id:44740340,D:10});N({id:44749839,D:0});var Ej=N({id:44749840,D:0});N({id:44749841,D:0});var Fj=N({id:44749842,D:0});N({id:44749843,D:1});var Gj=N({id:44749844,D:1});N({id:44749845,D:1});var Hj=N({id:44749846,D:1});
N({id:44714743,D:0});N({id:44719216,D:0});N({id:44730895,D:10});N({id:44730896,D:10});N({id:44736292,D:10});N({id:44736293,D:10});N({id:44772138,D:10});N({id:44772139,D:10});N({id:31061774,D:10});var Ij=N({id:31061775,D:10});N({id:44715336,D:10});N({id:44729309,D:10});N({id:75259410,D:0});N({id:75259412,D:0});N({id:75259413,D:0});N({id:44773378,D:10,Y:mj});var Jj=N({id:44773379,D:10,Y:mj});N({id:44724516,D:0});N({id:44726389,D:10});N({id:44752711,D:50});N({id:44752052,D:50});N({id:44752657,D:50});
N({id:44781407,Y:nj,D:10});N({id:44781408,Y:nj,D:10});N({id:44781409,Y:nj,D:10});N({id:44777647,Y:oj,D:0});N({id:44777648,Y:oj,D:0});N({id:44777649,Y:oj,D:1E3});N({id:44781752,Y:qj,D:10});N({id:44781753,Y:qj,D:10});N({id:44782990,Y:rj,D:10});N({id:44782991,Y:rj,D:10});N({id:44727953,D:0});N({id:44729911,D:0});N({id:44782089,Y:pj,D:10});N({id:44782090,Y:pj,D:10});N({id:44730425,D:0});N({id:44730426,D:0});N({id:44733246,D:10});N({id:44750823,D:10,Y:tj});N({id:44750824,D:10,Y:tj});
N({id:44750822,D:10,Y:tj});N({id:44737473,D:10,Y:lj});N({id:44771449,D:10,Y:lj});N({id:44771450,D:10,Y:lj});N({id:44751889,D:10});N({id:44751890,D:10});N({id:44738437,D:0,Y:uj});var Kj=N({id:44738438,D:0,Y:uj});N({id:44783707,D:10});var Lj=N({id:44783708,D:10});N({id:44752995,D:10});N({id:44752996,D:10});var Mj=N({id:44748969,D:1E3,Y:xj});N({id:44762627,D:0});N({id:44762628,D:0});N({id:44752538,D:0});N({id:44754608,D:10});N({id:44754609,D:10});N({id:44770822,D:10});N({id:44770823,D:10});
N({id:44770824,D:10});N({id:44770825,D:10});N({id:75259414,D:0});N({id:44731964,D:50,Y:Gi});N({id:44731965,D:50,Y:Gi});N({id:44765701,D:1E3,Y:wj});N({id:44767584,D:0});var Nj,Oj=(null==(Nj=window.document.featurePolicy)?0:Nj.allowedFeatures().includes("attribution-reporting"))?300:0;N({id:44776494,D:Oj,Y:yj});N({id:44776495,D:Oj,Y:yj});var Pj,Qj=(null==(Pj=window.document.featurePolicy)||Pj.allowedFeatures().includes("attribution-reporting"),0);N({id:44769484,D:Qj,Y:zj});N({id:44769485,D:Qj,Y:zj});
N({id:44776384,D:0});N({id:44773331,D:10});N({id:44773332,D:10});N({id:44775192,D:10});N({id:44775193,D:10});N({id:44783566,D:1});N({id:45390960,D:1});N({id:44783518,D:0});N({id:44783849,D:0});var Rj={},dj=(Rj[32]=Gi,Rj[35]=sj,Rj);dj=void 0===dj?{}:dj;if(!/^\{+IMA_EXPERIMENT_STATE_JSPB\}+$/.test("{{IMA_EXPERIMENT_STATE_JSPB}}"))try{var ej=JSON.parse("{{IMA_EXPERIMENT_STATE_JSPB}}");ej instanceof Array&&cj()}catch(a){M(L.h(),"espe",a.message)}
if("undefined"===typeof window.v8_flag_map){var wi=ij.h();wi.j||(xi(),wi.j=!0);var kj=wi.l,Sj;wi.j||(xi(),wi.j=!0);Sj=wi.h;if(null!=kj){var Tj=new hj(jj(),Sj);Fi(Tj)}};var Uj=["AyzXKL8MdBHvOVVzOBruMH4ejTtc1ZYFY15XURvuVFNIaGRUMEWwUuOwPk/7RTLViwZhNSTz/my1X90KqvXn1wYAAAB4eyJvcmlnaW4iOiJodHRwczovL2ltYXNkay5nb29nbGVhcGlzLmNvbTo0NDMiLCJmZWF0dXJlIjoiUHJpdmFjeVNhbmRib3hBZHNBUElzIiwiZXhwaXJ5IjoxNjgwNjUyNzk5LCJpc1RoaXJkUGFydHkiOnRydWV9"];var Vj=function(){var a={};this.h=function(b,c){return null!=a[b]?a[b]:c};this.j=function(b,c){return null!=a[b]?a[b]:c};this.l=function(b,c){return null!=a[b]?a[b]:c}};function Wj(a){return K(Vj).h(a.h,a.defaultValue)}function Xj(a){return K(Vj).j(a.h,a.defaultValue)}function Yj(a){return K(Vj).l(a.h,a.defaultValue)};var Zj={issuerOrigin:"https://attestation.android.com",issuancePath:"/att/i",redemptionPath:"/att/r"},ak={issuerOrigin:"https://pagead2.googlesyndication.com",issuancePath:"/dtt/i",redemptionPath:"/dtt/r",getStatePath:"/dtt/s"};var ck=function(a,b,c){E.call(this);var d=this;this.j=a;this.h=[];b&&bk()&&this.h.push(Zj);c&&this.h.push(ak);if(document.hasTrustToken&&!Wj(of)){var e=new Map;this.h.forEach(function(f){e.set(f.issuerOrigin,{issuerOrigin:f.issuerOrigin,state:d.j?1:12,hasRedemptionRecord:!1})});window.goog_tt_state_map=window.goog_tt_state_map&&window.goog_tt_state_map instanceof Map?new Map([].concat(ia(e),ia(window.goog_tt_state_map))):e;window.goog_tt_promise_map&&window.goog_tt_promise_map instanceof Map||(window.goog_tt_promise_map=
new Map)}};t(ck,E);
var bk=function(){var a=void 0===a?window:a;a=a.navigator.userAgent;var b=/Chrome/.test(a);return/Android/.test(a)&&b},dk=function(a,b,c){var d,e=null==(d=window.goog_tt_state_map)?void 0:d.get(a);e&&(e.state=b,void 0!=c&&(e.hasRedemptionRecord=c))},ek=function(){var a=""+Zj.issuerOrigin+Zj.redemptionPath,b={keepalive:!0,trustToken:{type:"token-redemption",issuer:Zj.issuerOrigin,refreshPolicy:"none"}};dk(Zj.issuerOrigin,2);return window.fetch(a,b).then(function(c){if(!c.ok)throw Error(c.status+": Network response was not ok!");
dk(Zj.issuerOrigin,6,!0)}).catch(function(c){c&&"NoModificationAllowedError"===c.name?dk(Zj.issuerOrigin,6,!0):dk(Zj.issuerOrigin,5)})},fk=function(){var a=""+Zj.issuerOrigin+Zj.issuancePath;dk(Zj.issuerOrigin,8);return window.fetch(a,{keepalive:!0,trustToken:{type:"token-request"}}).then(function(b){if(!b.ok)throw Error(b.status+": Network response was not ok!");dk(Zj.issuerOrigin,10);return ek()}).catch(function(b){if(b&&"NoModificationAllowedError"===b.name)return dk(Zj.issuerOrigin,10),ek();dk(Zj.issuerOrigin,
9)})},gk=function(){dk(Zj.issuerOrigin,13);return document.hasTrustToken(Zj.issuerOrigin).then(function(a){return a?ek():fk()})},hk=function(){dk(ak.issuerOrigin,13);if(window.Promise){var a=document.hasTrustToken(ak.issuerOrigin).then(function(e){return e}).catch(function(e){return window.Promise.reject({state:19,error:e})}),b=""+ak.issuerOrigin+ak.redemptionPath,c={keepalive:!0,trustToken:{type:"token-redemption",refreshPolicy:"none"}};dk(ak.issuerOrigin,16);a=a.then(function(e){return window.fetch(b,
c).then(function(f){if(!f.ok)throw Error(f.status+": Network response was not ok!");dk(ak.issuerOrigin,18,!0)}).catch(function(f){if(f&&"NoModificationAllowedError"===f.name)dk(ak.issuerOrigin,18,!0);else{if(e)return window.Promise.reject({state:17,error:f});dk(ak.issuerOrigin,17)}})}).then(function(){return document.hasTrustToken(ak.issuerOrigin).then(function(e){return e}).catch(function(e){return window.Promise.reject({state:19,error:e})})}).then(function(e){var f=""+ak.issuerOrigin+ak.getStatePath;
dk(ak.issuerOrigin,20);return window.fetch(f+"?ht="+e,{trustToken:{type:"send-redemption-record",issuers:[ak.issuerOrigin]}}).then(function(g){if(!g.ok)throw Error(g.status+": Network response was not ok!");dk(ak.issuerOrigin,22);return g.text().then(function(h){return JSON.parse(h)})}).catch(function(g){return window.Promise.reject({state:21,error:g})})});var d=lh();return a.then(function(e){var f=""+ak.issuerOrigin+ak.issuancePath;return e&&e.srqt&&e.cs?(dk(ak.issuerOrigin,23),window.fetch(f+"?cs="+
e.cs+"&correlator="+d,{keepalive:!0,trustToken:{type:"token-request"}}).then(function(g){if(!g.ok)throw Error(g.status+": Network response was not ok!");dk(ak.issuerOrigin,25);return e}).catch(function(g){return window.Promise.reject({state:24,error:g})})):e}).then(function(e){if(e&&e.srdt&&e.cs)return dk(ak.issuerOrigin,26),window.fetch(b+"?cs="+e.cs+"&correlator="+d,{keepalive:!0,trustToken:{type:"token-redemption",refreshPolicy:"refresh"}}).then(function(f){if(!f.ok)throw Error(f.status+": Network response was not ok!");
dk(ak.issuerOrigin,28,!0)}).catch(function(f){return window.Promise.reject({state:27,error:f})})}).then(function(){dk(ak.issuerOrigin,29)}).catch(function(e){if(e instanceof Object&&e.hasOwnProperty("state")&&e.hasOwnProperty("error"))if("number"===typeof e.state&&e.error instanceof Error){dk(ak.issuerOrigin,e.state);var f=Xj(pf);Math.random()<=f&&Eh({state:e.state,err:e.error.toString()},"dtt_err")}else throw Error(e);else throw e;})}},ik=function(a){if(document.hasTrustToken&&!Wj(of)&&a.j){var b=
window.goog_tt_promise_map;if(b&&b instanceof Map){var c=[];if(a.h.some(function(e){return e.issuerOrigin===Zj.issuerOrigin})){var d=b.get(Zj.issuerOrigin);d||(d=gk(),b.set(Zj.issuerOrigin,d));c.push(d)}a.h.some(function(e){return e.issuerOrigin===ak.issuerOrigin})&&(a=b.get(ak.issuerOrigin),a||(a=hk(),b.set(ak.issuerOrigin,a)),c.push(a));if(0<c.length&&window.Promise&&window.Promise.all)return window.Promise.all(c)}}};try{var jk;jk=void 0===jk?window.document:jk;var kk=Yj(qf);jh(kk,jk);jh(Uj,window.document)}catch(a){}Di.reset();Fi(new Ii);v.console&&"function"===typeof v.console.log&&Va(v.console.log,v.console);var lk=function(a){for(var b=[],c=a=H(a.ownerDocument);c!=a.top;c=c.parent)if(c.frameElement)b.push(c.frameElement);else break;return b};var mk=function(a,b){this.type=a;this.currentTarget=this.target=b;this.defaultPrevented=this.j=!1};mk.prototype.stopPropagation=function(){this.j=!0};mk.prototype.preventDefault=function(){this.defaultPrevented=!0};var nk=function(){if(!v.addEventListener||!Object.defineProperty)return!1;var a=!1,b=Object.defineProperty({},"passive",{get:function(){a=!0}});try{v.addEventListener("test",function(){},b),v.removeEventListener("test",function(){},b)}catch(c){}return a}();var ok=function(a,b){mk.call(this,a?a.type:"");this.relatedTarget=this.currentTarget=this.target=null;this.button=this.screenY=this.screenX=this.clientY=this.clientX=0;this.key="";this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.state=null;this.pointerId=0;this.pointerType="";this.h=null;a&&this.init(a,b)};Ya(ok,mk);var pk={2:"touch",3:"pen",4:"mouse"};
ok.prototype.init=function(a,b){var c=this.type=a.type,d=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;this.target=a.target||a.srcElement;this.currentTarget=b;(b=a.relatedTarget)?ac&&(Vb(b,"nodeName")||(b=null)):"mouseover"==c?b=a.fromElement:"mouseout"==c&&(b=a.toElement);this.relatedTarget=b;d?(this.clientX=void 0!==d.clientX?d.clientX:d.pageX,this.clientY=void 0!==d.clientY?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0):(this.clientX=void 0!==a.clientX?
a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0);this.button=a.button;this.key=a.key||"";this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.pointerId=a.pointerId||0;this.pointerType="string"===typeof a.pointerType?a.pointerType:pk[a.pointerType]||"";this.state=a.state;this.h=a;a.defaultPrevented&&ok.Ba.preventDefault.call(this)};
ok.prototype.stopPropagation=function(){ok.Ba.stopPropagation.call(this);this.h.stopPropagation?this.h.stopPropagation():this.h.cancelBubble=!0};ok.prototype.preventDefault=function(){ok.Ba.preventDefault.call(this);var a=this.h;a.preventDefault?a.preventDefault():a.returnValue=!1};var qk="closure_listenable_"+(1E6*Math.random()|0),rk=function(a){return!(!a||!a[qk])};var sk=0;var tk=function(a,b,c,d,e){this.listener=a;this.proxy=null;this.src=b;this.type=c;this.capture=!!d;this.tc=e;this.key=++sk;this.Vb=this.dc=!1},uk=function(a){a.Vb=!0;a.listener=null;a.proxy=null;a.src=null;a.tc=null};var vk=function(a){this.src=a;this.h={};this.j=0};vk.prototype.add=function(a,b,c,d,e){var f=a.toString();a=this.h[f];a||(a=this.h[f]=[],this.j++);var g=wk(a,b,d,e);-1<g?(b=a[g],c||(b.dc=!1)):(b=new tk(b,this.src,f,!!d,e),b.dc=c,a.push(b));return b};vk.prototype.remove=function(a,b,c,d){a=a.toString();if(!(a in this.h))return!1;var e=this.h[a];b=wk(e,b,c,d);return-1<b?(uk(e[b]),Mb(e,b),0==e.length&&(delete this.h[a],this.j--),!0):!1};
var xk=function(a,b){var c=b.type;c in a.h&&Lb(a.h[c],b)&&(uk(b),0==a.h[c].length&&(delete a.h[c],a.j--))};vk.prototype.Ob=function(a,b,c,d){a=this.h[a.toString()];var e=-1;a&&(e=wk(a,b,c,d));return-1<e?a[e]:null};var wk=function(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.Vb&&f.listener==b&&f.capture==!!c&&f.tc==d)return e}return-1};var yk="closure_lm_"+(1E6*Math.random()|0),zk={},Ak=0,Ck=function(a,b,c,d,e){if(d&&d.once)return Bk(a,b,c,d,e);if(Array.isArray(b)){for(var f=0;f<b.length;f++)Ck(a,b[f],c,d,e);return null}c=Dk(c);return rk(a)?a.P(b,c,Oa(d)?!!d.capture:!!d,e):Ek(a,b,c,!1,d,e)},Ek=function(a,b,c,d,e,f){if(!b)throw Error("Invalid event type");var g=Oa(e)?!!e.capture:!!e,h=Fk(a);h||(a[yk]=h=new vk(a));c=h.add(b,c,d,g,f);if(c.proxy)return c;d=Gk();c.proxy=d;d.src=a;d.listener=c;if(a.addEventListener)nk||(e=g),void 0===
e&&(e=!1),a.addEventListener(b.toString(),d,e);else if(a.attachEvent)a.attachEvent(Hk(b.toString()),d);else if(a.addListener&&a.removeListener)a.addListener(d);else throw Error("addEventListener and attachEvent are unavailable.");Ak++;return c},Gk=function(){var a=Ik,b=function(c){return a.call(b.src,b.listener,c)};return b},Bk=function(a,b,c,d,e){if(Array.isArray(b)){for(var f=0;f<b.length;f++)Bk(a,b[f],c,d,e);return null}c=Dk(c);return rk(a)?a.Sb(b,c,Oa(d)?!!d.capture:!!d,e):Ek(a,b,c,!0,d,e)},Jk=
function(a,b,c,d,e){if(Array.isArray(b))for(var f=0;f<b.length;f++)Jk(a,b[f],c,d,e);else d=Oa(d)?!!d.capture:!!d,c=Dk(c),rk(a)?a.ob(b,c,d,e):a&&(a=Fk(a))&&(b=a.Ob(b,c,d,e))&&Kk(b)},Kk=function(a){if("number"!==typeof a&&a&&!a.Vb){var b=a.src;if(rk(b))xk(b.o,a);else{var c=a.type,d=a.proxy;b.removeEventListener?b.removeEventListener(c,d,a.capture):b.detachEvent?b.detachEvent(Hk(c),d):b.addListener&&b.removeListener&&b.removeListener(d);Ak--;(c=Fk(b))?(xk(c,a),0==c.j&&(c.src=null,b[yk]=null)):uk(a)}}},
Hk=function(a){return a in zk?zk[a]:zk[a]="on"+a},Ik=function(a,b){if(a.Vb)a=!0;else{b=new ok(b,this);var c=a.listener,d=a.tc||a.src;a.dc&&Kk(a);a=c.call(d,b)}return a},Fk=function(a){a=a[yk];return a instanceof vk?a:null},Lk="__closure_events_fn_"+(1E9*Math.random()>>>0),Dk=function(a){if("function"===typeof a)return a;a[Lk]||(a[Lk]=function(b){return a.handleEvent(b)});return a[Lk]};var O=function(){E.call(this);this.o=new vk(this);this.cc=this;this.ia=null};Ya(O,E);O.prototype[qk]=!0;l=O.prototype;l.addEventListener=function(a,b,c,d){Ck(this,a,b,c,d)};l.removeEventListener=function(a,b,c,d){Jk(this,a,b,c,d)};
l.dispatchEvent=function(a){var b,c=this.ia;if(c)for(b=[];c;c=c.ia)b.push(c);c=this.cc;var d=a.type||a;if("string"===typeof a)a=new mk(a,c);else if(a instanceof mk)a.target=a.target||c;else{var e=a;a=new mk(d,c);Kf(a,e)}e=!0;if(b)for(var f=b.length-1;!a.j&&0<=f;f--){var g=a.currentTarget=b[f];e=Mk(g,d,!0,a)&&e}a.j||(g=a.currentTarget=c,e=Mk(g,d,!0,a)&&e,a.j||(e=Mk(g,d,!1,a)&&e));if(b)for(f=0;!a.j&&f<b.length;f++)g=a.currentTarget=b[f],e=Mk(g,d,!1,a)&&e;return e};
l.N=function(){O.Ba.N.call(this);if(this.o){var a=this.o,b=0,c;for(c in a.h){for(var d=a.h[c],e=0;e<d.length;e++)++b,uk(d[e]);delete a.h[c];a.j--}}this.ia=null};l.P=function(a,b,c,d){return this.o.add(String(a),b,!1,c,d)};l.Sb=function(a,b,c,d){return this.o.add(String(a),b,!0,c,d)};l.ob=function(a,b,c,d){this.o.remove(String(a),b,c,d)};
var Mk=function(a,b,c,d){b=a.o.h[String(b)];if(!b)return!0;b=b.concat();for(var e=!0,f=0;f<b.length;++f){var g=b[f];if(g&&!g.Vb&&g.capture==c){var h=g.listener,k=g.tc||g.src;g.dc&&xk(a.o,g);e=!1!==h.call(k,d)&&e}}return e&&!d.defaultPrevented};O.prototype.Ob=function(a,b,c,d){return this.o.Ob(String(a),b,c,d)};var Nk=function(a,b){this.l=a;this.o=b;this.j=0;this.h=null};Nk.prototype.get=function(){if(0<this.j){this.j--;var a=this.h;this.h=a.next;a.next=null}else a=this.l();return a};var Ok=function(a,b){a.o(b);100>a.j&&(a.j++,b.next=a.h,a.h=b)};var Pk,Qk=function(){var a=v.MessageChannel;"undefined"===typeof a&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!z("Presto")&&(a=function(){var e=Cg(document,"IFRAME");e.style.display="none";document.documentElement.appendChild(e);var f=e.contentWindow;e=f.document;e.open();e.close();var g="callImmediate"+Math.random(),h="file:"==f.location.protocol?"*":f.location.protocol+"//"+f.location.host;e=Va(function(k){if(("*"==h||k.origin==h)&&k.data==g)this.port1.onmessage()},
this);f.addEventListener("message",e,!1);this.port1={};this.port2={postMessage:function(){f.postMessage(g,h)}}});if("undefined"!==typeof a&&!vb()){var b=new a,c={},d=c;b.port1.onmessage=function(){if(void 0!==c.next){c=c.next;var e=c.Sd;c.Sd=null;e()}};return function(e){d.next={Sd:e};d=d.next;b.port2.postMessage(0)}}return function(e){v.setTimeout(e,0)}};var Rk=function(){this.j=this.h=null};Rk.prototype.add=function(a,b){var c=Sk.get();c.set(a,b);this.j?this.j.next=c:this.h=c;this.j=c};Rk.prototype.remove=function(){var a=null;this.h&&(a=this.h,this.h=this.h.next,this.h||(this.j=null),a.next=null);return a};var Sk=new Nk(function(){return new Tk},function(a){return a.reset()}),Tk=function(){this.next=this.h=this.j=null};Tk.prototype.set=function(a,b){this.j=a;this.h=b;this.next=null};Tk.prototype.reset=function(){this.next=this.h=this.j=null};var Uk,Vk=!1,Wk=new Rk,Yk=function(a,b){Uk||Xk();Vk||(Uk(),Vk=!0);Wk.add(a,b)},Xk=function(){if(v.Promise&&v.Promise.resolve){var a=v.Promise.resolve(void 0);Uk=function(){a.then(Zk)}}else Uk=function(){var b=Zk;"function"!==typeof v.setImmediate||v.Window&&v.Window.prototype&&!z("Edge")&&v.Window.prototype.setImmediate==v.setImmediate?(Pk||(Pk=Qk()),Pk(b)):v.setImmediate(b)}},Zk=function(){for(var a;a=Wk.remove();){try{a.j.call(a.h)}catch(b){db(b)}Ok(Sk,a)}Vk=!1};var $k=function(a){if(!a)return!1;try{return!!a.$goog_Thenable}catch(b){return!1}};var bl=function(a){this.h=0;this.C=void 0;this.o=this.j=this.l=null;this.A=this.B=!1;if(a!=Me)try{var b=this;a.call(void 0,function(c){al(b,2,c)},function(c){al(b,3,c)})}catch(c){al(this,3,c)}},cl=function(){this.next=this.context=this.j=this.l=this.h=null;this.o=!1};cl.prototype.reset=function(){this.context=this.j=this.l=this.h=null;this.o=!1};var dl=new Nk(function(){return new cl},function(a){a.reset()}),el=function(a,b,c){var d=dl.get();d.l=a;d.j=b;d.context=c;return d};
bl.prototype.then=function(a,b,c){return fl(this,"function"===typeof a?a:null,"function"===typeof b?b:null,c)};bl.prototype.$goog_Thenable=!0;bl.prototype.I=function(a,b){return fl(this,null,a,b)};bl.prototype.catch=bl.prototype.I;bl.prototype.cancel=function(a){if(0==this.h){var b=new gl(a);Yk(function(){hl(this,b)},this)}};
var hl=function(a,b){if(0==a.h)if(a.l){var c=a.l;if(c.j){for(var d=0,e=null,f=null,g=c.j;g&&(g.o||(d++,g.h==a&&(e=g),!(e&&1<d)));g=g.next)e||(f=g);e&&(0==c.h&&1==d?hl(c,b):(f?(d=f,d.next==c.o&&(c.o=d),d.next=d.next.next):il(c),jl(c,e,3,b)))}a.l=null}else al(a,3,b)},ll=function(a,b){a.j||2!=a.h&&3!=a.h||kl(a);a.o?a.o.next=b:a.j=b;a.o=b},fl=function(a,b,c,d){var e=el(null,null,null);e.h=new bl(function(f,g){e.l=b?function(h){try{var k=b.call(d,h);f(k)}catch(n){g(n)}}:f;e.j=c?function(h){try{var k=c.call(d,
h);void 0===k&&h instanceof gl?g(h):f(k)}catch(n){g(n)}}:g});e.h.l=a;ll(a,e);return e.h};bl.prototype.F=function(a){this.h=0;al(this,2,a)};bl.prototype.G=function(a){this.h=0;al(this,3,a)};
var al=function(a,b,c){if(0==a.h){a===c&&(b=3,c=new TypeError("Promise cannot resolve to itself"));a.h=1;a:{var d=c,e=a.F,f=a.G;if(d instanceof bl){ll(d,el(e||Me,f||null,a));var g=!0}else if($k(d))d.then(e,f,a),g=!0;else{if(Oa(d))try{var h=d.then;if("function"===typeof h){ml(d,h,e,f,a);g=!0;break a}}catch(k){f.call(a,k);g=!0;break a}g=!1}}g||(a.C=c,a.h=b,a.l=null,kl(a),3!=b||c instanceof gl||nl(a,c))}},ml=function(a,b,c,d,e){var f=!1,g=function(k){f||(f=!0,c.call(e,k))},h=function(k){f||(f=!0,d.call(e,
k))};try{b.call(a,g,h)}catch(k){h(k)}},kl=function(a){a.B||(a.B=!0,Yk(a.K,a))},il=function(a){var b=null;a.j&&(b=a.j,a.j=b.next,b.next=null);a.j||(a.o=null);return b};bl.prototype.K=function(){for(var a;a=il(this);)jl(this,a,this.h,this.C);this.B=!1};
var jl=function(a,b,c,d){if(3==c&&b.j&&!b.o)for(;a&&a.A;a=a.l)a.A=!1;if(b.h)b.h.l=null,ol(b,c,d);else try{b.o?b.l.call(b.context):ol(b,c,d)}catch(e){pl.call(null,e)}Ok(dl,b)},ol=function(a,b,c){2==b?a.l.call(a.context,c):a.j&&a.j.call(a.context,c)},nl=function(a,b){a.A=!0;Yk(function(){a.A&&pl.call(null,b)})},pl=db,gl=function(a){$a.call(this,a)};Ya(gl,$a);gl.prototype.name="cancel";var ql=function(a,b){O.call(this);this.j=a||1;this.h=b||v;this.l=Va(this.eg,this);this.A=Xa()};Ya(ql,O);l=ql.prototype;l.qb=!1;l.Ja=null;l.eg=function(){if(this.qb){var a=Xa()-this.A;0<a&&a<.8*this.j?this.Ja=this.h.setTimeout(this.l,this.j-a):(this.Ja&&(this.h.clearTimeout(this.Ja),this.Ja=null),this.dispatchEvent("tick"),this.qb&&(this.stop(),this.start()))}};l.start=function(){this.qb=!0;this.Ja||(this.Ja=this.h.setTimeout(this.l,this.j),this.A=Xa())};
l.stop=function(){this.qb=!1;this.Ja&&(this.h.clearTimeout(this.Ja),this.Ja=null)};l.N=function(){ql.Ba.N.call(this);this.stop();delete this.h};
var rl=function(a,b,c){if("function"===typeof a)c&&(a=Va(a,c));else if(a&&"function"==typeof a.handleEvent)a=Va(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:v.setTimeout(a,b||0)},sl=function(){var a=null;return(new bl(function(b,c){a=rl(function(){b("timed out")},200);-1==a&&c(Error("Failed to schedule timer."))})).I(function(b){v.clearTimeout(a);throw b;})};var tl=function(){return Math.round(Date.now()/1E3)};var ul=function(){this.h={};return this};ul.prototype.remove=function(a){var b=this.h;a in b&&delete b[a]};ul.prototype.set=function(a,b){this.h[a]=b};var vl=function(a,b){a.h.eb=If(a.h,"eb",0)|b};ul.prototype.get=function(a){return If(this.h,a,null)};var wl=null,xl=function(){this.h={};this.j=0},yl=function(){wl||(wl=new xl);return wl},zl=function(a,b){a.h[b.getName()]=b},Al=function(a,b){this.o=a;this.l=!0;this.h=b};Al.prototype.getName=function(){return this.o};Al.prototype.j=function(){return String(this.h)};var Bl=function(a,b){Al.call(this,String(a),b);this.A=a;this.h=!!b};t(Bl,Al);Bl.prototype.j=function(){return this.h?"1":"0"};var Cl=function(a,b){Al.call(this,a,b)};t(Cl,Al);
Cl.prototype.j=function(){return this.h?Math.round(this.h.top)+"."+Math.round(this.h.left)+"."+(Math.round(this.h.top)+Math.round(this.h.height))+"."+(Math.round(this.h.left)+Math.round(this.h.width)):""};var Dl=function(a){if(a.match(/^-?[0-9]+\.-?[0-9]+\.-?[0-9]+\.-?[0-9]+$/)){a=a.split(".");var b=Number(a[0]),c=Number(a[1]);return new Cl("",new qh(c,b,Number(a[3])-c,Number(a[2])-b))}return new Cl("",new qh(0,0,0,0))};var Fl=function(a,b){if("string"===typeof b)(b=El(a,b))&&(a.style[b]=void 0);else for(var c in b){var d=a,e=b[c],f=El(d,c);f&&(d.style[f]=e)}},Gl={},El=function(a,b){var c=Gl[b];if(!c){var d=pg(b);c=d;void 0===a.style[d]&&(d=(bc?"Webkit":ac?"Moz":Zb?"ms":null)+rg(d),void 0!==a.style[d]&&(c=d));Gl[b]=c}return c},Hl=function(a,b){var c=a.style[pg(b)];return"undefined"!==typeof c?c:a.style[El(a,b)]||""},Il=function(a,b){var c=ug(a);return c.defaultView&&c.defaultView.getComputedStyle&&(a=c.defaultView.getComputedStyle(a,
null))?a[b]||a.getPropertyValue(b)||"":""},Jl=function(a){try{return a.getBoundingClientRect()}catch(b){return{left:0,top:0,right:0,bottom:0}}},Kl=function(a){var b=ug(a),c=new jg(0,0);var d=b?ug(b):document;d=!Zb||9<=Number(sc)||zg(vg(d).h)?d.documentElement:d.body;if(a==d)return c;a=Jl(a);b=Bg(vg(b).h);c.x=a.left+b.x;c.y=a.top+b.y;return c},Ll=function(a,b){var c=new jg(0,0),d=H(ug(a));if(!Vb(d,"parent"))return c;do{if(d==b)var e=Kl(a);else e=Jl(a),e=new jg(e.left,e.top);c.x+=e.x;c.y+=e.y}while(d&&
d!=b&&d!=d.parent&&(a=d.frameElement)&&(d=d.parent));return c},Ml=function(){var a="100%";"number"==typeof a&&(a=Math.round(a)+"px");return a},Ol=function(a){var b=Nl;if("none"!=(Il(a,"display")||(a.currentStyle?a.currentStyle.display:null)||a.style&&a.style.display))return b(a);var c=a.style,d=c.display,e=c.visibility,f=c.position;c.visibility="hidden";c.position="absolute";c.display="inline";a=b(a);c.display=d;c.position=f;c.visibility=e;return a},Nl=function(a){var b=a.offsetWidth,c=a.offsetHeight,
d=bc&&!b&&!c;return(void 0===b||d)&&a.getBoundingClientRect?(a=Jl(a),new G(a.right-a.left,a.bottom-a.top)):new G(b,c)},Sl=function(a){var b=ug(a),c=Zb&&a.currentStyle;if(c&&zg(vg(b).h)&&"auto"!=c.width&&"auto"!=c.height&&!c.boxSizing)return b=Pl(a,c.width,"width","pixelWidth"),a=Pl(a,c.height,"height","pixelHeight"),new G(b,a);c=new G(a.offsetWidth,a.offsetHeight);if(Zb){b=Ql(a,"paddingLeft");var d=Ql(a,"paddingRight"),e=Ql(a,"paddingTop"),f=Ql(a,"paddingBottom");b=new I(e,d,f,b)}else b=Il(a,"paddingLeft"),
d=Il(a,"paddingRight"),e=Il(a,"paddingTop"),f=Il(a,"paddingBottom"),b=new I(parseFloat(e),parseFloat(d),parseFloat(f),parseFloat(b));!Zb||9<=Number(sc)?(d=Il(a,"borderLeftWidth"),e=Il(a,"borderRightWidth"),f=Il(a,"borderTopWidth"),a=Il(a,"borderBottomWidth"),a=new I(parseFloat(f),parseFloat(e),parseFloat(a),parseFloat(d))):(d=Rl(a,"borderLeft"),e=Rl(a,"borderRight"),f=Rl(a,"borderTop"),a=Rl(a,"borderBottom"),a=new I(f,e,a,d));return new G(c.width-a.left-b.left-b.right-a.right,c.height-a.top-b.top-
b.bottom-a.bottom)},Pl=function(a,b,c,d){if(/^\d+px?$/.test(b))return parseInt(b,10);var e=a.style[c],f=a.runtimeStyle[c];a.runtimeStyle[c]=a.currentStyle[c];a.style[c]=b;b=a.style[d];a.style[c]=e;a.runtimeStyle[c]=f;return+b},Ql=function(a,b){return(b=a.currentStyle?a.currentStyle[b]:null)?Pl(a,b,"left","pixelLeft"):0},Tl={thin:2,medium:4,thick:6},Rl=function(a,b){if("none"==(a.currentStyle?a.currentStyle[b+"Style"]:null))return 0;b=a.currentStyle?a.currentStyle[b+"Width"]:null;return b in Tl?Tl[b]:
Pl(a,b,"left","pixelLeft")};var Ul=function(a){var b=new qh(-Number.MAX_VALUE/2,-Number.MAX_VALUE/2,Number.MAX_VALUE,Number.MAX_VALUE),c=new qh(0,0,0,0);if(!a||0==a.length)return c;for(var d=0;d<a.length;d++){a:{var e=b;var f=a[d],g=Math.max(e.left,f.left),h=Math.min(e.left+e.width,f.left+f.width);if(g<=h){var k=Math.max(e.top,f.top);f=Math.min(e.top+e.height,f.top+f.height);if(k<=f){e.left=g;e.top=k;e.width=h-g;e.height=f-k;e=!0;break a}}e=!1}if(!e)return c}return b},Vl=function(a,b){var c=a.getBoundingClientRect();a=Ll(a,
b);return new qh(Math.round(a.x),Math.round(a.y),Math.round(c.right-c.left),Math.round(c.bottom-c.top))},Wl=function(a,b,c){if(b&&c){a:{var d=Math.max(b.left,c.left);var e=Math.min(b.left+b.width,c.left+c.width);if(d<=e){var f=Math.max(b.top,c.top),g=Math.min(b.top+b.height,c.top+c.height);if(f<=g){d=new qh(d,f,e-d,g-f);break a}}d=null}e=d?d.height*d.width:0;f=d?b.height*b.width:0;d=d&&f?Math.round(e/f*100):0;zl(a,new Al("vp",d));d&&0<d?(e=rh(b),f=rh(c),e=e.top>=f.top&&e.top<f.bottom):e=!1;zl(a,new Bl(512,
e));d&&0<d?(e=rh(b),f=rh(c),e=e.bottom<=f.bottom&&e.bottom>f.top):e=!1;zl(a,new Bl(1024,e));d&&0<d?(e=rh(b),f=rh(c),e=e.left>=f.left&&e.left<f.right):e=!1;zl(a,new Bl(2048,e));d&&0<d?(b=rh(b),c=rh(c),c=b.right<=c.right&&b.right>c.left):c=!1;zl(a,new Bl(4096,c))}};var Xl=function(a,b){var c=0;Bf(H(),"ima","video","client","tagged")&&(c=1);var d=null;a&&(d=a());if(d){a=yl();a.h={};var e=new Bl(32,!0);e.l=!1;zl(a,e);e=H().document;e=e.visibilityState||e.webkitVisibilityState||e.mozVisibilityState||e.msVisibilityState||"";zl(a,new Bl(64,"hidden"!=e.toLowerCase().substring(e.length-6)?!0:!1));try{var f=H().top;try{var g=!!f.location.href||""===f.location.href}catch(m){g=!1}if(g){var h=lk(d);var k=h&&0!=h.length?"1":"0"}else k="2"}catch(m){k="2"}zl(a,new Bl(256,
"2"==k));zl(a,new Bl(128,"1"==k));h=g=H().top;"2"==k&&(h=H());f=Vl(d,h);zl(a,new Cl("er",f));try{var n=h.document&&!h.document.body?null:Ag(h||window)}catch(m){n=null}n?(h=Bg(vg(h.document).h),zl(a,new Bl(16384,!!h)),n=h?new qh(h.x,h.y,n.width,n.height):null):n=null;zl(a,new Cl("vi",n));if(n&&"1"==k){k=lk(d);d=[];for(h=0;h<k.length;h++)(e=Vl(k[h],g))&&d.push(e);d.push(n);n=Ul(d)}Wl(a,f,n);a.j&&zl(a,new Al("ts",tl()-a.j));a.j=tl()}else a=yl(),a.h={},a.j=tl(),zl(a,new Bl(32,!1));this.l=a;this.h=new ul;
this.h.set("ve",4);c&&vl(this.h,1);Bf(H(),"ima","video","client","crossdomainTag")&&vl(this.h,4);Bf(H(),"ima","video","client","sdkTag")&&vl(this.h,8);Bf(H(),"ima","video","client","jsTag")&&vl(this.h,2);b&&If(b,"fullscreen",!1)&&vl(this.h,16);this.j=b=null;if(c&&(c=Bf(H(),"ima","video","client"),c.getEData)){this.j=c.getEData();if(c=Bf(H(),"ima","video","client","getLastSnapshotFromTop"))if(a=c())this.j.extendWithDataFromTopIframe(a.tagstamp,a.playstamp,a.lactstamp),c=this.l,b=a.er,a=a.vi,b&&a&&
(b=Dl(b).h,a=Dl(a).h,k=null,If(c.h,"er",null)&&(k=If(c.h,"er",null).h,k.top+=b.top,k.left+=b.left,zl(c,new Cl("er",k))),If(c.h,"vi",null)&&(n=If(c.h,"vi",null).h,n.top+=b.top,n.left+=b.left,d=[],d.push(n),d.push(b),d.push(a),b=Ul(d),Wl(c,k,b),zl(c,new Cl("vi",a))));a:{if(this.j){if(this.j.getTagLoadTimestamp){b=this.j.getTagLoadTimestamp();break a}if(this.j.getTimeSinceTagLoadSeconds){b=this.j.getTimeSinceTagLoadSeconds();break a}}b=null}}c=this.h;a=window.performance&&window.performance.timing&&
window.performance.timing.domLoading&&0<window.performance.timing.domLoading?Math.round(window.performance.timing.domLoading/1E3):null;c.set.call(c,"td",tl()-(null!=a?a:null!=b?b:tl()))};var Yl=new ql(200),Zl=function(a,b){try{var c=new Xl(a,b);a=[];var d=Number(c.h.get("eb"));c.h.remove("eb");var e,f=c.h;b=[];for(var g in f.h)b.push(g+f.h[g]);(e=b.join("_"))&&a.push(e);if(c.j){var h=c.j.serialize();h&&a.push(h)}var k,n=c.l;e=d;f=[];e||(e=0);for(var m in n.h){var x=n.h[m];if(x instanceof Bl)x.h&&(e|=x.A);else{var u=n.h[m],y=u.l?u.j():"";y&&f.push(m+y)}}f.push("eb"+String(e));(k=f.join("_"))&&a.push(k);c.h.set("eb",d);return a.join("_")}catch(A){return"tle;"+lg(A.name,12)+";"+lg(A.message,
40)}},$l=function(a,b){Ck(Yl,"tick",function(){var c=Zl(b);a(c)});Yl.start();Yl.dispatchEvent("tick")};var am=function(a){D.call(this,a)};t(am,D);var bm=function(a){D.call(this,a)};t(bm,D);var cm=function(a,b){return C(a,1,b)},dm=[bm,1,Fe];var em=function(a){D.call(this,a)};t(em,D);var fm=function(a){var b=new em;return C(b,1,a)},gm=function(a,b){return C(a,8,Zc(b))};em.prototype.getError=function(){return kd(this,bm,10)};em.prototype.Ia=function(a){return nd(this,10,a)};var hm=He(em),im=[em,1,Ce,2,Ce,3,we,7,we,8,ve,4,ze,5,ze,6,ze,9,Be,11,Be,10,De,dm];var jm=function(a){D.call(this,a)};t(jm,D);var km=[jm,4,Fe,5,Ce];var lm=function(a){D.call(this,a)};t(lm,D);var mm=[lm,1,ye,2,ye,3,ye];var nm=function(a){D.call(this,a)};t(nm,D);nm.prototype.getError=function(){return kd(this,jm,7)};nm.prototype.Ia=function(a){return nd(this,7,a)};var om=[nm,5,Ce,4,Ce,2,De,mm,3,De,mm,6,Be,7,De,km,8,we];var qm=function(a){D.call(this,a,-1,pm)};t(qm,D);var pm=[1,2];qm.prototype.o=Ge([qm,1,Ee,om,2,Ee,im]);var rm=function(a){D.call(this,a)};t(rm,D);rm.prototype.getVersion=function(){return B(this,5)};var sm=He(rm);var tm;tm=["av.default","js","unreleased"].slice(-1)[0];var um=new function(a,b){this.key=a;this.defaultValue=void 0===b?!1:b;this.valueType="boolean"}("45378663");var vm=document,P=window;var wm=function(a){var b={};Bb(a,function(c){var d=c.h,e=b[d];b.hasOwnProperty(d)?null!==e&&(c.wb(e)||(b[d]=null)):b[d]=c});Nb(a,function(c){return null===b[c.h]})};var xm={NONE:0,Eg:1},ym={Cg:0,Hh:1,Gh:2,Ih:3},zm={ue:"a",Dg:"d",Ye:"v"};var Am=function(){this.ba=0;this.h=!1;this.j=-1;this.lb=!1;this.sa=0};Am.prototype.isVisible=function(){return this.lb?.3<=this.ba:.5<=this.ba};var Bm={Bg:0,Hg:1},Cm={668123728:0,668123729:1},Dm={44731964:0,44731965:1},Em={NONE:0,lh:1,Mg:2},Fm={480596784:0,480596785:1,21063355:2};var Gm=function(){this.h=null;this.o=!1;this.l=null},Hm=function(a){a.o=!0;return a},Im=function(a,b){a.l&&Bb(b,function(c){c=a.l[c];void 0!==c&&a.j(c)})},Jm=function(a){Gm.call(this);this.A=a};t(Jm,Gm);Jm.prototype.j=function(a){null===this.h&&Df(this.A,a)&&(this.h=a)};var Km=function(){Gm.call(this)};t(Km,Gm);Km.prototype.j=function(a){null===this.h&&"number"===typeof a&&(this.h=a)};var Lm=function(){Gm.call(this)};t(Lm,Gm);
Lm.prototype.j=function(a){null===this.h&&"string"===typeof a&&(this.h=a)};var Mm=function(){this.h={};this.l=!0;this.j={}};Mm.prototype.reset=function(){this.h={};this.l=!0;this.j={}};
var Nm=function(a,b,c){a.h[b]||(a.h[b]=new Jm(c));return a.h[b]},Om=function(a){a.h.queryid||(a.h.queryid=new Lm)},Pm=function(a,b,c){(a=a.h[b])&&a.j(c)},Qm=function(a,b){if(Cf(a.j,b))return a.j[b];if(a=a.h[b])return a.h},Rm=function(a){var b={},c=uf(a.h,function(d){return d.o});tf(c,function(d,e){d=void 0!==a.j[e]?String(a.j[e]):d.o&&null!==d.h?String(d.h):"";0<d.length&&(b[e]=d)},a);return b},Sm=function(a){a=Rm(a);var b=[];tf(a,function(c,d){d in Object.prototype||"undefined"!=typeof c&&b.push([d,
":",c].join(""))});return b},Tm=function(){var a=Q().R,b=Hi();a.l&&Bb(zf(a.h),function(c){return Im(c,b)})};var Um=function(a){Nm(a,"od",xm);Hm(Nm(a,"opac",Bm));Hm(Nm(a,"sbeos",Bm));Hm(Nm(a,"prf",Bm));Hm(Nm(a,"mwt",Bm));Nm(a,"iogeo",Bm)};var Vm=!Zb&&!xb();var Wm=function(){this.h=this.ab=null};var Xm=function(){};Xm.prototype.h=function(){return 0};Xm.prototype.l=function(){return 0};Xm.prototype.o=function(){return 0};Xm.prototype.j=function(){return 0};var Zm=function(){if(!Ym())throw Error();};t(Zm,Xm);var Ym=function(){return!(!P||!P.performance)};Zm.prototype.h=function(){return Ym()&&P.performance.now?P.performance.now():Xm.prototype.h.call(this)};Zm.prototype.l=function(){return Ym()&&P.performance.memory?P.performance.memory.totalJSHeapSize||0:Xm.prototype.l.call(this)};Zm.prototype.o=function(){return Ym()&&P.performance.memory?P.performance.memory.usedJSHeapSize||0:Xm.prototype.o.call(this)};
Zm.prototype.j=function(){return Ym()&&P.performance.memory?P.performance.memory.jsHeapSizeLimit||0:Xm.prototype.j.call(this)};var $m=function(){};$m.prototype.isVisible=function(){return 1===Kh(vm)};var an=RegExp("^https?://(\\w|-)+\\.cdn\\.ampproject\\.(net|org)(\\?|/|$)"),en=function(a){a=a||bn();for(var b=new cn(v.location.href,!1),c=null,d=a.length-1,e=d;0<=e;--e){var f=a[e];!c&&an.test(f.url)&&(c=f);if(f.url&&!f.fd){b=f;break}}e=null;f=a.length&&a[d].url;0!=b.depth&&f&&(e=a[d]);return new dn(b,e,c)},bn=function(){var a=v,b=[],c=null;do{var d=a;if($g(d)){var e=d.location.href;c=d.document&&d.document.referrer||null}else e=c,c=null;b.push(new cn(e||""));try{a=d.parent}catch(f){a=null}}while(a&&
d!=a);d=0;for(a=b.length-1;d<=a;++d)b[d].depth=a-d;d=v;if(d.location&&d.location.ancestorOrigins&&d.location.ancestorOrigins.length==b.length-1)for(a=1;a<b.length;++a)e=b[a],e.url||(e.url=d.location.ancestorOrigins[a-1]||"",e.fd=!0);return b},dn=function(a,b,c){this.h=a;this.j=b;this.l=c},cn=function(a,b){this.url=a;this.fd=!!b;this.depth=null};var fn=function(){this.l="&";this.j={};this.o=0;this.h=[]},gn=function(a,b){var c={};c[a]=b;return[c]},jn=function(a,b,c,d,e){var f=[];dh(a,function(g,h){(g=hn(g,b,c,d,e))&&f.push(h+"="+g)});return f.join(b)},hn=function(a,b,c,d,e){if(null==a)return"";b=b||"&";c=c||",$";"string"==typeof c&&(c=c.split(""));if(a instanceof Array){if(d=d||0,d<c.length){for(var f=[],g=0;g<a.length;g++)f.push(hn(a[g],b,c,d+1,e));return f.join(c[d])}}else if("object"==typeof a)return e=e||0,2>e?encodeURIComponent(jn(a,
b,c,d,e+1)):"...";return encodeURIComponent(String(a))},kn=function(a,b,c){a.h.push(b);a.j[b]=c},ln=function(a,b,c,d){a.h.push(b);a.j[b]=gn(c,d)},nn=function(a,b,c){b=b+"//pagead2.googlesyndication.com"+c;var d=mn(a)-c.length;if(0>d)return"";a.h.sort(function(m,x){return m-x});c=null;for(var e="",f=0;f<a.h.length;f++)for(var g=a.h[f],h=a.j[g],k=0;k<h.length;k++){if(!d){c=null==c?g:c;break}var n=jn(h[k],a.l,",$");if(n){n=e+n;if(d>=n.length){d-=n.length;b+=n;e=a.l;break}c=null==c?g:c}}a="";null!=c&&
(a=e+"trn="+c);return b+a},mn=function(a){var b=1,c;for(c in a.j)b=c.length>b?c.length:b;return 3997-b-a.l.length-1};var on=function(a,b){this.h=a;this.depth=b},qn=function(){var a=bn(),b=Math.max(a.length-1,0),c=en(a);a=c.h;var d=c.j,e=c.l,f=[];c=function(h,k){return null==h?k:h};e&&f.push(new on([e.url,e.fd?2:0],c(e.depth,1)));d&&d!=e&&f.push(new on([d.url,2],0));a.url&&a!=e&&f.push(new on([a.url,0],c(a.depth,b)));var g=Eb(f,function(h,k){return f.slice(0,f.length-k)});!a.url||(e||d)&&a!=e||(d=fh(a.url))&&g.push([new on([d,1],c(a.depth,b))]);g.push([]);return Eb(g,function(h){return pn(b,h)})};
function pn(a,b){var c=Fb(b,function(e,f){return Math.max(e,f.depth)},-1),d=Tb(c+2);d[0]=a;Bb(b,function(e){return d[e.depth+1]=e.h});return d}function rn(){var a=void 0===a?qn():a;return a.map(function(b){return hn(b)})};var sn=function(){this.j=new $m;this.h=Ym()?new Zm:new Xm},un=function(){tn();var a=P.document;return!!(a&&a.body&&a.body.getBoundingClientRect&&"function"===typeof P.setInterval&&"function"===typeof P.clearInterval&&"function"===typeof P.setTimeout&&"function"===typeof P.clearTimeout)};sn.prototype.setTimeout=function(a,b){return P.setTimeout(a,b)};sn.prototype.clearTimeout=function(a){P.clearTimeout(a)};var vn=function(){tn();return rn()};var wn=function(){},tn=function(){var a=K(wn);if(!a.h){if(!P)throw Error("Context has not been set and window is undefined.");a.h=K(sn)}return a.h};var xn=function(a){D.call(this,a)};t(xn,D);xn.prototype.o=Ge([xn,1,ue,2,xe,3,xe,4,xe,5,Ae]);var yn=function(a){this.l=a;this.h=-1;this.j=this.o=0},zn=function(a,b){return function(){var c=Ha.apply(0,arguments);if(-1<a.h)return b.apply(null,ia(c));try{return a.h=a.l.h.h(),b.apply(null,ia(c))}finally{a.o+=a.l.h.h()-a.h,a.h=-1,a.j+=1}}};var An=function(a,b){this.j=a;this.l=b;this.h=new yn(a)};var Bn=function(){this.h={}},Cn=function(){var a=Q().flags.h[um.key];if("proto"===um.valueType){try{var b=JSON.parse(a);if(Array.isArray(b))return b}catch(c){}return um.defaultValue}return typeof a===typeof um.defaultValue?a:um.defaultValue};var Dn={Ch:1,di:2,th:3};var En=function(){this.l=void 0;this.j=this.B=0;this.A=-1;this.R=new Mm;Hm(Nm(this.R,"mv",Em)).l=void 0===Fm?null:Fm;Nm(this.R,"omid",Bm);Hm(Nm(this.R,"epoh",Bm));Hm(Nm(this.R,"epph",Bm));Hm(Nm(this.R,"umt",Bm)).l=void 0===Cm?null:Cm;Hm(Nm(this.R,"phel",Bm));Hm(Nm(this.R,"phell",Bm));Hm(Nm(this.R,"oseid",Dn));var a=this.R;a.h.sloi||(a.h.sloi=new Km);Hm(a.h.sloi);Nm(this.R,"mm",zm);Hm(Nm(this.R,"ovms",ym));Hm(Nm(this.R,"xdi",Bm));Hm(Nm(this.R,"amp",Bm));Hm(Nm(this.R,"prf",Bm));Hm(Nm(this.R,"gtx",Bm));
Hm(Nm(this.R,"mvp_lv",Bm));Hm(Nm(this.R,"ssmol",Bm)).l=void 0===Dm?null:Dm;Hm(Nm(this.R,"fmd",Bm));this.h=new An(tn(),this.R);this.o=!1;this.flags=new Bn};En.prototype.rd=function(a){if("string"===typeof a&&0!=a.length){var b=this.R;if(b.l){a=a.split("&");for(var c=a.length-1;0<=c;c--){var d=a[c].split("="),e=decodeURIComponent(d[0]);1<d.length?(d=decodeURIComponent(d[1]),d=/^[0-9]+$/g.exec(d)?parseInt(d,10):d):d=1;(e=b.h[e])&&e.j(d)}}}};var Q=function(){return K(En)};var Fn=function(a,b,c,d,e){if((d?a.l:Math.random())<(e||a.h))try{if(c instanceof fn)var f=c;else f=new fn,dh(c,function(h,k){var n=f,m=n.o++;kn(n,m,gn(k,h))});var g=nn(f,a.j,"/pagead/gen_204?id="+b+"&");g&&(tn(),Ch(P,g))}catch(h){}};var In=function(){var a=Gn;this.B=Hn;this.A="jserror";this.l=!0;this.j=null;this.C=this.Pa;this.h=void 0===a?null:a;this.o=!1};l=In.prototype;l.Ic=function(a){this.j=a};l.xd=function(a){this.A=a};l.yd=function(a){this.l=a};l.zd=function(a){this.o=a};l.nb=function(a,b,c){var d=this;return zn(Q().h.h,function(){try{if(d.h&&d.h.l){var e=d.h.start(a.toString(),3);var f=b();d.h.end(e)}else f=b()}catch(h){var g=d.l;try{Wh(e),g=d.C(a,new Jn(Kn(h)),void 0,c)}catch(k){d.Pa(217,k)}if(!g)throw h;}return f})()};
l.td=function(a,b,c,d){var e=this;return zn(Q().h.h,function(){var f=Ha.apply(0,arguments);return e.nb(a,function(){return b.apply(c,f)},d)})};
l.Pa=function(a,b,c,d,e){e=e||this.A;try{var f=new fn;ln(f,1,"context",a);Gh(b)||(b=new Jn(Kn(b)));b.msg&&ln(f,2,"msg",b.msg.substring(0,512));var g=b.meta||{};if(this.j)try{this.j(g)}catch(k){}if(d)try{d(g)}catch(k){}kn(f,3,[g]);var h=en();h.j&&ln(f,4,"top",h.j.url||"");kn(f,5,[{url:h.h.url||""},{url:h.h.url?Ng(h.h.url):""}]);Fn(this.B,e,f,this.o,c)}catch(k){try{Fn(this.B,e,{context:"ecmserr",rctx:a,msg:Kn(k),url:h&&h.h.url},this.o,c)}catch(n){}}return this.l};
var Kn=function(a){var b=a.toString();a.name&&-1==b.indexOf(a.name)&&(b+=": "+a.name);a.message&&-1==b.indexOf(a.message)&&(b+=": "+a.message);if(a.stack){a=a.stack;var c=b;try{-1==a.indexOf(c)&&(a=c+"\n"+a);for(var d;a!=d;)d=a,a=a.replace(/((https?:\/..*\/)[^\/:]*:\d+(?:.|\n)*)\2/,"$1");b=a.replace(/\n */g,"\n")}catch(e){b=c}}return b},Jn=function(a){Fh.call(this,Error(a),{message:a})};t(Jn,Fh);var Hn,Ln,Gn=new Vh(1,window),Mn=function(){P&&"undefined"!=typeof P.google_measure_js_timing&&(P.google_measure_js_timing||Gn.I())};Hn=new function(){var a="https:";P&&P.location&&"http:"===P.location.protocol&&(a="http:");this.j=a;this.h=.01;this.l=Math.random()};Ln=new In;P&&P.document&&("complete"==P.document.readyState?Mn():Gn.l&&Se(P,"load",function(){Mn()}));
var Nn=function(a){Ln.Ic(function(b){Bb(a,function(c){c(b)})})},On=function(a,b){return Ln.nb(a,b)},Pn=function(a,b,c,d){return Ln.td(a,b,c,d)},Qn=function(a,b,c,d){Ln.Pa(a,b,c,d)};var Rn=Date.now(),Sn=-1,Tn=-1,Un,Vn=-1,Wn=!1,Xn=function(){return Date.now()-Rn},Yn=function(){var a=Q().l,b=0<=Tn?Xn()-Tn:-1,c=Wn?Xn()-Sn:-1,d=0<=Vn?Xn()-Vn:-1;if(947190542==a)return 100;if(79463069==a)return 200;a=[2E3,4E3];var e=[250,500,1E3];Qn(637,Error(),.001);var f=b;-1!=c&&c<b&&(f=c);for(b=0;b<a.length;++b)if(f<a[b]){var g=e[b];break}void 0===g&&(g=e[a.length]);return-1!=d&&1500<d&&4E3>d?500:g};var Zn=function(a,b,c){var d=new I(0,0,0,0);this.time=a;this.volume=null;this.l=b;this.h=d;this.j=c};Zn.prototype.wb=function(a,b){return!!a&&(!(void 0===b?0:b)||this.volume==a.volume)&&this.l==a.l&&oh(this.h,a.h)&&!0};var $n=function(a,b,c,d,e,f,g,h){this.l=a;this.I=b;this.j=c;this.A=d;this.h=e;this.o=f;this.C=g;this.B=h};$n.prototype.getTimestamp=function(){return this.C};$n.prototype.wb=function(a,b){return this.l.wb(a.l,void 0===b?!1:b)&&this.I==a.I&&oh(this.j,a.j)&&oh(this.A,a.A)&&this.h==a.h&&this.o==a.o&&this.C==a.C&&this.B==a.B};var ao={currentTime:1,duration:2,isVpaid:4,volume:8,isYouTube:16,isPlaying:32},Ff={Md:"start",FIRST_QUARTILE:"firstquartile",MIDPOINT:"midpoint",THIRD_QUARTILE:"thirdquartile",COMPLETE:"complete",Ee:"error",Ke:"metric",Ld:"pause",Te:"resume",SKIPPED:"skip",VIEWABLE_IMPRESSION:"viewable_impression",Le:"mute",Xe:"unmute",FULLSCREEN:"fullscreen",Fe:"exitfullscreen",ze:"bufferstart",ye:"bufferfinish",Gd:"fully_viewable_audible_half_duration_impression",Kd:"measurable_impression",te:"abandon",Fd:"engagedview",
IMPRESSION:"impression",Be:"creativeview",LOADED:"loaded",Eh:"progress",vg:"close",wg:"collapse",Me:"overlay_resize",Ne:"overlay_unmeasurable_impression",Oe:"overlay_unviewable_impression",Qe:"overlay_viewable_immediate_impression",Pe:"overlay_viewable_end_of_session_impression",Ce:"custom_metric_viewable",xh:"verification_debug",ve:"audio_audible",xe:"audio_measurable",we:"audio_impression"},bo="start firstquartile midpoint thirdquartile resume loaded".split(" "),co=["start","firstquartile","midpoint",
"thirdquartile"],eo=["abandon"],fo={Xh:-1,Md:0,FIRST_QUARTILE:1,MIDPOINT:2,THIRD_QUARTILE:3,COMPLETE:4,Ke:5,Ld:6,Te:7,SKIPPED:8,VIEWABLE_IMPRESSION:9,Le:10,Xe:11,FULLSCREEN:12,Fe:13,Gd:14,Kd:15,te:16,Fd:17,IMPRESSION:18,Be:19,LOADED:20,Ce:21,ze:22,ye:23,we:27,xe:28,ve:29};var yf={og:"addEventListener",Ng:"getMaxSize",Og:"getScreenSize",Pg:"getState",Qg:"getVersion",Fh:"removeEventListener",mh:"isViewable"},go=function(a){var b=a!==a.top,c=a.top===mh(a),d=-1,e=0;if(b&&c&&a.top.mraid){d=3;var f=a.top.mraid}else d=(f=a.mraid)?b?c?2:1:0:-1;f&&(f.IS_GMA_SDK||(e=2),xf(function(g){return"function"===typeof f[g]})||(e=1));return{za:f,kc:e,bg:d}};var ho=function(){var a=window.document;return a&&"function"===typeof a.elementFromPoint};function io(a,b,c){try{a&&(b=b.top);var d=b;a&&null!==d&&d!=d.top&&(d=d.top);try{var e=(void 0===c?0:c)?(new G(d.innerWidth,d.innerHeight)).round():Ag(d||window).round()}catch(m){e=new G(-12245933,-12245933)}a=e;var f=a.height,g=a.width;if(-12245933===g)return new I(g,g,g,g);var h=Bg(vg(b.document).h),k=h.x,n=h.y;return new I(n,k+g,n+f,k)}catch(m){return new I(-12245933,-12245933,-12245933,-12245933)}};var jo=function(a,b){b=Math.pow(10,b);return Math.floor(a*b)/b};function ko(a,b,c,d){if(!a)return{value:d,done:!1};d=b(d,a);var e=c(d,a);return!e&&Vb(a,"parentElement")?ko(Gg(a),b,c,d):{done:e,value:d}}var lo=function(a,b,c,d){if(!a)return d;d=ko(a,b,c,d);if(!d.done)try{var e=ug(a),f=e&&H(e);return lo(f&&f.frameElement,b,c,d.value)}catch(g){}return d.value};
function mo(a){var b=!Zb||pc();return lo(a,function(c,d){c=Vb(d,"style")&&d.style&&Hl(d,"visibility");return{hidden:"hidden"===c,visible:b&&"visible"===c}},function(c){return c.hidden||c.visible},{hidden:!1,visible:!1}).hidden}
var no=function(a){return lo(a,function(b,c){return!(!Vb(c,"style")||!c.style||"none"!==Hl(c,"display"))},function(b){return b},!1)?!0:mo(a)},oo=function(a){return new I(a.top,a.right,a.bottom,a.left)},po=function(a){var b=a.top||0,c=a.left||0;return new I(b,c+(a.width||0),b+(a.height||0),c)},qo=function(a){return null!=a&&0<=a&&1>=a};function ro(){var a=ub();return a?Gb("Android TV;AppleTV;Apple TV;GoogleTV;HbbTV;NetCast.TV;Opera TV;POV_TV;SMART-TV;SmartTV;TV Store;AmazonWebAppPlatform;MiBOX".split(";"),function(b){return rb(a,b)})||rb(a,"OMI/")&&!rb(a,"XiaoMi/")?!0:rb(a,"Presto")&&rb(a,"Linux")&&!rb(a,"X11")&&!rb(a,"Android")&&!rb(a,"Mobi"):!1}function so(){var a=ub();return rb(a,"AppleTV")||rb(a,"Apple TV")||rb(a,"CFNetwork")||rb(a,"tvOS")}
function to(){var a;(a=rb(ub(),"CrKey")||rb(ub(),"PlayStation")||rb(ub(),"Roku")||ro()||rb(ub(),"Xbox")||so())||(a=ub(),a=rb(a,"sdk_google_atv_x86")||rb(a,"Android TV"));return a};var vo=function(){this.l=!$g(P.top);this.C=Kg()||Lg();var a=bn();a=0<a.length&&null!=a[a.length-1]&&null!=a[a.length-1].url?((a=a[a.length-1].url.match(Mg)[3]||null)?decodeURI(a):a)||"":"";this.domain=a;this.h=new I(0,0,0,0);this.A=new G(0,0);this.o=new G(0,0);this.I=new I(0,0,0,0);this.B=0;this.K=!1;this.j=!(!P||!go(P).za);uo(this)},wo=function(a,b){b&&b.screen&&(a.A=new G(b.screen.width,b.screen.height))},xo=function(a,b){var c=a.h?new G(a.h.getWidth(),a.h.getHeight()):new G(0,0);b=void 0===b?P:
b;null!==b&&b!=b.top&&(b=b.top);var d=0,e=0;try{var f=b.document,g=f.body,h=f.documentElement;if("CSS1Compat"==f.compatMode&&h.scrollHeight)d=h.scrollHeight!=c.height?h.scrollHeight:h.offsetHeight,e=h.scrollWidth!=c.width?h.scrollWidth:h.offsetWidth;else{var k=h.scrollHeight,n=h.scrollWidth,m=h.offsetHeight,x=h.offsetWidth;h.clientHeight!=m&&(k=g.scrollHeight,n=g.scrollWidth,m=g.offsetHeight,x=g.offsetWidth);k>c.height?k>m?(d=k,e=n):(d=m,e=x):k<m?(d=k,e=n):(d=m,e=x)}var u=new G(e,d)}catch(y){u=new G(-12245933,
-12245933)}a.o=u},uo=function(a){P&&P.document&&(a.I=io(!1,P,a.C),a.h=io(!0,P,a.C),xo(a,P),wo(a,P))},zo=function(){var a=yo();if(0<a.B||a.K)return!0;a=tn().j.isVisible();var b=0===Kh(vm);return a||b},yo=function(){return K(vo)};var Ao=function(a){this.l=a;this.j=0;this.h=null};Ao.prototype.cancel=function(){tn().clearTimeout(this.h);this.h=null};var Bo=function(a){var b=tn(),c=Q().h.h;a.h=b.setTimeout(zn(c,Pn(143,function(){a.j++;a.l.sample()})),Yn())};var Co=function(a,b,c){this.l=a;this.na=void 0===c?"na":c;this.A=[];this.B=!1;this.o=new Zn(-1,!0,this);this.h=this;this.F=b;this.J=this.G=!1;this.X="uk";this.O=!1;this.I=!0};Co.prototype.H=function(){return!1};Co.prototype.initialize=function(){return this.B=!0};Co.prototype.xb=function(){return this.h.X};Co.prototype.Pb=function(){return this.h.J};var Eo=function(a,b,c){if(!a.J||(void 0===c?0:c))a.J=!0,a.X=b,a.F=0,a.h!=a||Do(a)};Co.prototype.getName=function(){return this.h.na};
Co.prototype.Wa=function(){return this.h.Z()};Co.prototype.Z=function(){return{}};Co.prototype.Ma=function(){return this.h.F};var Fo=function(a,b){Kb(a.A,b)||(a.A.push(b),b.Ab(a.h),b.Xa(a.o),b.Ha()&&(a.G=!0))};Co.prototype.U=function(){var a=yo();a.h=io(!0,this.l,a.C)};Co.prototype.V=function(){wo(yo(),this.l)};Co.prototype.aa=function(){return this.o.h};var Go=function(a){a=a.h;a.V();a.U();var b=yo();b.I=io(!1,a.l,b.C);xo(yo(),a.l);a.o.h=a.aa()};Co.prototype.sample=function(){};
Co.prototype.isActive=function(){return this.h.I};var Ho=function(a){a.G=a.A.length?Gb(a.A,function(b){return b.Ha()}):!1},Io=function(a){var b=Pb(a.A);Bb(b,function(c){c.Xa(a.o)})},Do=function(a){var b=Pb(a.A);Bb(b,function(c){c.Ab(a.h)});a.h!=a||Io(a)};l=Co.prototype;l.Ab=function(a){var b=this.h;this.h=a.Ma()>=this.F?a:this;b!==this.h?(this.I=this.h.I,Do(this)):this.I!==this.h.I&&(this.I=this.h.I,Do(this))};l.Xa=function(a){if(a.j===this.h){var b=!this.o.wb(a,this.G);this.o=a;b&&Io(this)}};
l.Ha=function(){return this.G};l.W=function(){this.O=!0};l.ya=function(){return this.O};var Jo=function(a,b,c,d){this.j=a;this.h=new I(0,0,0,0);this.A=new I(0,0,0,0);this.l=b;this.R=c;this.H=d;this.G=!1;this.timestamp=-1;this.I=new $n(b.o,this.j,this.h,new I(0,0,0,0),0,0,Xn(),0)};l=Jo.prototype;l.Qc=function(){return!0};l.Xb=function(){};l.W=function(){if(!this.ya()){var a=this.l;Lb(a.A,this);a.G&&this.Ha()&&Ho(a);this.Xb();this.G=!0}};l.ya=function(){return this.G};l.Wa=function(){return this.l.Wa()};l.Ma=function(){return this.l.Ma()};l.xb=function(){return this.l.xb()};l.Pb=function(){return this.l.Pb()};
l.Ab=function(){};l.Xa=function(){this.Va()};l.Ha=function(){return this.H};var Ko=function(a){this.A=!1;this.h=a;this.o=function(){}};l=Ko.prototype;l.Ma=function(){return this.h.Ma()};l.xb=function(){return this.h.xb()};l.Pb=function(){return this.h.Pb()};l.create=function(a,b,c){var d=null;this.h&&(d=this.Yb(a,b,c),Fo(this.h,d));return d};l.Hd=function(){return this.Jb()};l.Jb=function(){return!1};l.init=function(a){return this.h.initialize()?(Fo(this.h,this),this.o=a,!0):!1};l.Ab=function(a){0==a.Ma()&&this.o(a.xb(),this)};l.Xa=function(){};l.Ha=function(){return!1};
l.W=function(){this.A=!0};l.ya=function(){return this.A};l.Wa=function(){return{}};var Lo=function(a,b,c){this.l=void 0===c?0:c;this.j=a;this.h=null==b?"":b},Mo=function(a){switch(Math.trunc(a.l)){case -16:return-16;case -8:return-8;case 0:return 0;case 8:return 8;case 16:return 16;default:return 16}},No=function(a,b){return a.l<b.l?!0:a.l>b.l?!1:a.j<b.j?!0:a.j>b.j?!1:typeof a.h<typeof b.h?!0:typeof a.h>typeof b.h?!1:a.h<b.h};var Oo=function(){this.l=0;this.h=[];this.j=!1};Oo.prototype.add=function(a,b,c){++this.l;a=new Lo(a,b,c);this.h.push(new Lo(a.j,a.h,a.l+this.l/4096));this.j=!0;return this};
var Po=function(a,b){Bb(b.h,function(c){a.add(c.j,c.h,Mo(c))})},Qo=function(a,b){var c=void 0===c?0:c;var d=void 0===d?!0:d;dh(b,function(e,f){d&&void 0===e||a.add(f,e,c)});return a},So=function(a){var b=Ro;a.j&&(Rb(a.h,function(c,d){return No(d,c)?1:No(c,d)?-1:0}),a.j=!1);return Fb(a.h,function(c,d){d=b(d);return""+c+(""!=c&&""!=d?"&":"")+d},"")};var Ro=function(a){var b=a.j;a=a.h;return""===a?b:"boolean"===typeof a?a?b:"":Array.isArray(a)?0===a.length?b:b+"="+a.join():b+"="+(Kb(["mtos","tos","p"],b)?a:encodeURIComponent(a))};var To=function(a){var b=void 0===b?!0:b;this.h=new Oo;void 0!==a&&Po(this.h,a);b&&this.h.add("v",tm,-16)};To.prototype.toString=function(){var a="//pagead2.googlesyndication.com//pagead/gen_204",b=So(this.h);0<b.length&&(a+="?"+b);return a};var Uo=function(a){var b=[],c=[];tf(a,function(d,e){if(!(e in Object.prototype)&&"undefined"!=typeof d)switch(Array.isArray(d)&&(d=d.join(",")),d=[e,"=",d].join(""),e){case "adk":case "r":case "tt":case "error":case "mtos":case "tos":case "p":case "bs":b.unshift(d);break;case "req":case "url":case "referrer":case "iframe_loc":c.push(d);break;default:b.push(d)}});return b.concat(c)},Vo=function(){if(tm&&"unreleased"!==tm)return tm},Wo=function(a){var b=void 0===b?4E3:b;a=a.toString();if(!/&v=[^&]+/.test(a)){var c=
Vo();a=c?a+"&v="+encodeURIComponent(c):a}b=a=a.substring(0,b);tn();Ch(P,b)};var Xo=function(){this.h=0};var Yo=function(a,b,c){Bb(a.l,function(d){var e=a.h;if(!d.h&&(d.l(b,c),d.o())){d.h=!0;var f=d.j(),g=new Oo;g.add("id","av-js");g.add("type","verif");g.add("vtype",d.A);d=K(Xo);g.add("i",d.h++);g.add("adk",e);Qo(g,f);e=new To(g);Wo(e)}})};var Zo=function(){this.j=this.l=this.o=this.h=0},$o=function(a,b,c,d){b&&(a.h+=c,a.j+=c,a.o+=c,a.l=Math.max(a.l,a.o));if(void 0===d?!b:d)a.o=0};var ap=[1,.75,.5,.3,0],bp=function(a){this.j=a=void 0===a?ap:a;this.h=Eb(this.j,function(){return new Zo})},dp=function(a,b){return cp(a,function(c){return c.h},void 0===b?!0:b)},fp=function(a,b){return ep(a,b,function(c){return c.h})},gp=function(a,b){return cp(a,function(c){return c.l},void 0===b?!0:b)},hp=function(a,b){return ep(a,b,function(c){return c.l})},ip=function(a,b){return ep(a,b,function(c){return c.j})},jp=function(a){Bb(a.h,function(b){b.j=0})},kp=function(a,b,c,d,e,f,g){g=void 0===
g?!0:g;c=f?Math.min(b,c):c;for(f=0;f<a.j.length;f++){var h=a.j[f],k=0<c&&c>=h;h=!(0<b&&b>=h)||d;$o(a.h[f],g&&k,e,!g||h)}},cp=function(a,b,c){a=Eb(a.h,function(d){return b(d)});return c?a:lp(a)},ep=function(a,b,c){var d=Jb(a.j,function(e){return b<=e});return-1==d?0:c(a.h[d])},lp=function(a){return Eb(a,function(b,c,d){return 0<c?d[c]-d[c-1]:d[c]})};var mp=function(){this.j=new bp;this.V=new Zo;this.H=this.C=-1;this.aa=1E3;this.ca=new bp([1,.9,.8,.7,.6,.5,.4,.3,.2,.1,0]);this.M=this.J=-1},np=function(a,b){return gp(a.j,void 0===b?!0:b)};
mp.prototype.K=function(a,b,c,d){this.C=-1!=this.C?Math.min(this.C,b.ba):b.ba;this.H=Math.max(this.H,b.ba);this.J=-1!=this.J?Math.min(this.J,b.sa):b.sa;this.M=Math.max(this.M,b.sa);kp(this.ca,b.sa,c.sa,b.h,a,d);kp(this.j,b.ba,c.ba,b.h,a,d);c=d||c.lb!=b.lb?c.isVisible()&&b.isVisible():c.isVisible();b=!b.isVisible()||b.h;$o(this.V,c,a,b)};mp.prototype.Oa=function(){return this.V.l>=this.aa};if(vm&&vm.URL){var op=vm.URL,pp;if(pp=!!op){var qp;a:{if(op){var rp=RegExp(".*[&#?]google_debug(=[^&]*)?(&.*)?$");try{var sp=rp.exec(decodeURIComponent(op));if(sp){qp=sp[1]&&1<sp[1].length?sp[1].substring(1):"true";break a}}catch(a){}}qp=""}pp=0<qp.length}Ln.yd(!pp)}var tp=function(a,b,c,d){var e=void 0===e?!1:e;c=Pn(d,c);Se(a,b,c,{capture:e})};var up=new I(0,0,0,0);function vp(a,b){b=wp(b);return 0===b?0:wp(a)/b}function wp(a){return Math.max(a.bottom-a.top,0)*Math.max(a.right-a.left,0)}function xp(a,b){if(!a||!b)return!1;for(var c=0;null!==a&&100>c++;){if(a===b)return!0;try{if(a=Gg(a)||a){var d=ug(a),e=d&&H(d),f=e&&e.frameElement;f&&(a=f)}}catch(g){break}}return!1}
function yp(a,b,c){if(!a||!b)return!1;b=ph(nh(a),-b.left,-b.top);a=(b.left+b.right)/2;b=(b.top+b.bottom)/2;$g(window.top)&&window.top&&window.top.document&&(window=window.top);if(!ho())return!1;a=window.document.elementFromPoint(a,b);if(!a)return!1;b=(b=(b=ug(c))&&b.defaultView&&b.defaultView.frameElement)&&xp(b,a);var d=a===c;a=!d&&a&&Jg(a,function(e){return e===c});return!(b||d||a)}
function zp(a,b,c,d){return yo().l?!1:0>=a.getWidth()||0>=a.getHeight()?!0:c&&d?On(208,function(){return yp(a,b,c)}):!1};var Ap=new I(0,0,0,0),Cp=function(a,b,c){E.call(this);this.position=nh(Ap);this.zc=this.sc();this.hd=-2;this.fg=Date.now();this.qe=-1;this.vc=b;this.uc=null;this.Nb=!1;this.Ec=null;this.opacity=-1;this.Vf=c;this.gg=!1;this.jd=function(){};this.re=function(){};this.ta=new Wm;this.ta.ab=a;this.ta.h=a;this.Na=!1;this.gb={md:null,ld:null};this.oe=!0;this.Wb=null;this.Bb=this.Gf=!1;Q().B++;this.qa=this.bd();this.pe=-1;this.fa=null;this.ce=this.Ef=!1;this.R=new Mm;Um(this.R);Bp(this);1==this.Vf?Pm(this.R,
"od",1):Pm(this.R,"od",0)};t(Cp,E);Cp.prototype.N=function(){this.ta.h&&(this.gb.md&&(Te(this.ta.h,"mouseover",this.gb.md),this.gb.md=null),this.gb.ld&&(Te(this.ta.h,"mouseout",this.gb.ld),this.gb.ld=null));this.Wb&&this.Wb.W();this.fa&&this.fa.W();delete this.zc;delete this.jd;delete this.re;delete this.ta.ab;delete this.ta.h;delete this.gb;delete this.Wb;delete this.fa;delete this.R;E.prototype.N.call(this)};Cp.prototype.jb=function(){return this.fa?this.fa.h:this.position};Cp.prototype.rd=function(a){Q().rd(a)};
var Bp=function(a){a=a.ta.ab;var b;if(b=a&&a.getAttribute)b=/-[a-z]/.test("googleAvInapp")?!1:Vm&&a.dataset?"googleAvInapp"in a.dataset:a.hasAttribute?a.hasAttribute("data-"+qg()):!!a.getAttribute("data-"+qg());b&&(yo().j=!0)};Cp.prototype.Ha=function(){return!1};Cp.prototype.sc=function(){return new mp};Cp.prototype.pa=function(){return this.zc};
var Dp=function(a,b){b!=a.Bb&&(a.Bb=b,a=yo(),b?a.B++:0<a.B&&a.B--)},Ep=function(a,b){if(a.fa){if(b.getName()===a.fa.getName())return;a.fa.W();a.fa=null}b=b.create(a.ta.h,a.R,a.Ha());if(b=null!=b&&b.Qc()?b:null)a.fa=b},Fp=function(a,b,c){if(!a.uc||-1==a.vc||-1===b.getTimestamp()||-1===a.uc.getTimestamp())return 0;a=b.getTimestamp()-a.uc.getTimestamp();return a>c?0:a};Cp.prototype.Zd=function(a){return Fp(this,a,1E4)};
var Gp=function(a,b,c){if(a.fa){a.fa.Va();var d=a.fa.I,e=d.l,f=e.h;if(null!=d.A){var g=d.j;a.Ec=new jg(g.left-f.left,g.top-f.top)}f=a.Jc()?Math.max(d.h,d.o):d.h;g={};null!==e.volume&&(g.volume=e.volume);e=a.Zd(d);a.uc=d;a.Cd(f,b,c,!1,g,e,d.B)}},Hp=function(a){if(a.Nb&&a.Wb){var b=1==Qm(a.R,"od"),c=yo().h,d=a.Wb,e=a.fa?a.fa.getName():"ns",f=new G(c.getWidth(),c.getHeight());c=a.Jc();a={dg:e,Ec:a.Ec,mg:f,Jc:c,ba:a.qa.ba,ig:b};if(b=d.j){b.Va();e=b.I;f=e.l.h;var g=null,h=null;null!=e.A&&f&&(g=e.j,g=new jg(g.left-
f.left,g.top-f.top),h=new G(f.right-f.left,f.bottom-f.top));e=c?Math.max(e.h,e.o):e.h;c={dg:b.getName(),Ec:g,mg:h,Jc:c,ig:!1,ba:e}}else c=null;c&&Yo(d,a,c)}};l=Cp.prototype;l.Cd=function(a,b,c,d,e,f,g){this.Na||(this.Nb&&(a=this.Tc(a,c,e,g),d=d&&this.qa.ba>=(this.lb()?.3:.5),this.Dd(f,a,d),this.vc=b,0<a.ba&&-1===this.pe&&(this.pe=b),-1==this.qe&&this.Oa()&&(this.qe=b),-2==this.hd&&(this.hd=wp(this.jb())?a.ba:-1),this.qa=a),this.jd(this))};l.Dd=function(a,b,c){this.pa().K(a,b,this.qa,c)};l.bd=function(){return new Am};
l.Tc=function(a,b,c,d){c=this.bd();c.h=b;b=tn().j;b=0===Kh(vm)?-1:b.isVisible()?0:1;c.j=b;c.ba=this.Vc(a);c.lb=this.lb();c.sa=d;return c};l.Vc=function(a){return 0===this.opacity&&1===Qm(this.R,"opac")?0:a};l.lb=function(){return!1};l.Jc=function(){return this.Ef||this.Gf};l.va=function(){return 0};l.Oa=function(){return this.zc.Oa()};l.be=function(){var a=this.Nb;a=(this.ce||this.ya())&&!a;var b=2!==Q().j||this.gg;return this.Na||b&&a?2:this.Oa()?4:3};l.qc=function(){return 0};
var Ip=function(a,b,c){b&&(a.jd=b);c&&(a.re=c)};var Jp=function(){};Jp.prototype.next=function(){return Kp};var Kp={done:!0,value:void 0};Jp.prototype.sb=function(){return this};var Lp=function(){this.o=this.h=this.l=this.j=this.A=0},Mp=function(a){var b={};b=(b.ptlt=Xa()-a.A,b);var c=a.j;c&&(b.pnk=c);(c=a.l)&&(b.pnc=c);(c=a.o)&&(b.pnmm=c);(a=a.h)&&(b.pns=a);return b};var Np=function(){Am.call(this);this.fullscreen=!1;this.volume=void 0;this.paused=!1;this.mediaTime=-1};t(Np,Am);var Op=function(a){return qo(a.volume)&&0<a.volume};var Qp=function(a,b,c,d){c=void 0===c?!0:c;d=void 0===d?function(){return!0}:d;return function(e){var f=e[a];if(Array.isArray(f)&&d(e))return Pp(f,b,c)}},Rp=function(a,b){return function(c){return b(c)?c[a]:void 0}},Sp=function(a){return function(b){for(var c=0;c<a.length;c++)if(a[c]===b.e||void 0===a[c]&&!b.hasOwnProperty("e"))return!0;return!1}},Pp=function(a,b,c){return void 0===c||c?Db(a,function(d,e){return Kb(b,e)}):Eb(b,function(d,e,f){return a.slice(0<e?f[e-1]+1:0,d+1).reduce(function(g,h){return g+
h},0)})};var Tp=Sp([void 0,1,2,3,4,8,16]),Up=Sp([void 0,4,8,16]),Vp={sv:"sv",v:"v",cb:"cb",e:"e",nas:"nas",msg:"msg","if":"if",sdk:"sdk",p:"p",p0:Rp("p0",Up),p1:Rp("p1",Up),p2:Rp("p2",Up),p3:Rp("p3",Up),cp:"cp",tos:"tos",mtos:"mtos",amtos:"amtos",mtos1:Qp("mtos1",[0,2,4],!1,Up),mtos2:Qp("mtos2",[0,2,4],!1,Up),mtos3:Qp("mtos3",[0,2,4],!1,Up),mcvt:"mcvt",ps:"ps",scs:"scs",bs:"bs",vht:"vht",mut:"mut",a:"a",a0:Rp("a0",Up),a1:Rp("a1",Up),a2:Rp("a2",Up),a3:Rp("a3",Up),ft:"ft",dft:"dft",at:"at",dat:"dat",as:"as",
vpt:"vpt",gmm:"gmm",std:"std",efpf:"efpf",swf:"swf",nio:"nio",px:"px",nnut:"nnut",vmer:"vmer",vmmk:"vmmk",vmiec:"vmiec",nmt:"nmt",tcm:"tcm",bt:"bt",pst:"pst",vpaid:"vpaid",dur:"dur",vmtime:"vmtime",dtos:"dtos",dtoss:"dtoss",dvs:"dvs",dfvs:"dfvs",dvpt:"dvpt",fmf:"fmf",vds:"vds",is:"is",i0:"i0",i1:"i1",i2:"i2",i3:"i3",ic:"ic",cs:"cs",c:"c",c0:Rp("c0",Up),c1:Rp("c1",Up),c2:Rp("c2",Up),c3:Rp("c3",Up),mc:"mc",nc:"nc",mv:"mv",nv:"nv",qmt:Rp("qmtos",Tp),qnc:Rp("qnc",Tp),qmv:Rp("qmv",Tp),qnv:Rp("qnv",Tp),
raf:"raf",rafc:"rafc",lte:"lte",ces:"ces",tth:"tth",femt:"femt",femvt:"femvt",emc:"emc",emuc:"emuc",emb:"emb",avms:"avms",nvat:"nvat",qi:"qi",psm:"psm",psv:"psv",psfv:"psfv",psa:"psa",pnk:"pnk",pnc:"pnc",pnmm:"pnmm",pns:"pns",ptlt:"ptlt",pngs:"pings",veid:"veid",ssb:"ssb",ss0:Rp("ss0",Up),ss1:Rp("ss1",Up),ss2:Rp("ss2",Up),ss3:Rp("ss3",Up),dc_rfl:"urlsigs",obd:"obd",omidp:"omidp",omidr:"omidr",omidv:"omidv",omida:"omida",omids:"omids",omidpv:"omidpv",omidam:"omidam",omidct:"omidct",omidia:"omidia",
omiddc:"omiddc",omidlat:"omidlat",omiddit:"omiddit",nopd:"nopd"},Wp=Object.assign({},Vp,{avid:function(a){return function(){return a}}("audio"),avas:"avas",vs:"vs"}),Xp={atos:"atos",avt:Qp("atos",[2]),davs:"davs",dafvs:"dafvs",dav:"dav",ss:function(a,b){return function(c){return void 0===c[a]&&void 0!==b?b:c[a]}}("ss",0),t:"t"};var Yp=function(){this.j=this.h=""};var Zp=function(){},$p=function(a,b){var c={};if(void 0!==a)if(null!=b)for(var d in b){var e=b[d];d in Object.prototype||null!=e&&(c[d]="function"===typeof e?e(a):a[e])}else Kf(c,a);return So(Qo(new Oo,c))};var aq=function(){var a={};this.j=(a.vs=[1,0],a.vw=[0,1],a.am=[2,2],a.a=[4,4],a.f=[8,8],a.bm=[16,16],a.b=[32,32],a.avw=[0,64],a.avs=[64,0],a.pv=[256,256],a.gdr=[0,512],a.p=[0,1024],a.r=[0,2048],a.m=[0,4096],a.um=[0,8192],a.ef=[0,16384],a.s=[0,32768],a.pmx=[0,16777216],a.mut=[33554432,33554432],a.umutb=[67108864,67108864],a);this.h={};for(var b in this.j)0<this.j[b][1]&&(this.h[b]=0);this.l=0},bq=function(a,b){var c=a.j[b],d=c[1];a.l+=c[0];0<d&&0==a.h[b]&&(a.h[b]=1)},cq=function(a){var b=Af(a.j),c=
0,d;for(d in a.h)Kb(b,d)&&1==a.h[d]&&(c+=a.j[d][1],a.h[d]=2);return c},dq=function(a){var b=0,c;for(c in a.h){var d=a.h[c];if(1==d||2==d)b+=a.j[c][1]}return b};var eq=function(){this.j=this.h=0},fq=function(a,b,c){32<=b||(a.j&1<<b&&!c?a.h&=~(1<<b):a.j&1<<b||!c||(a.h|=1<<b),a.j|=1<<b)};var gq=function(){mp.call(this);this.l=new Zo;this.U=this.F=this.L=0;this.I=-1;this.ia=new Zo;this.A=new Zo;this.h=new bp;this.B=this.o=-1;this.G=new Zo;this.aa=2E3;this.O=new eq;this.Z=new eq;this.X=new eq};t(gq,mp);var hq=function(a,b,c){var d=a.U;Wn||c||-1==a.I||(d+=b-a.I);return d};
gq.prototype.K=function(a,b,c,d){if(!b.paused){mp.prototype.K.call(this,a,b,c,d);var e=Op(b)&&Op(c),f=.5<=(d?Math.min(b.ba,c.ba):c.ba);qo(b.volume)&&(this.o=-1!=this.o?Math.min(this.o,b.volume):b.volume,this.B=Math.max(this.B,b.volume));f&&(this.L+=a,this.F+=e?a:0);kp(this.h,b.ba,c.ba,b.h,a,d,e);$o(this.l,!0,a);$o(this.A,e,a);$o(this.G,c.fullscreen,a);$o(this.ia,e&&!f,a);a=Math.floor(b.mediaTime/1E3);fq(this.O,a,b.isVisible());fq(this.Z,a,1<=b.ba);fq(this.X,a,Op(b))}};var iq=function(){this.l=!1};iq.prototype.j=function(a){this.l||(this.h(a)?(a=this.K.report(this.o,a),this.A|=a,a=0==a):a=!1,this.l=a)};var jq=function(a,b){this.l=!1;this.o=a;this.K=b;this.A=0};t(jq,iq);jq.prototype.h=function(){return!0};jq.prototype.B=function(){return!1};jq.prototype.getId=function(){var a=this,b=Ef(function(c){return c==a.o});return fo[b].toString()};jq.prototype.toString=function(){var a="";this.B()&&(a+="c");this.l&&(a+="s");0<this.A&&(a+=":"+this.A);return this.getId()+a};var kq=function(a,b){jq.call(this,a,b);this.C=[]};t(kq,jq);kq.prototype.j=function(a,b){b=void 0===b?null:b;null!=b&&this.C.push(b);jq.prototype.j.call(this,a)};var lq=function(){};var mq=function(){};t(mq,lq);mq.prototype.j=function(){return null};mq.prototype.l=function(){return[]};var nq=function(a,b,c,d){Jo.call(this,a,b,c,d)};t(nq,Jo);l=nq.prototype;l.Uc=function(){if(this.j){var a=this.j,b=this.l.h.l;try{try{var c=oo(a.getBoundingClientRect())}catch(n){c=new I(0,0,0,0)}var d=c.right-c.left,e=c.bottom-c.top,f=Ll(a,b),g=f.x,h=f.y;var k=new I(Math.round(h),Math.round(g+d),Math.round(h+e),Math.round(g))}catch(n){k=nh(up)}this.h=k}};l.Pd=function(){this.A=this.l.o.h};l.de=function(a){return zp(a,this.A,this.j,1==Qm(this.R,"od"))};l.Qd=function(){this.timestamp=Xn()};
l.Va=function(){this.Qd();this.Uc();if(this.j&&"number"===typeof this.j.videoWidth&&"number"===typeof this.j.videoHeight){var a=this.j;var b=new G(a.videoWidth,a.videoHeight);a=this.h;var c=a.getWidth(),d=a.getHeight(),e=b.width;b=b.height;0>=e||0>=b||0>=c||0>=d||(e/=b,a=nh(a),e>c/d?(c/=e,d=(d-c)/2,0<d&&(d=a.top+d,a.top=Math.round(d),a.bottom=Math.round(d+c))):(d*=e,c=Math.round((c-d)/2),0<c&&(c=a.left+c,a.left=Math.round(c),a.right=Math.round(c+d))));this.h=a}this.Pd();a=this.h;c=this.A;a=a.left<=
c.right&&c.left<=a.right&&a.top<=c.bottom&&c.top<=a.bottom?new I(Math.max(a.top,c.top),Math.min(a.right,c.right),Math.min(a.bottom,c.bottom),Math.max(a.left,c.left)):new I(0,0,0,0);c=a.top>=a.bottom||a.left>=a.right?new I(0,0,0,0):a;a=this.l.o;b=e=d=0;0<(this.h.bottom-this.h.top)*(this.h.right-this.h.left)&&(this.de(c)?c=new I(0,0,0,0):(d=yo().A,b=new I(0,d.height,d.width,0),d=vp(c,this.h),e=vp(c,yo().h),b=vp(c,b)));c=c.top>=c.bottom||c.left>=c.right?new I(0,0,0,0):ph(c,-this.h.left,-this.h.top);
zo()||(e=d=0);this.I=new $n(a,this.j,this.h,c,d,e,this.timestamp,b)};l.getName=function(){return this.l.getName()};var oq=new I(0,0,0,0),pq=function(a,b,c){Jo.call(this,null,a,b,c);this.C=a.isActive();this.B=0};t(pq,nq);l=pq.prototype;l.Qc=function(){this.o();return!0};l.Xa=function(){nq.prototype.Va.call(this)};l.Qd=function(){};l.Uc=function(){};l.Va=function(){this.o();nq.prototype.Va.call(this)};l.Ab=function(a){a=a.isActive();a!==this.C&&(a?this.o():(yo().h=new I(0,0,0,0),this.h=new I(0,0,0,0),this.A=new I(0,0,0,0),this.timestamp=-1));this.C=a};function qq(a){return[a.top,a.left,a.bottom,a.right]}
var rq={},sq=(rq.firstquartile=0,rq.midpoint=1,rq.thirdquartile=2,rq.complete=3,rq),tq=function(a,b,c,d,e,f){f=void 0===f?new mq:f;Cp.call(this,b,c,d);this.qd=e;this.Yc=0;this.ka={};this.ha=new aq;this.se={};this.ma="";this.playerId=null;this.ua=!1;this.h=[];this.Qa=f.j();this.B=f.l();this.A=null;this.l=-1;this.V=this.G=void 0;this.J=this.H=0;this.O=-1;this.ca=this.aa=!1;this.M=this.F=this.j=this.Fb=this.na=0;new bp;this.U=this.X=0;this.Z=-1;this.la=0;this.C=Me;this.L=[this.sc()];this.Ka=2;this.pb=
{};this.pb.pause="p";this.pb.resume="r";this.pb.skip="s";this.pb.mute="m";this.pb.unmute="um";this.pb.exitfullscreen="ef";this.o=null;this.ia=!1};t(tq,Cp);tq.prototype.Ha=function(){return!0};var uq=function(a){a.ce=!0;0!=a.la&&(a.la=3)},vq=function(a){return void 0===a?a:Number(a)?jo(a,3):0};l=tq.prototype;l.Zd=function(a){return Fp(this,a,Math.max(1E4,this.l/3))};
l.Cd=function(a,b,c,d,e,f,g){var h=this,k=this.C(this)||{};Kf(k,e);this.l=k.duration||this.l;this.G=k.isVpaid||this.G;this.V=k.isYouTube||this.V;e=wq(this,b);1===xq(this)&&(f=e);Cp.prototype.Cd.call(this,a,b,c,d,k,f,g);this.Qa&&this.Qa.l&&Bb(this.B,function(n){n.j(h)})};
l.Dd=function(a,b,c){Cp.prototype.Dd.call(this,a,b,c);yq(this).K(a,b,this.qa,c);this.ca=Op(this.qa)&&Op(b);-1==this.O&&this.aa&&(this.O=this.pa().l.h);this.ha.l=0;a=this.Oa();b.isVisible()&&bq(this.ha,"vs");a&&bq(this.ha,"vw");qo(b.volume)&&bq(this.ha,"am");Op(b)?bq(this.ha,"a"):bq(this.ha,"mut");this.Bb&&bq(this.ha,"f");-1!=b.j&&(bq(this.ha,"bm"),1==b.j&&(bq(this.ha,"b"),Op(b)&&bq(this.ha,"umutb")));Op(b)&&b.isVisible()&&bq(this.ha,"avs");this.ca&&a&&bq(this.ha,"avw");0<b.ba&&bq(this.ha,"pv");zq(this,
this.pa().l.h,!0)&&bq(this.ha,"gdr");2E3<=hp(this.pa().j,1)&&bq(this.ha,"pmx")};l.sc=function(){return new gq};l.pa=function(){return this.zc};var yq=function(a,b){return a.L[null!=b&&b<a.L.length?b:a.L.length-1]};tq.prototype.bd=function(){return new Np};
tq.prototype.Tc=function(a,b,c,d){a=Cp.prototype.Tc.call(this,a,b,c,void 0===d?-1:d);a.fullscreen=this.Bb;a.paused=2==this.la;a.volume=c.volume;qo(a.volume)||(this.na++,b=this.qa,qo(b.volume)&&(a.volume=b.volume));c=c.currentTime;a.mediaTime=void 0!==c&&0<=c?c:-1;return a};
var xq=function(a){var b=!!Qm(Q().R,"umt");return a.G||!b&&!a.V?0:1},wq=function(a,b){2==a.la?b=0:-1==a.vc?b=0:(b-=a.vc,b=b>Math.max(1E4,a.l/3)?0:b);var c=a.C(a)||{};c=void 0!==c.currentTime?c.currentTime:a.H;var d=c-a.H,e=0;0<=d?(a.J+=b,a.U+=Math.max(b-d,0),e=Math.min(d,a.J)):a.X+=Math.abs(d);0!=d&&(a.J=0);-1==a.Z&&0<d&&(a.Z=0<=Vn?Xn()-Vn:-1);a.H=c;return e};tq.prototype.Vc=function(a){return yo(),this.Bb?1:Cp.prototype.Vc.call(this,a)};tq.prototype.va=function(){return 1};
tq.prototype.getDuration=function(){return this.l};
var Aq=function(a,b){Gb(a.B,function(c){return c.o==b.o})||a.B.push(b)},Bq=function(a){var b=fp(a.pa().h,1);return zq(a,b)},zq=function(a,b,c){return 15E3<=b?!0:a.aa?(void 0===c?0:c)?!0:0<a.l?b>=a.l/2:0<a.O?b>=a.O:!1:!1},Cq=function(a){var b={},c=yo();b.insideIframe=c.l;b.unmeasurable=a.Na;b.position=a.jb();b.exposure=a.qa.ba;b.documentSize=c.o;b.viewportSize=new G(c.h.getWidth(),c.h.getHeight());null!=a.o&&(b.presenceData=a.o);b.screenShare=a.qa.sa;return b},Dq=function(a){var b=jo(a.qa.ba,2),c=
a.ha.l,d=a.qa,e=yq(a),f=vq(e.o),g=vq(e.B),h=vq(d.volume),k=jo(e.C,2),n=jo(e.H,2),m=jo(d.ba,2),x=jo(e.J,2),u=jo(e.M,2);d=jo(d.sa,2);a=nh(a.jb());a.round();e=np(e,!1);return{lg:b,Qb:c,Ac:f,wc:g,Kb:h,Bc:k,xc:n,ba:m,Cc:x,yc:u,sa:d,position:a,Dc:e}},Fq=function(a,b){Eq(a.h,b,function(){return{lg:0,Qb:void 0,Ac:-1,wc:-1,Kb:-1,Bc:-1,xc:-1,ba:-1,Cc:-1,yc:-1,sa:-1,position:void 0,Dc:[]}});a.h[b]=Dq(a)},Eq=function(a,b,c){for(var d=a.length;d<b+1;)a.push(c()),d++},Iq=function(a,b,c){var d=a.se[b];if(null!=
d)return d;d=Gq(a,b);var e=Ef(function(f){return f==b});a=Hq(a,d,d,c,sq[Ff[e]]);"fully_viewable_audible_half_duration_impression"==b&&(a.std="csm");return a},Jq=function(a,b,c){var d=[b];if(a!=b||c!=b)d.unshift(a),d.push(c);return d},Hq=function(a,b,c,d,e){if(a.Na)return{"if":0,vs:0};var f=nh(a.jb());f.round();var g=yo(),h=Q(),k=a.pa(),n=a.fa?a.fa.getName():"ns",m={};m["if"]=g.l?1:void 0;m.sdk=a.A?a.A:void 0;m.t=a.fg;m.p=[f.top,f.left,f.bottom,f.right];m.tos=dp(k.j,!1);m.mtos=np(k);m.mcvt=k.V.l;m.ps=
void 0;m.vht=hq(k,Xn(),2==a.la);m.mut=k.ia.l;m.a=vq(a.qa.volume);m.mv=vq(k.B);m.fs=a.Bb?1:0;m.ft=k.G.h;m.at=k.A.h;m.as=0<k.o?1:0;m.atos=dp(k.h);m.ssb=dp(k.ca,!1);m.amtos=gp(k.h,!1);m.uac=a.na;m.vpt=k.l.h;"nio"==n&&(m.nio=1,m.avms="nio");m.gmm="4";m.gdr=zq(a,k.l.h,!0)?1:0;m.efpf=a.Ka;if("gsv"==n||"nis"==n)f=a.fa,0<f.B&&(m.nnut=f.B);m.tcm=xq(a);m.nmt=a.X;m.bt=a.U;m.pst=a.Z;m.vpaid=a.G;m.dur=a.l;m.vmtime=a.H;m.is=a.ha.l;1<=a.h.length&&(m.i0=a.h[0].Qb,m.a0=[a.h[0].Kb],m.c0=[a.h[0].ba],m.ss0=[a.h[0].sa],
f=a.h[0].position,m.p0=f?qq(f):void 0);2<=a.h.length&&(m.i1=a.h[1].Qb,m.a1=Jq(a.h[1].Ac,a.h[1].Kb,a.h[1].wc),m.c1=Jq(a.h[1].Bc,a.h[1].ba,a.h[1].xc),m.ss1=Jq(a.h[1].Cc,a.h[1].sa,a.h[1].yc),f=a.h[1].position,m.p1=f?qq(f):void 0,m.mtos1=a.h[1].Dc);3<=a.h.length&&(m.i2=a.h[2].Qb,m.a2=Jq(a.h[2].Ac,a.h[2].Kb,a.h[2].wc),m.c2=Jq(a.h[2].Bc,a.h[2].ba,a.h[2].xc),m.ss2=Jq(a.h[2].Cc,a.h[2].sa,a.h[2].yc),f=a.h[2].position,m.p2=f?qq(f):void 0,m.mtos2=a.h[2].Dc);4<=a.h.length&&(m.i3=a.h[3].Qb,m.a3=Jq(a.h[3].Ac,a.h[3].Kb,
a.h[3].wc),m.c3=Jq(a.h[3].Bc,a.h[3].ba,a.h[3].xc),m.ss3=Jq(a.h[3].Cc,a.h[3].sa,a.h[3].yc),f=a.h[3].position,m.p3=f?qq(f):void 0,m.mtos3=a.h[3].Dc);m.cs=dq(a.ha);b&&(m.ic=cq(a.ha),m.dvpt=k.l.j,m.dvs=ip(k.j,.5),m.dfvs=ip(k.j,1),m.davs=ip(k.h,.5),m.dafvs=ip(k.h,1),c&&(k.l.j=0,jp(k.j),jp(k.h)),a.Oa()&&(m.dtos=k.L,m.dav=k.F,m.dtoss=a.Yc+1,c&&(k.L=0,k.F=0,a.Yc++)),m.dat=k.A.j,m.dft=k.G.j,c&&(k.A.j=0,k.G.j=0));m.ps=[g.o.width,g.o.height];m.bs=[g.h.getWidth(),g.h.getHeight()];m.scs=[g.A.width,g.A.height];
m.dom=g.domain;a.Fb&&(m.vds=a.Fb);if(0<a.B.length||a.Qa)b=Pb(a.B),a.Qa&&b.push(a.Qa),m.pings=Eb(b,function(x){return x.toString()});b=Eb(Db(a.B,function(x){return x.B()}),function(x){return x.getId()});Qb(b);m.ces=b;a.j&&(m.vmer=a.j);a.F&&(m.vmmk=a.F);a.M&&(m.vmiec=a.M);m.avms=a.fa?a.fa.getName():"ns";a.fa&&Kf(m,a.fa.Wa());d?(m.c=jo(a.qa.ba,2),m.ss=jo(a.qa.sa,2)):m.tth=Xn()-Un;m.mc=jo(k.H,2);m.nc=jo(k.C,2);m.mv=vq(k.B);m.nv=vq(k.o);m.lte=jo(a.hd,2);d=yq(a,e);np(k);m.qmtos=np(d);m.qnc=jo(d.C,2);m.qmv=
vq(d.B);m.qnv=vq(d.o);m.qas=0<d.o?1:0;m.qi=a.ma;m.avms||(m.avms="geo");m.psm=k.O.j;m.psv=k.O.h;m.psfv=k.Z.h;m.psa=k.X.h;h=Sm(h.R);h.length&&(m.veid=h);a.o&&Kf(m,Mp(a.o));m.avas=a.qc();m.vs=a.be();return m},Gq=function(a,b){if(Kb(eo,b))return!0;var c=a.ka[b];return void 0!==c?(a.ka[b]=!0,!c):!1};tq.prototype.be=function(){return this.Na?2:Bq(this)?5:this.Oa()?4:3};tq.prototype.qc=function(){return this.ia?2E3<=this.pa().A.l?4:3:2};var Kq=Xa(),Nq=function(){this.h={};var a=H();Lq(this,a,document);var b=Mq();try{if("1"==b){for(var c=a.parent;c!=a.top;c=c.parent)Lq(this,c,c.document);Lq(this,a.top,a.top.document)}}catch(d){}},Mq=function(){var a=document.documentElement;try{if(!$g(H().top))return"2";var b=[],c=H(a.ownerDocument);for(a=c;a!=c.top;a=a.parent)if(a.frameElement)b.push(a.frameElement);else break;return b&&0!=b.length?"1":"0"}catch(d){return"2"}},Lq=function(a,b,c){tp(c,"mousedown",function(){return Oq(a)},301);tp(b,
"scroll",function(){return Pq(a)},302);tp(c,"touchmove",function(){return Qq(a)},303);tp(c,"mousemove",function(){return Rq(a)},304);tp(c,"keydown",function(){return Sq(a)},305)},Oq=function(a){tf(a.h,function(b){1E5<b.l||++b.l})},Pq=function(a){tf(a.h,function(b){1E5<b.h||++b.h})},Qq=function(a){tf(a.h,function(b){1E5<b.h||++b.h})},Sq=function(a){tf(a.h,function(b){1E5<b.j||++b.j})},Rq=function(a){tf(a.h,function(b){1E5<b.o||++b.o})};var Tq=function(){this.h=[];this.j=[]},Uq=function(a,b){return Hb(a.h,function(c){return c.ma==b})},Vq=function(a,b){return b?Hb(a.h,function(c){return c.ta.ab==b}):null},Wq=function(a,b){return Hb(a.j,function(c){return 2==c.va()&&c.ma==b})},Yq=function(){var a=Xq;return 0==a.h.length?a.j:0==a.j.length?a.h:Ob(a.j,a.h)};Tq.prototype.reset=function(){this.h=[];this.j=[]};
var Zq=function(a,b){a=1==b.va()?a.h:a.j;var c=Ib(a,function(d){return d==b});return-1!=c?(a.splice(c,1),b.fa&&b.fa.Xb(),b.W(),!0):!1},$q=function(a){var b=Xq;if(Zq(b,a)){switch(a.va()){case 0:var c=function(){return null};case 2:c=function(){return Wq(b,a.ma)};break;case 1:c=function(){return Uq(b,a.ma)}}for(var d=c();d;d=c())Zq(b,d)}},ar=function(a){var b=Xq;a=Db(a,function(c){return!Vq(b,c.ta.ab)});b.h.push.apply(b.h,ia(a))},br=function(a){var b=[];Bb(a,function(c){Gb(Xq.h,function(d){return d.ta.ab===
c.ta.ab&&d.ma===c.ma})||(Xq.h.push(c),b.push(c))})},Xq=K(Tq);var cr=function(){this.h=this.j=null},dr=function(a,b){if(null==a.j)return!1;var c=function(d,e){b(d,e)};a.h=Hb(a.j,function(d){return null!=d&&d.Hd()});a.h&&(a.h.init(c)?Go(a.h.h):b(a.h.h.xb(),a.h));return null!=a.h};var fr=function(a){a=er(a);Ko.call(this,a.length?a[a.length-1]:new Co(P,0));this.l=a;this.j=null};t(fr,Ko);l=fr.prototype;l.getName=function(){return(this.j?this.j:this.h).getName()};l.Wa=function(){return(this.j?this.j:this.h).Wa()};l.Ma=function(){return(this.j?this.j:this.h).Ma()};l.init=function(a){var b=!1;Bb(this.l,function(c){c.initialize()&&(b=!0)});b&&(this.o=a,Fo(this.h,this));return b};l.W=function(){Bb(this.l,function(a){a.W()});Ko.prototype.W.call(this)};
l.Hd=function(){return Gb(this.l,function(a){return a.H()})};l.Jb=function(){return Gb(this.l,function(a){return a.H()})};l.Yb=function(a,b,c){return new nq(a,this.h,b,c)};l.Xa=function(a){this.j=a.j};var er=function(a){if(!a.length)return[];a=Db(a,function(c){return null!=c&&c.H()});for(var b=1;b<a.length;b++)Fo(a[b-1],a[b]);return a};var gr={threshold:[0,.3,.5,.75,1]},hr=function(a,b,c,d){Jo.call(this,a,b,c,d);this.F=this.K=this.B=this.C=this.o=null};t(hr,nq);hr.prototype.Qc=function(){var a=this;this.F||(this.F=Xn());if(On(298,function(){return ir(a)}))return!0;Eo(this.l,"msf");return!1};hr.prototype.Xb=function(){if(this.o&&this.j)try{this.o.unobserve(this.j),this.C?(this.C.unobserve(this.j),this.C=null):this.B&&(this.B.disconnect(),this.B=null)}catch(a){}};
var jr=function(a){return a.o&&a.o.takeRecords?a.o.takeRecords():[]},ir=function(a){if(!a.j)return!1;var b=a.j,c=a.l.h.l,d=Q().h.h;a.o=new c.IntersectionObserver(zn(d,function(e){return kr(a,e)}),gr);d=zn(d,function(){a.o.unobserve(b);a.o.observe(b);kr(a,jr(a))});c.ResizeObserver?(a.C=new c.ResizeObserver(d),a.C.observe(b)):c.MutationObserver&&(a.B=new v.MutationObserver(d),a.B.observe(b,{attributes:!0,childList:!0,characterData:!0,subtree:!0}));a.o.observe(b);kr(a,jr(a));return!0},kr=function(a,
b){try{if(b.length){a.K||(a.K=Xn());var c=lr(b),d=Ll(a.j,a.l.h.l),e=d.x,f=d.y;a.h=new I(Math.round(f),Math.round(e)+c.boundingClientRect.width,Math.round(f)+c.boundingClientRect.height,Math.round(e));var g=oo(c.intersectionRect);a.A=ph(g,a.h.left-g.left,a.h.top-g.top)}}catch(h){a.Xb(),Qn(299,h)}},lr=function(a){return Fb(a,function(b,c){return b.time>c.time?b:c},a[0])};l=hr.prototype;l.Va=function(){var a=jr(this);0<a.length&&kr(this,a);nq.prototype.Va.call(this)};l.Uc=function(){};l.de=function(){return!1};
l.Pd=function(){};l.Wa=function(){var a={};return Object.assign(this.l.Wa(),(a.niot_obs=this.F,a.niot_cbk=this.K,a))};l.getName=function(){return"nio"};var mr=function(a){a=void 0===a?P:a;Ko.call(this,new Co(a,2))};t(mr,Ko);mr.prototype.getName=function(){return"nio"};mr.prototype.Jb=function(){return!yo().j&&null!=this.h.h.l.IntersectionObserver};mr.prototype.Yb=function(a,b,c){return new hr(a,this.h,b,c)};var or=function(){var a=nr();Co.call(this,P.top,a,"geo")};t(or,Co);or.prototype.aa=function(){return yo().h};or.prototype.H=function(){var a=nr();this.F!==a&&(this.h!=this&&a>this.h.F&&(this.h=this,Do(this)),this.F=a);return 2==a};var nr=function(){Q();var a=yo();return a.l||a.j?0:2};var pr=function(){};var qr=function(){this.done=!1;this.h={Ze:0,Nd:0,Ai:0,Vd:0,dd:-1,jf:0,hf:0,kf:0,cg:0};this.A=null;this.B=!1;this.l=null;this.C=0;this.j=new Ao(this)},tr=function(){var a=rr;a.B||(a.B=!0,sr(a,function(){return a.o.apply(a,ia(Ha.apply(0,arguments)))}),a.o())};qr.prototype.sample=function(){ur(this,Yq(),!1)};
var vr=function(){K(pr);var a=K(cr);null!=a.h&&a.h.h?Go(a.h.h):uo(yo())},ur=function(a,b,c){if(!a.done&&(a.j.cancel(),0!=b.length)){a.l=null;try{vr();var d=Xn();Q().A=d;if(null!=K(cr).h)for(var e=0;e<b.length;e++)Gp(b[e],d,c);for(d=0;d<b.length;d++)Hp(b[d]);++a.h.Vd}finally{c?Bb(b,function(f){f.qa.ba=0}):Bo(a.j)}}},sr=function(a,b){if(!a.A){b=Pn(142,b);tn();var c=Lh(vm);c&&Se(vm,c,b,{capture:!1})&&(a.A=b)}};
qr.prototype.o=function(){var a=zo(),b=Xn();a?(Wn||(Sn=b,Bb(Xq.h,function(c){var d=c.pa();d.U=hq(d,b,1!=c.la)})),Wn=!0):(this.C=wr(this,b),Wn=!1,Un=b,Bb(Xq.h,function(c){c.Nb&&(c.pa().I=b)}));ur(this,Yq(),!a)};
var xr=function(){var a=K(cr);if(null!=a.h){var b=a.h;Bb(Yq(),function(c){return Ep(c,b)})}},wr=function(a,b){a=a.C;Wn&&(a+=b-Sn);return a},yr=function(a){a=void 0===a?function(){return{}}:a;Ln.xd("av-js");Hn.h=.01;Nn([function(b){var c=Q(),d={};d=(d.bin=c.j,d.type="error",d);c=Rm(c.R);if(!rr.l){var e=rr,f=P.document,g=0<=Tn?Xn()-Tn:-1,h=Xn();-1==e.h.dd&&(g=h);var k=yo(),n=Q(),m=Rm(n.R),x=Yq();try{if(0<x.length){var u=k.h;u&&(m.bs=[u.getWidth(),u.getHeight()]);var y=k.o;y&&(m.ps=[y.width,y.height]);
P.screen&&(m.scs=[P.screen.width,P.screen.height])}else m.url=encodeURIComponent(P.location.href.substring(0,512)),f.referrer&&(m.referrer=encodeURIComponent(f.referrer.substring(0,512)));m.tt=g;m.pt=Tn;m.bin=n.j;void 0!==P.google_osd_load_pub_page_exp&&(m.olpp=P.google_osd_load_pub_page_exp);m.deb=[1,e.h.Ze,e.h.Nd,e.h.Vd,e.h.dd,0,e.j.j,e.h.jf,e.h.hf,e.h.kf,e.h.cg,-1].join(";");m.tvt=wr(e,h);k.j&&(m.inapp=1);if(null!==P&&P!=P.top){0<x.length&&(m.iframe_loc=encodeURIComponent(P.location.href.substring(0,
512)));var A=k.I;m.is=[A.getWidth(),A.getHeight()]}}catch(da){m.error=1}rr.l=m}y=rr.l;u={};for(var F in y)u[F]=y[F];F=Q().h;1==Qm(F.l,"prf")?(y=new xn,A=F.h,e=0,-1<A.h&&(e=A.l.h.h()-A.h),y=hd(y,1,Zc(A.o+e),0),A=F.h,y=hd(y,5,-1<A.h?A.j+1:A.j,0),y=hd(y,2,F.j.h.o(),0),y=hd(y,3,F.j.h.l(),0),F=hd(y,4,F.j.h.j(),0),y={},F=(y.pf=Ac(F.o()),y)):F={};Kf(u,F);Kf(b,d,c,u,a());if(d=Vo())c={},Kf(b,(c.v=encodeURIComponent(d),c))}])},rr=K(qr);var zr=null,Ar="",Br=!1,Cr=function(){var a=zr||P;if(!a)return"";var b=[];if(!a.location||!a.location.href)return"";b.push("url="+encodeURIComponent(a.location.href.substring(0,512)));a.document&&a.document.referrer&&b.push("referrer="+encodeURIComponent(a.document.referrer.substring(0,512)));return b.join("&")};function Dr(){var a="av.default_js_unreleased_RCxx".match(/_(\d{8})_RC\d+$/)||"av.default_js_unreleased_RCxx".match(/_(\d{8})_\d+_\d+$/)||"av.default_js_unreleased_RCxx".match(/_(\d{8})_\d+\.\d+$/)||"av.default_js_unreleased_RCxx".match(/_(\d{8})_\d+_RC\d+$/),b;if(2==(null==(b=a)?void 0:b.length))return a[1];a="av.default_js_unreleased_RCxx".match(/.*_(\d{2})\.(\d{4})\.\d+_RC\d+$/);var c;return 3==(null==(c=a)?void 0:c.length)?"20"+a[1]+a[2]:null}
var Er=function(){return"ima_html5_sdk".includes("ima_html5_sdk")?{Da:"ima",Ea:null}:"ima_html5_sdk".includes("ima_native_sdk")?{Da:"nima",Ea:null}:"ima_html5_sdk".includes("admob-native-video-javascript")?{Da:"an",Ea:null}:"av.default_js_unreleased_RCxx".includes("cast_js_sdk")?{Da:"cast",Ea:Dr()}:"av.default_js_unreleased_RCxx".includes("youtube.player.web")?{Da:"yw",Ea:Dr()}:"av.default_js_unreleased_RCxx".includes("outstream_web_client")?{Da:"out",Ea:Dr()}:"av.default_js_unreleased_RCxx".includes("drx_rewarded_web")?
{Da:"r",Ea:Dr()}:"av.default_js_unreleased_RCxx".includes("gam_native_web_video")?{Da:"n",Ea:Dr()}:"av.default_js_unreleased_RCxx".includes("admob_interstitial_video")?{Da:"int",Ea:Dr()}:{Da:"j",Ea:null}},Fr=Er().Da,Gr=Er().Ea;var Ir=function(a,b){var c={sv:"948"};null!==Gr&&(c.v=Gr);c.cb=Fr;c.nas=Xq.h.length;c.msg=a;void 0!==b&&(a=Hr(b))&&(c.e=fo[a]);return c},Jr=function(a){return 0==a.lastIndexOf("custom_metric_viewable",0)},Hr=function(a){var b=Jr(a)?"custom_metric_viewable":a.toLowerCase();return Ef(function(c){return c==b})};var Kr={Ig:"visible",rg:"audible",Rh:"time",Th:"timetype"},Lr={visible:function(a){return/^(100|[0-9]{1,2})$/.test(a)},audible:function(a){return"0"==a||"1"==a},timetype:function(a){return"mtos"==a||"tos"==a},time:function(a){return/^(100|[0-9]{1,2})%$/.test(a)||/^([0-9])+ms$/.test(a)}},Mr=function(){this.h=void 0;this.j=!1;this.l=0;this.o=-1;this.A="tos"},Nr=function(a){try{var b=a.split(",");return b.length>Af(Kr).length?null:Fb(b,function(c,d){d=d.toLowerCase().split("=");if(2!=d.length||void 0===
Lr[d[0]]||!Lr[d[0]](d[1]))throw Error("Entry ("+d[0]+", "+d[1]+") is invalid.");c[d[0]]=d[1];return c},{})}catch(c){return null}},Or=function(a,b){if(void 0==a.h)return 0;switch(a.A){case "mtos":return a.j?hp(b.h,a.h):hp(b.j,a.h);case "tos":return a.j?fp(b.h,a.h):fp(b.j,a.h)}return 0};var Pr=function(a,b,c,d){jq.call(this,b,d);this.C=a;this.I=c};t(Pr,jq);Pr.prototype.getId=function(){return this.C};Pr.prototype.B=function(){return!0};Pr.prototype.h=function(a){var b=a.pa(),c=a.getDuration();return Gb(this.I,function(d){if(void 0!=d.h)var e=Or(d,b);else b:{switch(d.A){case "mtos":e=d.j?b.A.l:b.l.h;break b;case "tos":e=d.j?b.A.h:b.l.h;break b}e=0}0==e?d=!1:(d=-1!=d.l?d.l:void 0!==c&&0<c?d.o*c:-1,d=-1!=d&&e>=d);return d})};var Qr=function(){};t(Qr,Zp);Qr.prototype.h=function(a){var b=new Yp;b.h=$p(a,Vp);b.j=$p(a,Xp);return b};var Rr=function(a){jq.call(this,"fully_viewable_audible_half_duration_impression",a)};t(Rr,jq);Rr.prototype.h=function(a){return Bq(a)};var Sr=function(a){this.h=a};t(Sr,lq);var Tr=function(a,b){jq.call(this,a,b)};t(Tr,jq);Tr.prototype.h=function(a){return a.pa().Oa()};var Ur=function(a){kq.call(this,"measurable_impression",a)};t(Ur,kq);Ur.prototype.h=function(a){var b=Kb(this.C,Qm(Q().R,"ovms"));return!a.Na&&(0!=a.la||b)};var Vr=function(){Sr.apply(this,arguments)};t(Vr,Sr);Vr.prototype.j=function(){return new Ur(this.h)};Vr.prototype.l=function(){return[new Tr("viewable_impression",this.h),new Rr(this.h)]};var Wr=function(a,b,c){pq.call(this,a,b,c)};t(Wr,pq);Wr.prototype.o=function(){var a=Ma("ima.admob.getViewability"),b=Qm(this.R,"queryid");"function"===typeof a&&b&&a(b)};Wr.prototype.getName=function(){return"gsv"};var Xr=function(a){a=void 0===a?P:a;Ko.call(this,new Co(a,2))};t(Xr,Ko);Xr.prototype.getName=function(){return"gsv"};Xr.prototype.Jb=function(){var a=yo();Q();return a.j&&!1};Xr.prototype.Yb=function(a,b,c){return new Wr(this.h,b,c)};var Yr=function(a,b,c){pq.call(this,a,b,c)};t(Yr,pq);Yr.prototype.o=function(){var a=this,b=Ma("ima.bridge.getNativeViewability"),c=Qm(this.R,"queryid");"function"===typeof b&&c&&b(c,function(d){Gf(d)&&a.B++;var e=d.opt_nativeViewVisibleBounds||{},f=d.opt_nativeViewHidden;a.h=po(d.opt_nativeViewBounds||{});var g=a.l.o;g.h=f?nh(oq):po(e);a.timestamp=d.opt_nativeTime||-1;yo().h=g.h;d=d.opt_nativeVolume;void 0!==d&&(g.volume=d)})};Yr.prototype.getName=function(){return"nis"};var Zr=function(a){a=void 0===a?P:a;Ko.call(this,new Co(a,2))};t(Zr,Ko);Zr.prototype.getName=function(){return"nis"};Zr.prototype.Jb=function(){var a=yo();Q();return a.j&&!1};Zr.prototype.Yb=function(a,b,c){return new Yr(this.h,b,c)};var $r=function(){Co.call(this,P,2,"mraid");this.ca=0;this.L=this.M=!1;this.K=null;this.j=go(this.l);this.o.h=new I(0,0,0,0);this.ia=!1};t($r,Co);$r.prototype.H=function(){return null!=this.j.za};$r.prototype.Z=function(){var a={};this.ca&&(a.mraid=this.ca);this.M&&(a.mlc=1);a.mtop=this.j.bg;this.K&&(a.mse=this.K);this.ia&&(a.msc=1);a.mcp=this.j.kc;return a};
$r.prototype.C=function(a){var b=Ha.apply(1,arguments);try{return this.j.za[a].apply(this.j.za,b)}catch(c){Qn(538,c,.01,function(d){d.method=a})}};var as=function(a,b,c){a.C("addEventListener",b,c)};
$r.prototype.initialize=function(){var a=this;if(this.B)return!this.Pb();this.B=!0;if(2===this.j.kc)return this.K="ng",Eo(this,"w"),!1;if(1===this.j.kc)return this.K="mm",Eo(this,"w"),!1;yo().K=!0;this.l.document.readyState&&"complete"==this.l.document.readyState?bs(this):tp(this.l,"load",function(){tn().setTimeout(Pn(292,function(){return bs(a)}),100)},292);return!0};
var bs=function(a){Q().o=!!a.C("isViewable");as(a,"viewableChange",cs);"loading"===a.C("getState")?as(a,"ready",ds):es(a)},es=function(a){"string"===typeof a.j.za.AFMA_LIDAR?(a.M=!0,fs(a)):(a.j.kc=3,a.K="nc",Eo(a,"w"))},fs=function(a){a.L=!1;var b=1==Qm(Q().R,"rmmt"),c=!!a.C("isViewable");(b?!c:1)&&tn().setTimeout(Pn(524,function(){a.L||(gs(a),Qn(540,Error()),a.K="mt",Eo(a,"w"))}),500);hs(a);as(a,a.j.za.AFMA_LIDAR,is)},hs=function(a){var b=1==Qm(Q().R,"sneio"),c=void 0!==a.j.za.AFMA_LIDAR_EXP_1,d=
void 0!==a.j.za.AFMA_LIDAR_EXP_2;(b=b&&d)&&(a.j.za.AFMA_LIDAR_EXP_2=!0);c&&(a.j.za.AFMA_LIDAR_EXP_1=!b)},gs=function(a){a.C("removeEventListener",a.j.za.AFMA_LIDAR,is);a.M=!1};$r.prototype.U=function(){var a=yo(),b=js(this,"getMaxSize");a.h=new I(0,b.width,b.height,0)};$r.prototype.V=function(){yo().A=js(this,"getScreenSize")};
var js=function(a,b){if("loading"===a.C("getState"))return new G(-1,-1);b=a.C(b);if(!b)return new G(-1,-1);a=parseInt(b.width,10);b=parseInt(b.height,10);return isNaN(a)||isNaN(b)?new G(-1,-1):new G(a,b)};$r.prototype.W=function(){gs(this);Co.prototype.W.call(this)};
var ds=function(){try{var a=K($r);a.C("removeEventListener","ready",ds);es(a)}catch(b){Qn(541,b)}},is=function(a,b){try{var c=K($r);c.L=!0;var d=a?new I(a.y,a.x+a.width,a.y+a.height,a.x):new I(0,0,0,0);var e=Xn(),f=zo();var g=new Zn(e,f,c);g.h=d;g.volume=b;c.Xa(g)}catch(h){Qn(542,h)}},cs=function(a){var b=Q(),c=K($r);a&&!b.o&&(b.o=!0,c.ia=!0,c.K&&Eo(c,"w",!0))};var ls=function(){this.l=this.B=!1;this.h=this.j=null;var a={};this.M=(a.start=this.Bf,a.firstquartile=this.wf,a.midpoint=this.yf,a.thirdquartile=this.Cf,a.complete=this.tf,a.error=this.uf,a.pause=this.pd,a.resume=this.ne,a.skip=this.Af,a.viewable_impression=this.Fa,a.mute=this.Eb,a.unmute=this.Eb,a.fullscreen=this.xf,a.exitfullscreen=this.vf,a.fully_viewable_audible_half_duration_impression=this.Fa,a.measurable_impression=this.Fa,a.abandon=this.pd,a.engagedview=this.Fa,a.impression=this.Fa,a.creativeview=
this.Fa,a.progress=this.Eb,a.custom_metric_viewable=this.Fa,a.bufferstart=this.pd,a.bufferfinish=this.ne,a.audio_measurable=this.Fa,a.audio_audible=this.Fa,a);a={};this.U=(a.overlay_resize=this.zf,a.abandon=this.cd,a.close=this.cd,a.collapse=this.cd,a.overlay_unmeasurable_impression=function(b){return Iq(b,"overlay_unmeasurable_impression",zo())},a.overlay_viewable_immediate_impression=function(b){return Iq(b,"overlay_viewable_immediate_impression",zo())},a.overlay_unviewable_impression=function(b){return Iq(b,
"overlay_unviewable_impression",zo())},a.overlay_viewable_end_of_session_impression=function(b){return Iq(b,"overlay_viewable_end_of_session_impression",zo())},a);Q().j=3;ks(this)};ls.prototype.A=function(a){Dp(a,!1);$q(a)};ls.prototype.K=function(){};var ms=function(a,b,c,d){a=a.C(null,d,!0,b);a.A=c;ar([a]);return a};
ls.prototype.C=function(a,b,c,d){var e=this;a=new tq(P,a,c?b:-1,7,this.Wc(),this.Td());a.ma=d;Om(a.R);Pm(a.R,"queryid",a.ma);a.rd("");Ip(a,function(){return e.L.apply(e,ia(Ha.apply(0,arguments)))},function(){return e.O.apply(e,ia(Ha.apply(0,arguments)))});(d=K(cr).h)&&Ep(a,d);a.ta.ab&&K(pr);return a};
var ns=function(a,b,c){wm(b);var d=a.h;Bb(b,function(e){var f=Eb(e.j,function(g){var h=Nr(g);if(null==h)g=null;else if(g=new Mr,null!=h.visible&&(g.h=h.visible/100),null!=h.audible&&(g.j=1==h.audible),null!=h.time){var k="mtos"==h.timetype?"mtos":"tos",n=eb(h.time,"%")?"%":"ms";h=parseInt(h.time,10);"%"==n&&(h/=100);"ms"==n?(g.l=h,g.o=-1):(g.l=-1,g.o=h);g.A=void 0===k?"tos":k}return g});Gb(f,function(g){return null==g})||Aq(c,new Pr(e.id,e.h,f,d))})},os=function(){var a=[],b=Q();a.push(K(or));Qm(b.R,
"mvp_lv")&&a.push(K($r));b=[new Xr,new Zr];b.push(new fr(a));b.push(new mr(P));return b},qs=function(a){if(!a.B){a.B=!0;try{var b=Xn(),c=Q(),d=yo();Tn=b;c.l=79463069;"o"!==a.j&&(zr=mh(P));if(un()){rr.h.Nd=0;rr.h.dd=Xn()-b;var e=os(),f=K(cr);f.j=e;dr(f,function(){ps()})?rr.done||(xr(),Fo(f.h.h,a),tr()):d.l?ps():tr()}else Br=!0}catch(g){throw Xq.reset(),g;}}},rs=function(a){rr.j.cancel();Ar=a;rr.done=!0},ts=function(a){if(a.j)return a.j;var b=K(cr).h;if(b)switch(b.getName()){case "nis":a.j="n";break;
case "gsv":a.j="m"}a.j||(a.j="h");return a.j},us=function(a,b,c){if(null==a.h)return b.Fb|=4,!1;a=a.h.report(c,b);b.Fb|=a;return 0==a};ls.prototype.Ab=function(a){switch(a.Ma()){case 0:if(a=K(cr).h)a=a.h,Lb(a.A,this),a.G&&this.Ha()&&Ho(a);ps();break;case 2:tr()}};ls.prototype.Xa=function(){};ls.prototype.Ha=function(){return!1};var ps=function(){var a=[new mr(P)],b=K(cr);b.j=a;dr(b,function(){rs("i")})?rr.done||(xr(),tr()):rs("i")};
ls.prototype.O=function(a,b){a.Na=!0;switch(a.va()){case 1:vs(a,b);break;case 2:this.ud(a)}this.wd(a)};var vs=function(a,b){if(!a.ua){var c=Iq(a,"start",zo());c=a.qd.h(c).h;var d={id:"lidarv"};d.r=b;d.sv="948";null!==Gr&&(d.v=Gr);Og(c,function(e,f){return d[e]="mtos"==e||"tos"==e?f:encodeURIComponent(f)});b=Cr();Og(b,function(e,f){return d[e]=encodeURIComponent(f)});b="//pagead2.googlesyndication.com/pagead/gen_204?"+So(Qo(new Oo,d));Wo(b);a.ua=!0}};l=ls.prototype;
l.Bf=function(a){var b=a.C(a);b&&(b=b.volume,a.ia=qo(b)&&0<b);Fq(a,0);return Iq(a,"start",zo())};l.Eb=function(a,b,c){ur(rr,[a],!zo());return this.Fa(a,b,c)};l.Fa=function(a,b,c){return Iq(a,c,zo())};l.wf=function(a){return ws(a,"firstquartile",1)};l.yf=function(a){a.aa=!0;return ws(a,"midpoint",2)};l.Cf=function(a){return ws(a,"thirdquartile",3)};l.tf=function(a){var b=ws(a,"complete",4);uq(a);return b};l.uf=function(a){a.la=3;return Iq(a,"error",zo())};
var ws=function(a,b,c){ur(rr,[a],!zo());Fq(a,c);4!=c&&Eq(a.L,c,a.sc);return Iq(a,b,zo())};l=ls.prototype;l.ne=function(a,b,c){b=zo();2!=a.la||b||(a.pa().I=Xn());ur(rr,[a],!b);2==a.la&&(a.la=1);return Iq(a,c,b)};l.Af=function(a,b){b=this.Eb(a,b||{},"skip");uq(a);return b};l.xf=function(a,b){Dp(a,!0);return this.Eb(a,b||{},"fullscreen")};l.vf=function(a,b){Dp(a,!1);return this.Eb(a,b||{},"exitfullscreen")};
l.pd=function(a,b,c){b=a.pa();b.U=hq(b,Xn(),1!=a.la);ur(rr,[a],!zo());1==a.la&&(a.la=2);return Iq(a,c,zo())};l.zf=function(a){ur(rr,[a],!zo());return a.j()};l.cd=function(a){ur(rr,[a],!zo());this.ke(a);uq(a);return a.j()};
var ks=function(a){yr(function(){var b=xs();null!=a.j&&(b.sdk=a.j);var c=K(cr);null!=c.h&&(b.avms=c.h.getName());return b})},ys=function(a,b,c,d){var e=Vq(Xq,c);null!==e&&e.ma!==b&&(a.A(e),e=null);e||(b=a.C(c,Xn(),!1,b),0==Xq.j.length&&(Q().l=79463069),br([b]),e=b,e.A=ts(a),d&&(e.playerId=d));return e};ls.prototype.L=function(){};var As=function(a,b){b.F=0;for(var c in ao)null==a[c]&&(b.F|=ao[c]);zs(a,"currentTime");zs(a,"duration")};l=ls.prototype;l.ud=function(){};l.ke=function(){};l.Id=function(){};
l.wd=function(){};l.Xc=function(){};l.Td=function(){this.h||(this.h=this.Xc());return null==this.h||this.l?new mq:new Vr(this.h)};l.Wc=function(){return new Qr};var zs=function(a,b){var c=a[b];void 0!==c&&0<c&&(a[b]=Math.floor(1E3*c))},xs=function(){var a=yo(),b={},c={},d={};return Object.assign({},(b.sv="948",b),null!==Gr&&(c.v=Gr,c),(d["if"]=a.l?"1":"0",d.nas=String(Xq.h.length),d))};var Bs=function(a){jq.call(this,"audio_audible",a)};t(Bs,jq);Bs.prototype.h=function(a){return 4==a.qc()};var Cs=function(a){kq.call(this,"audio_measurable",a)};t(Cs,kq);Cs.prototype.h=function(a){a=a.qc();return 3==a||4==a};var Ds=function(){Sr.apply(this,arguments)};t(Ds,Sr);Ds.prototype.j=function(){return new Cs(this.h)};Ds.prototype.l=function(){return[new Bs(this.h)]};var Es=function(){};t(Es,Zp);Es.prototype.h=function(a){a&&(28===a.e&&(a=Object.assign({},a,{avas:3})),4===a.vs||5===a.vs)&&(a=Object.assign({},a,{vs:3}));var b=new Yp;b.h=$p(a,Wp);b.j=$p(a,Xp);return b};var Fs=function(a){this.j=a};Fs.prototype.report=function(a,b){var c=this.h(b);if("function"===typeof c){var d={};var e={};d=Object.assign({},null!==Gr&&(d.v=Gr,d),(e.sv="948",e.cb=Fr,e.e=Gs(a),e));e=Iq(b,a,zo());Kf(d,e);b.se[a]=e;d=2==b.va()?Uo(d).join("&"):b.qd.h(d).h;try{return c(b.ma,d,a),0}catch(f){return 2}}else return 1};var Gs=function(a){var b=Jr(a)?"custom_metric_viewable":a;a=Ef(function(c){return c==b});return fo[a]};Fs.prototype.h=function(){return Ma(this.j)};var Hs=function(a,b){this.j=a;this.l=b};t(Hs,Fs);Hs.prototype.h=function(a){if(!a.playerId)return Fs.prototype.h.call(this,a);if(this.l[a.playerId])return function(){};Qn(393,Error());return null};var Is=function(){ls.call(this);this.G=void 0;this.H=null;this.F=!1;this.o={};this.J=0;this.I="ACTIVE_VIEW_TRAFFIC_TYPE_UNSPECIFIED"};t(Is,ls);Is.prototype.K=function(a,b){var c=this,d=K(cr);if(null!=d.h)switch(d.h.getName()){case "nis":var e=Js(this,a,b);break;case "gsv":e=Ks(this,a,b);break;case "exc":e=Ls(this,a)}e||(b.opt_overlayAdElement?e=void 0:b.opt_adElement&&(e=ys(this,a,b.opt_adElement,b.opt_osdId)));e&&1==e.va()&&(e.C==Me&&(e.C=function(f){return c.Id(f)}),Ms(this,e,b));return e};
var Ms=function(a,b,c){c=c.opt_configurable_tracking_events;null!=a.h&&Array.isArray(c)&&ns(a,c,b)};
Is.prototype.Id=function(a){a.j=0;a.M=0;if("h"==a.A||"n"==a.A){var b;Q();if(a.playerId&&Ns(this)){var c=this.o[a.playerId];c?b=function(e){return Os(c,e)}:null!==c&&Qn(379,Error())}else b=Ma("ima.common.getVideoMetadata");if("function"===typeof b)try{var d=b(a.ma)}catch(e){a.j|=4}else a.j|=2}else if("b"==a.A)if(b=Ma("ytads.bulleit.getVideoMetadata"),"function"===typeof b)try{d=b(a.ma)}catch(e){a.j|=4}else a.j|=2;else if("ml"==a.A)if(b=Ma("ima.common.getVideoMetadata"),"function"===typeof b)try{d=
b(a.ma)}catch(e){a.j|=4}else a.j|=2;else a.j|=1;a.j||(void 0===d?a.j|=8:null===d?a.j|=16:Gf(d)?a.j|=32:null!=d.errorCode&&(a.M=d.errorCode,a.j|=64));null==d&&(d={});As(d,a);qo(d.volume)&&qo(this.G)&&(d.volume*=this.G);return d};var Ks=function(a,b,c){var d=Uq(Xq,b);d||(d=c.opt_nativeTime||-1,d=ms(a,b,ts(a),d),c.opt_osdId&&(d.playerId=c.opt_osdId));return d},Js=function(a,b,c){var d=Uq(Xq,b);d||(d=ms(a,b,"n",c.opt_nativeTime||-1));return d},Ls=function(a,b){var c=Uq(Xq,b);c||(c=ms(a,b,"h",-1));return c};
Is.prototype.Xc=function(){if(Ns(this))return new Hs("ima.common.triggerExternalActivityEvent",this.o);var a=Ps(this);return null!=a?new Fs(a):null};var Ps=function(a){Q();switch(ts(a)){case "b":return"ytads.bulleit.triggerExternalActivityEvent";case "n":return"ima.bridge.triggerExternalActivityEvent";case "h":case "m":case "ml":return"ima.common.triggerExternalActivityEvent"}return null};Is.prototype.ud=function(a){!a.h&&a.Na&&us(this,a,"overlay_unmeasurable_impression")&&(a.h=!0)};
Is.prototype.ke=function(a){a.oe&&(a.Oa()?us(this,a,"overlay_viewable_end_of_session_impression"):us(this,a,"overlay_unviewable_impression"),a.oe=!1)};
var Qs=function(a,b,c,d){c=void 0===c?{}:c;var e={};Kf(e,{opt_adElement:void 0,opt_fullscreen:void 0},c);var f=a.K(b,c);c=f?f.qd:a.Wc();if(e.opt_bounds)return c.h(Ir("ol",d));if(void 0!==d)if(void 0!==Hr(d))if(Br)a=Ir("ue",d);else if(qs(a),"i"==Ar)a=Ir("i",d),a["if"]=0;else if(b=a.K(b,e)){b:{"i"==Ar&&(b.Na=!0,a.wd(b));f=e.opt_fullscreen;void 0!==f&&Dp(b,!!f);var g;if(f=!yo().j&&!to())tn(),f=0===Kh(vm);if(g=f){switch(b.va()){case 1:vs(b,"pv");break;case 2:a.ud(b)}rs("pv")}f=d.toLowerCase();if(g=!g)c:{if(Qm(Q().R,
"ssmol")&&(g=a.l,"loaded"===f))break c;g=Kb(bo,f)}if(g&&0==b.la){"i"!=Ar&&(rr.done=!1);g=void 0!==e?e.opt_nativeTime:void 0;Vn=g="number"===typeof g?g:Xn();b.Nb=!0;var h=zo();b.la=1;b.ka={};b.ka.start=!1;b.ka.firstquartile=!1;b.ka.midpoint=!1;b.ka.thirdquartile=!1;b.ka.complete=!1;b.ka.resume=!1;b.ka.pause=!1;b.ka.skip=!1;b.ka.mute=!1;b.ka.unmute=!1;b.ka.viewable_impression=!1;b.ka.measurable_impression=!1;b.ka.fully_viewable_audible_half_duration_impression=!1;b.ka.fullscreen=!1;b.ka.exitfullscreen=
!1;b.Yc=0;h||(b.pa().I=g);ur(rr,[b],!h)}(g=b.pb[f])&&bq(b.ha,g);Qm(Q().R,"fmd")||Kb(co,f)&&b.Qa&&b.Qa.j(b,null);switch(b.va()){case 1:var k=Jr(f)?a.M.custom_metric_viewable:a.M[f];break;case 2:k=a.U[f]}if(k&&(d=k.call(a,b,e,d),Qm(Q().R,"fmd")&&Kb(co,f)&&b.Qa&&b.Qa.j(b,null),void 0!==d)){e=Ir(void 0,f);Kf(e,d);d=e;break b}d=void 0}3==b.la&&a.A(b);a=d}else a=Ir("nf",d);else a=void 0;else Br?a=Ir("ue"):f?(a=Ir(),Kf(a,Hq(f,!0,!1,!1))):a=Ir("nf");return"string"===typeof a?c.h():c.h(a)};
Is.prototype.L=function(a){this.l&&1==a.va()&&Rs(this,a)};Is.prototype.wd=function(a){this.l&&1==a.va()&&Rs(this,a)};var Rs=function(a,b){var c;if(b.playerId&&Ns(a)){var d=a.o[b.playerId];d?c=function(f,g){Ss(d,f,g)}:null!==d&&Qn(379,Error())}else c=Ma("ima.common.triggerViewabilityMeasurementUpdate");if("function"===typeof c){var e=Cq(b);e.nativeVolume=a.G;c(b.ma,e)}},Ts=function(a,b,c){a.o[b]=c},Ns=function(a){return(Q(),"h"!=ts(a)&&"m"!=ts(a))?!1:0!=a.J};
Is.prototype.C=function(a,b,c,d){if(Cn()){var e=Qm(Q().R,"mm"),f={};(e=(f[zm.ue]="ACTIVE_VIEW_TRAFFIC_TYPE_AUDIO",f[zm.Ye]="ACTIVE_VIEW_TRAFFIC_TYPE_VIDEO",f)[e])&&e&&(this.I=e);"ACTIVE_VIEW_TRAFFIC_TYPE_UNSPECIFIED"===this.I&&Qn(1044,Error())}a=ls.prototype.C.call(this,a,b,c,d);this.F&&(b=this.H,null==a.o&&(a.o=new Lp),b.h[a.ma]=a.o,a.o.A=Kq);return a};Is.prototype.A=function(a){a&&1==a.va()&&this.F&&delete this.H.h[a.ma];return ls.prototype.A.call(this,a)};
Is.prototype.Td=function(){this.h||(this.h=this.Xc());return null==this.h||this.l?new mq:"ACTIVE_VIEW_TRAFFIC_TYPE_AUDIO"===this.I?new Ds(this.h):new Vr(this.h)};Is.prototype.Wc=function(){return"ACTIVE_VIEW_TRAFFIC_TYPE_AUDIO"===this.I?new Es:new Qr};var Us=function(a){var b={};return b.viewability=a.h,b.googleViewability=a.j,b},Vs=function(a,b,c){c=void 0===c?{}:c;a=Qs(K(Is),b,c,a);return Us(a)},Ws=Pn(193,Vs,void 0,xs);w("Goog_AdSense_Lidar_sendVastEvent",Ws);
var Xs=Pn(194,function(a,b){b=void 0===b?{}:b;a=Qs(K(Is),a,b);return Us(a)});w("Goog_AdSense_Lidar_getViewability",Xs);var Ys=Pn(195,function(){return vn()});w("Goog_AdSense_Lidar_getUrlSignalsArray",Ys);var Zs=Pn(196,function(){return JSON.stringify(vn())});w("Goog_AdSense_Lidar_getUrlSignalsList",Zs);var $s=function(){this.h=Math.random()},bt=function(){var a=at,b=window.google_srt;0<=b&&1>=b&&(a.h=b)},ct=function(a,b,c,d,e){if(((void 0===d?0:d)?a.h:Math.random())<(e||.01))try{if(c instanceof fn)var f=c;else f=new fn,dh(c,function(h,k){var n=f,m=n.o++;kn(n,m,gn(k,h))});var g=nn(f,"https:","/pagead/gen_204?id="+b+"&");g&&Ch(v,g)}catch(h){}};var et=function(){var a=dt;this.B=at;this.A="jserror";this.l=!0;this.j=null;this.C=this.Pa;this.h=void 0===a?null:a;this.o=!1};l=et.prototype;l.Ic=function(a){this.j=a};l.xd=function(a){this.A=a};l.yd=function(a){this.l=a};l.zd=function(a){this.o=a};
l.nb=function(a,b,c){try{if(this.h&&this.h.l){var d=this.h.start(a.toString(),3);var e=b();this.h.end(d)}else e=b()}catch(h){b=this.l;try{Wh(d),b=this.C(a,new Fh(h,{message:ft(h)}),void 0,c)}catch(k){this.Pa(217,k)}if(b){var f,g;null==(f=window.console)||null==(g=f.error)||g.call(f,h)}else throw h;}return e};l.td=function(a,b,c,d){var e=this;return function(){var f=Ha.apply(0,arguments);return e.nb(a,function(){return b.apply(c,f)},d)}};
l.Pa=function(a,b,c,d,e){e=e||this.A;try{var f=new fn;ln(f,1,"context",a);Gh(b)||(b=new Fh(b,{message:ft(b)}));b.msg&&ln(f,2,"msg",b.msg.substring(0,512));var g=b.meta||{};if(this.j)try{this.j(g)}catch(k){}if(d)try{d(g)}catch(k){}kn(f,3,[g]);var h=en();h.j&&ln(f,4,"top",h.j.url||"");kn(f,5,[{url:h.h.url||""},{url:h.h.url?Ng(h.h.url):""}]);ct(this.B,e,f,this.o,c)}catch(k){try{ct(this.B,e,{context:"ecmserr",rctx:a,msg:ft(k),url:h&&h.h.url},this.o,c)}catch(n){}}return this.l};
var ft=function(a){var b=a.toString();a.name&&-1==b.indexOf(a.name)&&(b+=": "+a.name);a.message&&-1==b.indexOf(a.message)&&(b+=": "+a.message);if(a.stack){a=a.stack;var c=b;try{-1==a.indexOf(c)&&(a=c+"\n"+a);for(var d;a!=d;)d=a,a=a.replace(RegExp("((https?:/..*/)[^/:]*:\\d+(?:.|\n)*)\\2"),"$1");b=a.replace(RegExp("\n *","g"),"\n")}catch(e){b=c}}return b};var gt=function(){};var at,ht,dt=new Vh(1,window);(function(a){at=null!=a?a:new $s;"number"!==typeof window.google_srt&&(window.google_srt=Math.random());bt();ht=new et;ht.Ic(function(){});ht.zd(!0);"complete"==window.document.readyState?window.google_measure_js_timing||dt.I():dt.l&&Se(window,"load",function(){window.google_measure_js_timing||dt.I()})})();var jt=function(a){D.call(this,a,-1,it)};t(jt,D);var it=[3];var lt=function(a){D.call(this,a,-1,kt)};t(lt,D);var mt=function(a,b){return gd(a,1,b)},nt=function(a,b){return gd(a,2,b)},ot=function(a,b){return gd(a,3,b)},pt=function(a,b){gd(a,4,b)},kt=[1,2,3,4];var qt=function(a){D.call(this,a)};t(qt,D);var tt=function(a){D.call(this,a,-1,rt)};t(tt,D);tt.prototype.getVersion=function(){return rd(B(this,1),0)};
var ut=function(a,b){return hd(a,1,b,0)},vt=function(a,b){return nd(a,2,b)},wt=function(a,b){return nd(a,3,b)},xt=function(a,b){return hd(a,4,b,0)},yt=function(a,b){return hd(a,5,b,0)},zt=function(a,b){return hd(a,6,b,0)},At=function(a,b){return hd(a,7,b,"")},Bt=function(a,b){return hd(a,8,b,0)},Ct=function(a,b){return hd(a,9,b,0)},Dt=function(a,b){return hd(a,10,b,!1)},Et=function(a,b){return hd(a,11,b,!1)},Ft=function(a,b){return gd(a,12,b)},Gt=function(a,b){return gd(a,13,b)},Ht=function(a,b){return gd(a,
14,b)},It=function(a,b){return hd(a,15,b,!1)},Jt=function(a,b){return hd(a,16,b,"")},Kt=function(a,b){return gd(a,17,b)},Lt=function(a,b){return gd(a,18,b)},Mt=function(a,b){return od(a,19,b)},rt=[12,13,14,17,18,19];var Nt=function(a){D.call(this,a)};t(Nt,D);var Ot="a".charCodeAt(),Pt=zf({hh:0,gh:1,bh:2,Wg:3,eh:4,Xg:5,fh:6,Zg:7,ah:8,Vg:9,Yg:10}),Qt=zf({jh:0,kh:1,ih:2});var Rt=function(a){if(/[^01]/.test(a))throw Error("Input bitstring "+a+" is malformed!");this.j=a;this.h=0},Tt=function(a){a=St(a,36);var b=new qt;b=hd(b,1,Math.floor(a/10),0);return hd(b,2,a%10*1E8,0)},Ut=function(a){return String.fromCharCode(Ot+St(a,6))+String.fromCharCode(Ot+St(a,6))},Xt=function(a){var b=St(a,16);return!0===!!St(a,1)?(a=Vt(a),a.forEach(function(c){if(c>b)throw Error("ID "+c+" is past MaxVendorId "+b+"!");}),a):Wt(a,b)},Yt=function(a){for(var b=[],c=St(a,12);c--;){var d=St(a,
6),e=St(a,2),f=Vt(a),g=b,h=g.push,k=new jt;d=hd(k,1,d,0);e=hd(d,2,e,0);f=gd(e,3,f);h.call(g,f)}return b},Vt=function(a){for(var b=St(a,12),c=[];b--;){var d=!0===!!St(a,1),e=St(a,16);if(d)for(d=St(a,16);e<=d;e++)c.push(e);else c.push(e)}c.sort(function(f,g){return f-g});return c},Wt=function(a,b,c){for(var d=[],e=0;e<b;e++)if(St(a,1)){var f=e+1;if(c&&-1===c.indexOf(f))throw Error("ID: "+f+" is outside of allowed values!");d.push(f)}return d},St=function(a,b){if(a.h+b>a.j.length)throw Error("Requested length "+
b+" is past end of string.");var c=a.j.substring(a.h,a.h+b);a.h+=b;return parseInt(c,2)};Rt.prototype.skip=function(a){this.h+=a};var Zt=function(a){try{var b=Cc(a).map(function(f){return f.toString(2).padStart(8,"0")}).join(""),c=new Rt(b);if(3!==St(c,3))return null;var d=nt(mt(new lt,Wt(c,24,Pt)),Wt(c,24,Pt)),e=St(c,6);0!==e&&pt(ot(d,Wt(c,e)),Wt(c,e));return d}catch(f){return null}};var $t=function(a){try{var b=Cc(a).map(function(d){return d.toString(2).padStart(8,"0")}).join(""),c=new Rt(b);return Mt(Lt(Kt(Jt(It(Ht(Gt(Ft(Et(Dt(Ct(Bt(At(zt(yt(xt(wt(vt(ut(new tt,St(c,6)),Tt(c)),Tt(c)),St(c,12)),St(c,12)),St(c,6)),Ut(c)),St(c,12)),St(c,6)),!!St(c,1)),!!St(c,1)),Wt(c,12,Qt)),Wt(c,24,Pt)),Wt(c,24,Pt)),!!St(c,1)),Ut(c)),Xt(c)),Xt(c)),Yt(c))}catch(d){return null}};var bu=function(a){if(!a)return null;var b=a.split(".");if(4<b.length)return null;a=$t(b[0]);if(!a)return null;var c=new Nt;a=nd(c,1,a);b.shift();b=r(b);for(c=b.next();!c.done;c=b.next())switch(c=c.value,au(c)){case 1:case 2:break;case 3:c=Zt(c);if(!c)return null;nd(a,2,c);break;default:return null}return a},au=function(a){try{var b=Cc(a).map(function(c){return c.toString(2).padStart(8,"0")}).join("");return St(new Rt(b),3)}catch(c){return-1}};var cu=function(a,b){var c={};if(Array.isArray(b)&&0!==b.length){b=r(b);for(var d=b.next();!d.done;d=b.next())d=d.value,c[d]=-1!==a.indexOf(d)}else for(a=r(a),d=a.next();!d.done;d=a.next())c[d.value]=!0;delete c[0];return c};var du=/^((market|itms|intent|itms-appss):\/\/)/i;var R=function(a,b){this.j=this.B=this.o="";this.K=null;this.F=this.h="";this.A=!1;var c;a instanceof R?(this.A=void 0!==b?b:a.A,eu(this,a.o),this.B=a.B,this.j=a.j,fu(this,a.K),this.h=a.h,gu(this,hu(a.l)),this.F=a.C()):a&&(c=String(a).match(Mg))?(this.A=!!b,eu(this,c[1]||"",!0),this.B=iu(c[2]||""),this.j=iu(c[3]||"",!0),fu(this,c[4]),this.h=iu(c[5]||"",!0),gu(this,c[6]||"",!0),this.F=iu(c[7]||"")):(this.A=!!b,this.l=new ju(null,this.A))};
R.prototype.toString=function(){var a=[],b=this.o;b&&a.push(ku(b,lu,!0),":");var c=this.j;if(c||"file"==b)a.push("//"),(b=this.B)&&a.push(ku(b,lu,!0),"@"),a.push(encodeURIComponent(String(c)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c=this.K,null!=c&&a.push(":",String(c));if(c=this.h)this.j&&"/"!=c.charAt(0)&&a.push("/"),a.push(ku(c,"/"==c.charAt(0)?mu:nu,!0));(c=this.l.toString())&&a.push("?",c);(c=this.C())&&a.push("#",ku(c,ou));return a.join("")};
R.prototype.resolve=function(a){var b=this.G(),c=!!a.o;c?eu(b,a.o):c=!!a.B;c?b.B=a.B:c=!!a.j;c?b.j=a.j:c=null!=a.K;var d=a.h;if(c)fu(b,a.K);else if(c=!!a.h){if("/"!=d.charAt(0))if(this.j&&!this.h)d="/"+d;else{var e=b.h.lastIndexOf("/");-1!=e&&(d=b.h.slice(0,e+1)+d)}e=d;if(".."==e||"."==e)d="";else if(-1!=e.indexOf("./")||-1!=e.indexOf("/.")){d=0==e.lastIndexOf("/",0);e=e.split("/");for(var f=[],g=0;g<e.length;){var h=e[g++];"."==h?d&&g==e.length&&f.push(""):".."==h?((1<f.length||1==f.length&&""!=
f[0])&&f.pop(),d&&g==e.length&&f.push("")):(f.push(h),d=!0)}d=f.join("/")}else d=e}c?b.h=d:c=""!==a.l.toString();c?gu(b,hu(a.l)):c=!!a.F;c&&(b.F=a.C());return b};R.prototype.G=function(){return new R(this)};
var eu=function(a,b,c){a.o=c?iu(b,!0):b;a.o&&(a.o=a.o.replace(/:$/,""))},fu=function(a,b){if(b){b=Number(b);if(isNaN(b)||0>b)throw Error("Bad port number "+b);a.K=b}else a.K=null},gu=function(a,b,c){b instanceof ju?(a.l=b,pu(a.l,a.A)):(c||(b=ku(b,qu)),a.l=new ju(b,a.A))},ru=function(a,b,c){a.l.set(b,c);return a};R.prototype.C=function(){return this.F};
var tu=function(a){return a instanceof R?a.G():new R(a,void 0)},iu=function(a,b){return a?b?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""},ku=function(a,b,c){return"string"===typeof a?(a=encodeURI(a).replace(b,uu),c&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null},uu=function(a){a=a.charCodeAt(0);return"%"+(a>>4&15).toString(16)+(a&15).toString(16)},lu=/[#\/\?@]/g,nu=/[#\?:]/g,mu=/[#\?]/g,qu=/[#\?@]/g,ou=/#/g,ju=function(a,b){this.j=this.h=null;this.l=a||null;this.o=!!b},vu=function(a){a.h||
(a.h=new Map,a.j=0,a.l&&Og(a.l,function(b,c){a.add(kg(b),c)}))};ju.prototype.add=function(a,b){vu(this);this.l=null;a=wu(this,a);var c=this.h.get(a);c||this.h.set(a,c=[]);c.push(b);this.j+=1;return this};ju.prototype.remove=function(a){vu(this);a=wu(this,a);return this.h.has(a)?(this.l=null,this.j-=this.h.get(a).length,this.h.delete(a)):!1};ju.prototype.clear=function(){this.h=this.l=null;this.j=0};ju.prototype.isEmpty=function(){vu(this);return 0==this.j};var xu=function(a,b){vu(a);b=wu(a,b);return a.h.has(b)};
l=ju.prototype;l.forEach=function(a,b){vu(this);this.h.forEach(function(c,d){c.forEach(function(e){a.call(b,e,d,this)},this)},this)};l.rc=function(){vu(this);for(var a=Array.from(this.h.values()),b=Array.from(this.h.keys()),c=[],d=0;d<b.length;d++)for(var e=a[d],f=0;f<e.length;f++)c.push(b[d]);return c};l.zb=function(a){vu(this);var b=[];if("string"===typeof a)xu(this,a)&&(b=b.concat(this.h.get(wu(this,a))));else{a=Array.from(this.h.values());for(var c=0;c<a.length;c++)b=b.concat(a[c])}return b};
l.set=function(a,b){vu(this);this.l=null;a=wu(this,a);xu(this,a)&&(this.j-=this.h.get(a).length);this.h.set(a,[b]);this.j+=1;return this};l.get=function(a,b){if(!a)return b;a=this.zb(a);return 0<a.length?String(a[0]):b};
l.toString=function(){if(this.l)return this.l;if(!this.h)return"";for(var a=[],b=Array.from(this.h.keys()),c=0;c<b.length;c++){var d=b[c],e=encodeURIComponent(String(d));d=this.zb(d);for(var f=0;f<d.length;f++){var g=e;""!==d[f]&&(g+="="+encodeURIComponent(String(d[f])));a.push(g)}}return this.l=a.join("&")};
var hu=function(a){var b=new ju;b.l=a.l;a.h&&(b.h=new Map(a.h),b.j=a.j);return b},wu=function(a,b){b=String(b);a.o&&(b=b.toLowerCase());return b},pu=function(a,b){b&&!a.o&&(vu(a),a.l=null,a.h.forEach(function(c,d){var e=d.toLowerCase();d!=e&&(this.remove(d),this.remove(e),0<c.length&&(this.l=null,this.h.set(wu(this,e),Pb(c)),this.j+=c.length))},a));a.o=b};var yu="://secure-...imrworldwide.com/ ://cdn.imrworldwide.com/ ://aksecure.imrworldwide.com/ ://[^.]*.moatads.com ://youtube[0-9]+.moatpixel.com ://pm.adsafeprotected.com/youtube ://pm.test-adsafeprotected.com/youtube ://e[0-9]+.yt.srs.doubleverify.com www.google.com/pagead/xsul www.youtube.com/pagead/slav".split(" "),zu=/\bocr\b/,Au=0,Bu={};
function Cu(a){if(fb(ng(a)))return!1;if(0<=a.indexOf("://pagead2.googlesyndication.com/pagead/gen_204?id=yt3p&sr=1&"))return!0;try{var b=new R(a)}catch(c){return null!=Hb(yu,function(d){return 0<a.search(d)})}return b.C().match(zu)?!0:null!=Hb(yu,function(c){return null!=a.match(c)})}
function Du(a,b){if(a&&(a=Eu(a),!fb(a))){var c='javascript:"<body><img src=\\""+'+a+'+"\\"></body>"';b?Fu(function(d){Gu(d?c:'javascript:"<body><object data=\\""+'+a+'+"\\" type=\\"text/html\\" width=1 height=1 style=\\"visibility:hidden;\\"></body>"')}):Gu(c)}}function Gu(a){var b=Eg("IFRAME",{src:a,style:"display:none"});a=ug(b).body;var c=rl(function(){Kk(d);Fg(b)},15E3);var d=Bk(b,["load","error"],function(){rl(function(){v.clearTimeout(c);Fg(b)},5E3)});a.appendChild(b)}
function Fu(a){var b=Bu.imageLoadingEnabled;if(null!=b)a(b);else{var c=!1;Hu(function(d,e){delete Bu[e];c||(c=!0,null==Bu.imageLoadingEnabled&&(Bu.imageLoadingEnabled=d),a(d))})}}function Hu(a){var b=new Image,c=""+Au++;Bu[c]=b;b.onload=function(){clearTimeout(d);a(!0,c)};var d=setTimeout(function(){a(!1,c)},300);b.src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="}
function Iu(a){if(a){var b=Cg(document,"OBJECT");b.data=a;b.width="1";b.height="1";b.style.visibility="hidden";var c=""+Au++;Bu[c]=b;b.onload=b.onerror=function(){delete Bu[c]};document.body.appendChild(b)}}function Ju(a){if(a){var b=new Image,c=""+Au++;Bu[c]=b;b.onload=b.onerror=function(){delete Bu[c]};b.src=a}}function Ku(a,b){a&&(b?Fu(function(c){c?Ju(a):Iu(a)}):Ju(a))}
function Eu(a){a=Tf(Xf(a)||$f);if("about:invalid#zClosurez"===a)return"";a instanceof eg||(a="object"==typeof a&&a.Ya?a.La():String(a),qb.test(a)&&(-1!=a.indexOf("&")&&(a=a.replace(jb,"&amp;")),-1!=a.indexOf("<")&&(a=a.replace(kb,"&lt;")),-1!=a.indexOf(">")&&(a=a.replace(lb,"&gt;")),-1!=a.indexOf('"')&&(a=a.replace(nb,"&quot;")),-1!=a.indexOf("'")&&(a=a.replace(ob,"&#39;")),-1!=a.indexOf("\x00")&&(a=a.replace(pb,"&#0;"))),a=gg(a));return encodeURIComponent(String(pi(new ni,fg(a).toString())))};var Lu="ad_type vpos mridx pos vad_type videoad_start_delay".split(" ");var Mu=function(a){var b=a.Ua,c=a.height,d=a.width,e=void 0===a.Aa?!1:a.Aa;this.bb=a.bb;this.Ua=b;this.height=c;this.width=d;this.Aa=e};Mu.prototype.getHeight=function(){return this.height};Mu.prototype.getWidth=function(){return this.width};var Nu=function(a){var b=a.kg,c=a.bf,d=a.jg,e=a.af;Mu.call(this,{bb:a.bb,Ua:a.Ua,height:a.height,width:a.width,Aa:void 0===a.Aa?!1:a.Aa});this.o=b;this.j=c;this.l=d;this.h=e};t(Nu,Mu);var Ou=function(a){var b=a.If;Mu.call(this,{bb:a.bb,Ua:a.Ua,height:a.height,width:a.width,Aa:void 0===a.Aa?!1:a.Aa});this.h=b};t(Ou,Mu);Ou.prototype.getMediaUrl=function(){return this.h};function Pu(a){return new (Function.prototype.bind.apply(a,[null].concat(ia(Ha.apply(1,arguments)))))};var Qu,Ru,Su,Tu=function(){return v.navigator?v.navigator.userAgent:""},Uu=-1!=Tu().indexOf("(iPad")||-1!=Tu().indexOf("(Macintosh")||-1!=Tu().indexOf("(iPod")||-1!=Tu().indexOf("(iPhone");var Vu="ad.doubleclick.net bid.g.doubleclick.net ggpht.com google.co.uk google.com googleads.g.doubleclick.net googleads4.g.doubleclick.net googleadservices.com googlesyndication.com googleusercontent.com gstatic.com gvt1.com prod.google.com pubads.g.doubleclick.net s0.2mdn.net static.doubleclick.net surveys.g.doubleclick.net youtube.com ytimg.com".split(" "),Wu=["c.googlesyndication.com"];
function Xu(a,b){b=void 0===b?window.location.protocol:b;var c=!1;Yu(a,Wu)?c=!1:b.includes("https")&&Yu(a,Vu)&&(c=!0);if(c){b=new R(a);if("https"==b.o)return a;M(L.h(),"htp","1");eu(b,"https");return b.toString()}return a}function Zu(a){if(!a)return!1;try{var b=new R(a);return"gcache"==b.o&&!!b.l.get("url")}catch(c){return!1}}function $u(a){try{var b=new R(a);if("gcache"==b.o){var c=b.l.get("url");if(c&&!fb(ng(c)))return c}}catch(d){}return a}
function Yu(a,b){return(new RegExp("^https?://([a-z0-9-]{1,63}\\.)*("+b.join("|").replace(/\./g,"\\.")+")(:[0-9]+)?([/?#]|$)","i")).test(a)};var av=-1;function bv(a,b){b=null!=b?b:"";Zb&&(b="");if(!fb(ng(a))){var c=a instanceof Sf||!du.test(a)?a:Wf(a);if(c instanceof Sf)var d=c;else{d=void 0===d?Zg:d;a:{d=void 0===d?Zg:d;for(c=0;c<d.length;++c){var e=d[c];if(e instanceof Xg&&e.Hf(a)){a=Wf(a);break a}}a=void 0}d=a||$f}a=window;if(d instanceof Sf)var f=Tf(d);else{b:if(Tg){try{f=new URL(d)}catch(g){f="https:";break b}f=f.protocol}else c:{f=document.createElement("a");try{f.href=d}catch(g){f=void 0;break c}f=f.protocol;f=":"===f||""===f?"https:":f}f=
"javascript:"!==f?d:void 0}void 0!==f&&a.open(f,"_blank",b)}};var cv=/OS (\S+) like/,dv=/Android ([\d\.]+)/;function ev(a,b){a=(a=a.exec(ub()))?a[1]:"";a=a.replace(/_/g,".");return 0<=tb(a,b)}var fv=function(){return cc&&"ontouchstart"in document.documentElement},gv=function(a){return ic&&ev(cv,a)},hv=function(a){return(a=void 0===a?null:a)&&"function"===typeof a.getAttribute?a.getAttribute("playsinline")?!0:!1:!1};var iv=function(a){O.call(this);this.h=a;this.A=this.B=!1;this.C=this.F=0;this.j=new ql(1E3);We(this,this.j);Ck(this.j,"tick",this.G,!1,this);Ck(this.h,"pause",this.l,!1,this);Ck(this.h,"playing",this.l,!1,this);Ck(this.h,"ended",this.l,!1,this);Ck(this.h,"timeupdate",this.l,!1,this)};t(iv,O);var jv=function(a){var b;return null!=(b=a.h.currentTime)?b:a.h.getCurrentTime()};
iv.prototype.l=function(a){switch(a.type){case "playing":kv(this);break;case "pause":case "ended":this.j.qb&&this.j.stop();break;case "timeupdate":!this.B&&0<jv(this)&&(this.B=!0,kv(this))}};var kv=function(a){!a.j.qb&&a.B&&(a.F=1E3*jv(a),a.C=Date.now(),a.A=!1,a.j.start())};iv.prototype.G=function(){var a=Date.now(),b=a-this.C,c=1E3*jv(this);c-this.F<.5*b?this.A||(this.A=!0,this.dispatchEvent("playbackStalled")):this.A=!1;this.F=c;this.C=a};var lv="://secure-...imrworldwide.com/ ://cdn.imrworldwide.com/ ://aksecure.imrworldwide.com/ ://[^.]*.moatads.com ://youtube[0-9]+.moatpixel.com ://pm.adsafeprotected.com/youtube ://pm.test-adsafeprotected.com/youtube ://e[0-9]+.yt.srs.doubleverify.com www.google.com/pagead/xsul www.youtube.com/pagead/slav".split(" "),mv=/\bocr\b/;function nv(a){if(fb(ng(a))||Zb&&2048<a.length)return!1;try{if((new R(a)).C().match(mv))return!0}catch(b){}return null!=lv.find(function(b){return null!=a.match(b)})};var ov=new Map,pv=function(){this.j=this.h=null};function qv(a,b,c,d){var e=Ol(a);b.width<=e.width&&b.height<=e.height?(rv(d),c(e)):(e=setTimeout(function(){return qv(a,b,c,d)},200),d.j=e)}
function tv(a,b){b=void 0===b?new G(1,1):b;var c=new pv,d=new Promise(function(e){var f=Ol(a);if(b.width<=f.width&&b.height<=f.height)return e(f);"ResizeObserver"in window?(f=new ResizeObserver(function(g){window.requestAnimationFrame(function(){for(var h=new G(0,0),k=r(g),n=k.next();!n.done;n=k.next())if(n=n.value,n.contentBoxSize?(n=Array.isArray(n.contentBoxSize)?n.contentBoxSize[0]:n.contentBoxSize,h.width=Math.floor(n.inlineSize),h.height=Math.floor(n.blockSize)):(h.width=Math.floor(n.contentRect.width),
h.height=Math.floor(n.contentRect.height)),b.width<=h.width&&b.height<=h.height)return rv(c),e(h)})}),c.h=f,f.observe(a)):qv(a,b,e,c)});ov.set(d,c);return d}function rv(a){a.j&&window.clearTimeout(a.j);a.h&&(a.h.disconnect(),a.h=null)};function uv(a,b){return fb(b)?!1:(new RegExp(a)).test(b)}function vv(a){var b={};a.split(",").forEach(function(c){var d=c.split("=");2==d.length&&(c=ib(d[0]),d=ib(d[1]),0<c.length&&(b[c]=d))});return b}
function wv(a){var b="af am ar_eg ar_sa ar_xb ar be bg bn ca cs da de_at de_cn de el en_au en_ca en_gb en_ie en_in en_sg en_xa en_xc en_za en es_419 es_ar es_bo es_cl es_co es_cr es_do es_ec es_gt es_hn es_mx es_ni es_pa es_pe es_pr es_py es_sv es_us es_uy es_ve es et eu fa fi fil fr_ca fr_ch fr gl gsw gu he hi hr hu id in is it iw ja kn ko ln lo lt lv ml mo mr ms nb ne nl no pl pt_br pt_pt pt ro ru sk sl sr_latn sr sv sw ta te th tl tr uk ur vi zh_cn zh_hk zh_tw zh zu".split(" ");if(!a)return null;
a=a.toLowerCase().replace("-","_");if(b.includes(a))return a;a=(a=a.match(/^\w{2,3}([-_]|$)/))?a[0].replace(/[_-]/g,""):"";return b.includes(a)?a:null};var xv=function(){this.h=Date.now()};xv.prototype.reset=function(){this.h=Date.now()};var yv=function(a){a=a.h+5E3-Date.now();return 0<a?a:0};var zv=function(a){var b=Error.call(this,a);this.message=b.message;"stack"in b&&(this.stack=b.stack);this.errorCode=a};t(zv,Error);var Av=function(){if(!Zb)return!1;try{return new ActiveXObject("MSXML2.DOMDocument"),!0}catch(a){return!1}},Bv=Zb&&Av();var Cv=function(a){E.call(this);this.o=a;this.j={}};Ya(Cv,E);var Dv=[];Cv.prototype.P=function(a,b,c,d){return Ev(this,a,b,c,d)};var Ev=function(a,b,c,d,e,f){Array.isArray(c)||(c&&(Dv[0]=c.toString()),c=Dv);for(var g=0;g<c.length;g++){var h=Ck(b,c[g],d||a.handleEvent,e||!1,f||a.o||a);if(!h)break;a.j[h.key]=h}return a};Cv.prototype.Sb=function(a,b,c,d){return Fv(this,a,b,c,d)};
var Fv=function(a,b,c,d,e,f){if(Array.isArray(c))for(var g=0;g<c.length;g++)Fv(a,b,c[g],d,e,f);else{b=Bk(b,c,d||a.handleEvent,e,f||a.o||a);if(!b)return a;a.j[b.key]=b}return a};Cv.prototype.ob=function(a,b,c,d,e){if(Array.isArray(b))for(var f=0;f<b.length;f++)this.ob(a,b[f],c,d,e);else c=c||this.handleEvent,d=Oa(d)?!!d.capture:!!d,e=e||this.o||this,c=Dk(c),d=!!d,b=rk(a)?a.Ob(b,c,d,e):a?(a=Fk(a))?a.Ob(b,c,d,e):null:null,b&&(Kk(b),delete this.j[b.key])};
var Gv=function(a){tf(a.j,function(b,c){this.j.hasOwnProperty(c)&&Kk(b)},a);a.j={}};Cv.prototype.N=function(){Cv.Ba.N.call(this);Gv(this)};Cv.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented");};var Hv=function(){};Hv.prototype.h=null;var Jv=function(a){var b;(b=a.h)||(b={},Iv(a)&&(b[0]=!0,b[1]=!0),b=a.h=b);return b};var Kv,Lv=function(){};Ya(Lv,Hv);var Mv=function(a){return(a=Iv(a))?new ActiveXObject(a):new XMLHttpRequest},Iv=function(a){if(!a.j&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<b.length;c++){var d=b[c];try{return new ActiveXObject(d),a.j=d}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed");}return a.j};Kv=new Lv;var Nv=function(a){O.call(this);this.headers=new Map;this.H=a||null;this.j=!1;this.G=this.h=null;this.M="";this.A=0;this.l=this.L=this.B=this.J=!1;this.F=0;this.C=null;this.Z="";this.U=this.V=!1;this.O=null};Ya(Nv,O);var Ov=/^https?$/i,Pv=["POST","PUT"];Nv.prototype.setTrustToken=function(a){this.O=a};
var Tv=function(a,b,c,d){if(a.h)throw Error("[goog.net.XhrIo] Object is active with another request="+a.M+"; newUri="+b);c=c?c.toUpperCase():"GET";a.M=b;a.A=0;a.J=!1;a.j=!0;a.h=a.H?Mv(a.H):Mv(Kv);a.G=a.H?Jv(a.H):Jv(Kv);a.h.onreadystatechange=Va(a.X,a);try{a.L=!0,a.h.open(c,String(b),!0),a.L=!1}catch(g){Qv(a);return}b=d||"";d=new Map(a.headers);var e=Array.from(d.keys()).find(function(g){return"content-type"==g.toLowerCase()}),f=v.FormData&&b instanceof v.FormData;!Kb(Pv,c)||e||f||d.set("Content-Type",
"application/x-www-form-urlencoded;charset=utf-8");c=r(d);for(d=c.next();!d.done;d=c.next())e=r(d.value),d=e.next().value,e=e.next().value,a.h.setRequestHeader(d,e);a.Z&&(a.h.responseType=a.Z);"withCredentials"in a.h&&a.h.withCredentials!==a.V&&(a.h.withCredentials=a.V);if("setTrustToken"in a.h&&a.O)try{a.h.setTrustToken(a.O)}catch(g){}try{Rv(a),0<a.F&&(a.U=Sv(a.h),a.U?(a.h.timeout=a.F,a.h.ontimeout=Va(a.aa,a)):a.C=rl(a.aa,a.F,a)),a.B=!0,a.h.send(b),a.B=!1}catch(g){Qv(a)}},Sv=function(a){return Zb&&
"number"===typeof a.timeout&&void 0!==a.ontimeout};Nv.prototype.aa=function(){"undefined"!=typeof La&&this.h&&(this.A=8,this.dispatchEvent("timeout"),this.abort(8))};var Qv=function(a){a.j=!1;a.h&&(a.l=!0,a.h.abort(),a.l=!1);a.A=5;Uv(a);Vv(a)},Uv=function(a){a.J||(a.J=!0,a.dispatchEvent("complete"),a.dispatchEvent("error"))};Nv.prototype.abort=function(a){this.h&&this.j&&(this.j=!1,this.l=!0,this.h.abort(),this.l=!1,this.A=a||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Vv(this))};
Nv.prototype.N=function(){this.h&&(this.j&&(this.j=!1,this.l=!0,this.h.abort(),this.l=!1),Vv(this,!0));Nv.Ba.N.call(this)};Nv.prototype.X=function(){this.ya()||(this.L||this.B||this.l?Wv(this):this.ca())};Nv.prototype.ca=function(){Wv(this)};
var Wv=function(a){if(a.j&&"undefined"!=typeof La&&(!a.G[1]||4!=Xv(a)||2!=Yv(a)))if(a.B&&4==Xv(a))rl(a.X,0,a);else if(a.dispatchEvent("readystatechange"),4==Xv(a)){a.j=!1;try{var b=Yv(a);a:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break a;default:c=!1}var d;if(!(d=c)){var e;if(e=0===b){var f=String(a.M).match(Mg)[1]||null;!f&&v.self&&v.self.location&&(f=v.self.location.protocol.slice(0,-1));e=!Ov.test(f?f.toLowerCase():"")}d=e}d?(a.dispatchEvent("complete"),
a.dispatchEvent("success")):(a.A=6,Uv(a))}finally{Vv(a)}}},Vv=function(a,b){if(a.h){Rv(a);var c=a.h,d=a.G[0]?function(){}:null;a.h=null;a.G=null;b||a.dispatchEvent("ready");try{c.onreadystatechange=d}catch(e){}}},Rv=function(a){a.h&&a.U&&(a.h.ontimeout=null);a.C&&(v.clearTimeout(a.C),a.C=null)};Nv.prototype.isActive=function(){return!!this.h};
var Xv=function(a){return a.h?a.h.readyState:0},Yv=function(a){try{return 2<Xv(a)?a.h.status:-1}catch(b){return-1}},Zv=function(a){if(a.h){a:{a=a.h.responseText;if(v.JSON)try{var b=v.JSON.parse(a);break a}catch(c){}b=mi(a)}return b}};var $v=function(){};$v.prototype.get=function(a){return aw({url:a.url,timeout:a.timeout,withCredentials:void 0===a.withCredentials?!0:a.withCredentials,method:"GET",Ta:void 0===a.Ta?void 0:a.Ta})};
var aw=function(a){var b=a.url,c=a.timeout,d=a.withCredentials,e=a.method,f=void 0===a.content?void 0:a.content,g=void 0===a.Ta?void 0:a.Ta,h=void 0===a.headers?{}:a.headers;return bw({url:b,timeout:c,withCredentials:d,method:e,content:f,Ta:g,headers:h}).then(function(k){return Promise.resolve(k)},function(k){return k instanceof Error&&6==k.message&&d?bw({url:b,timeout:c,withCredentials:!d,method:e,content:f,Ta:g,headers:h}):Promise.reject(k)})},bw=function(a){var b=a.url,c=a.timeout,d=a.withCredentials,
e=a.method,f=void 0===a.content?void 0:a.content,g=void 0===a.Ta?void 0:a.Ta;a=void 0===a.headers?{}:a.headers;var h=new Nv;h.V=d;h.F=Math.max(0,yv(c));h.setTrustToken&&g&&h.setTrustToken(g);for(var k in a)h.headers.set(k,a[k]);var n=new Cv;return new Promise(function(m,x){n.Sb(h,"success",function(){a:{if(so())try{Zv(h);var u="application/json";break a}catch(F){u="application/xml";break a}h.h&&4==Xv(h)?(u=h.h.getResponseHeader("Content-Type"),u=null===u?void 0:u):u=void 0;u=u||""}if(-1!=u.indexOf("application/json"))m(Zv(h)||
{});else{try{var y=h.h?h.h.responseXML:null}catch(F){y=null}if(null==y){try{var A=h.h?h.h.responseText:""}catch(F){A=""}y=A;if("undefined"!=typeof DOMParser)A=new DOMParser,y=gg(y),y=A.parseFromString(fg(y),"application/xml");else if(Bv){A=new ActiveXObject("MSXML2.DOMDocument");A.resolveExternals=!1;A.validateOnParse=!1;try{A.setProperty("ProhibitDTD",!0),A.setProperty("MaxXMLSize",2048),A.setProperty("MaxElementDepth",256)}catch(F){}A.loadXML(y);y=A}else throw Error("Your browser does not support loading xml documents");
}m(y)}n.W();h.W()});n.Sb(h,["error","timeout"],function(){x(new zv(h.A,Yv(h)));n.W();h.W()});Tv(h,Xu(b),e,f)})};w("google.javascript.ads.imalib.common.UrlLoader",$v);var ew=function(a,b,c){if(so())(new $v).get({url:b,timeout:new xv});else if(c){if(a=Tf(Xf(b)||$f),"about:invalid#zClosurez"!==a){var d=void 0===d?{}:d;a=a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;");d.ui&&(a=a.replace(/(^|[\r\n\t ]) /g,"$1&#160;"));d.ti&&(a=a.replace(/(\r\n|\n|\r)/g,"<br>"));d.wi&&(a=a.replace(/(\t+)/g,'<span style="white-space:pre">$1</span>'));d=gg(a);d='javascript:"<body><img src=\\""+'+encodeURIComponent(String(pi(new ni,
fg(d).toString())))+'+"\\"></body>"';cw(d)}}else dw(a,b)},fw=function(a,b,c){M(L.h(),"faa","1");var d={keepalive:!0,method:"get",mode:"no-cors",redirect:"follow"};c&&(d.referrerPolicy="no-referrer");fetch(b,d).then(function(){M(L.h(),"fas","1")}).catch(function(){M(L.h(),"faf","1");a.j=!1;ew(a,b,c)})},cw=function(a){var b=Eg("IFRAME",{src:a,style:"display:none"});a=ug(b).body;Bk(b,["load","error"],function(){rl(function(){Fg(b)},5E3)});a.appendChild(b)},dw=function(a,b){var c=new Image,d=(a.l++).toString();
a.h.set(d,c);c.onload=c.onerror=function(){a.h.delete(d)};c.src=b};var gw={AUTOPLAY_DISALLOWED:"autoplayDisallowed",sg:"beginFullscreen",tg:"canPlay",ug:"canPlayThrough",CLICK:"click",DURATION_CHANGE:"durationChange",Fg:"end",Gg:"endFullscreen",Ee:"error",Kg:"focusSkipButton",Je:"loadStart",LOADED:"loaded",qh:"mediaLoadTimeout",rh:"mediaPlaybackTimeout",Ld:"pause",Ah:"play",Bh:"playing",Jh:"seeked",Kh:"seeking",Lh:"skip",Ue:"skipShown",Nh:"stalled",Md:"start",Uh:"timeUpdate",Sh:"timedMetadata",ei:"volumeChange",fi:"waiting",Lg:"fullyLoaded"};var iw=function(a){this.h=a;this.j=hw(a)},hw=function(a){return new Map(a.h.split("/").reduce(function(b,c,d){d%2?b[b.length-1].push(c):b.push([c]);return b},[]))};iw.prototype.getId=function(){return jw(this,"id")};var jw=function(a,b){var c=a.h.l.get(b);return c?c:(a=a.j.get(b))?a:null};var kw=function(){};var S={},lw=(S[18]=-1,S[22]=-1,S[43]=350,S[44]=350,S[45]=350,S[59]=-1,S[133]=350,S[134]=350,S[135]=350,S[136]=350,S[139]=50,S[140]=50,S[141]=50,S[160]=350,S[242]=150,S[243]=150,S[244]=150,S[245]=150,S[249]=50,S[250]=50,S[251]=50,S[278]=150,S[342]=-1,S[343]=-1,S[344]=-1,S[345]=-1,S[346]=-1,S[347]=-1,S[396]=-1,S[398]=-1,S),mw={},nw=(mw[18]=!1,mw[22]=!1,mw[43]=!0,mw[44]=!0,mw[45]=!0,mw[59]=!1,mw[133]=!0,mw[134]=!0,mw[135]=!0,mw[136]=!0,mw[139]=!0,mw[140]=!0,mw[141]=!0,mw[160]=!0,mw[242]=!0,mw[243]=!0,
mw[244]=!0,mw[245]=!0,mw[249]=!0,mw[250]=!0,mw[251]=!0,mw[278]=!0,mw[342]=!1,mw[343]=!1,mw[344]=!1,mw[345]=!1,mw[346]=!1,mw[347]=!1,mw[396]=!0,mw[398]=!0,mw),ow={},pw=(ow[18]="video/mp4",ow[22]="video/mp4",ow[43]="video/webm",ow[44]="video/webm",ow[45]="video/webm",ow[59]="video/mp4",ow[133]="video/mp4",ow[134]="video/mp4",ow[135]="video/mp4",ow[136]="video/mp4",ow[139]="audio/mp4",ow[140]="audio/mp4",ow[141]="audio/mp4",ow[160]="video/mp4",ow[242]="video/webm",ow[243]="video/webm",ow[244]="video/webm",
ow[245]="video/webm",ow[249]="audio/webm",ow[250]="audio/webm",ow[251]="audio/webm",ow[278]="video/webm",ow[342]="video/mp4",ow[343]="video/mp4",ow[344]="video/mp4",ow[345]="video/mp4",ow[346]="video/mp4",ow[347]="video/mp4",ow[396]="video/mp4",ow[398]="video/mp4",ow),qw={},rw=(qw[18]="avc1.42001E, mp4a.40.2",qw[22]="avc1.64001F, mp4a.40.2",qw[43]="vp8, vorbis",qw[44]="vp8, vorbis",qw[45]="vp8, vorbis",qw[59]="avc1.4D001F, mp4a.40.2",qw[133]="avc1.4D401E",qw[134]="avc1.4D401E",qw[135]="avc1.4D401E",
qw[136]="avc1.4D401E",qw[139]="mp4a.40.2",qw[140]="mp4a.40.2",qw[141]="mp4a.40.2",qw[160]="avc1.4D401E",qw[242]="vp9",qw[243]="vp9",qw[244]="vp9",qw[245]="vp9",qw[249]="opus",qw[250]="opus",qw[251]="opus",qw[278]="vp9",qw[342]="avc1.42E01E, mp4a.40.2",qw[343]="avc1.42E01E, mp4a.40.2",qw[344]="avc1.42E01E, mp4a.40.2",qw[345]="avc1.42E01E, mp4a.40.2",qw[346]="avc1.42E01E, mp4a.40.2",qw[347]="avc1.4D001F, mp4a.40.2",qw[396]="av01.0.05M.08",qw[398]="av01.0.05M.08",qw);var tw=RegExp("/itag/(\\d+)/");function uw(a){var b=parseInt(Qg(a,"itag"),10);return b?b:(a=a.match(tw))&&2==a.length?parseInt(a[1],10):null}function vw(a){var b=pw[a];a=rw[a];b?(b=ng(b).toLowerCase(),b=a?b+'; codecs="'+ng(a)+'"':b):b="";return b}function ww(a,b){if("function"===typeof CustomEvent)return new CustomEvent(a,{detail:b});var c=document.createEvent("CustomEvent");c.initCustomEvent(a,!1,!0,b);return c};var xw=["doubleclick.net"];
function yw(){if(zb()||z("iPad")||z("iPod"))return!1;if(z("Android")){if(void 0===Su){a:{if(void 0===Qu){if(Uu){var a=-1!=Tu().indexOf("Safari");var b=(new R(window.location.href)).l.zb("js");b:{if((b=b.length?b[0]:"")&&0==b.lastIndexOf("afma-",0)){var c=b.lastIndexOf("v");if(-1<c&&(b=b.substr(c+1).match(/^(\d+\.\d+\.\d+|^\d+\.\d+|^\d+)(-.*)?$/))){b=b[1];break b}}b="0.0.0"}if(!a||"0.0.0"!==b){a=Qu=!0;break a}}Qu=!1}a=Qu}a||(void 0===Ru&&(Ru=-1!=Tu().indexOf("afma-sdk-a")?!0:!1),a=Ru);Su=a}return Su?
!0:Kg()?!1:zw()}a=z("Macintosh")||z("Linux")||z("Windows")||z("CrOS");return(Ai(Dj)||Ai(Bj)||Ai(Cj))&&a&&yb()?zw():!1}function zw(){var a=!1,b=(new R(window.location.href)).j;xw.forEach(function(c){b.includes(c)&&(a=!0)});return a}function Aw(a){for(var b=0,c=0;c<a.length;c++)b=Math.imul(31,b)+a.charCodeAt(c)|0;return b.toString()};var Bw,Ew=function(a,b,c){if("number"===typeof a)var d={name:Cw(a)};else d=a,a=Dw(a.name);this.code=a;this.h=d;b="Error "+b+": "+this.getName();c&&(b+=", "+c);$a.call(this,b)};Ya(Ew,$a);Ew.prototype.getName=function(){return this.h.name||""};
var Fw={We:1,vh:2,NOT_FOUND_ERR:3,Ae:4,De:5,wh:6,Ve:7,ABORT_ERR:8,Se:9,Wh:10,TIMEOUT_ERR:11,Re:12,INVALID_ACCESS_ERR:13,INVALID_STATE_ERR:14},Gw=(v.h||v.j||Fw).We,Hw=(v.h||v.j||Fw).NOT_FOUND_ERR,Iw=(v.h||v.j||Fw).Ae,Jw=(v.h||v.j||Fw).De,Kw=(v.h||v.j||Fw).Ve,Lw=(v.h||v.j||Fw).ABORT_ERR,Mw=(v.h||v.j||Fw).Se,Nw=(v.h||v.j||Fw).TIMEOUT_ERR,Ow=(v.h||v.j||Fw).Re,Pw=(v.DOMException||Fw).INVALID_ACCESS_ERR,Qw=(v.DOMException||Fw).INVALID_STATE_ERR,Dw=function(a){switch(a){case "UnknownError":return Gw;case "NotFoundError":return Hw;
case "ConstraintError":return Iw;case "DataError":return Jw;case "TransactionInactiveError":return Kw;case "AbortError":return Lw;case "ReadOnlyError":return Mw;case "TimeoutError":return Nw;case "QuotaExceededError":return Ow;case "InvalidAccessError":return Pw;case "InvalidStateError":return Qw;default:return Gw}},Cw=function(a){switch(a){case Gw:return"UnknownError";case Hw:return"NotFoundError";case Iw:return"ConstraintError";case Jw:return"DataError";case Kw:return"TransactionInactiveError";
case Lw:return"AbortError";case Mw:return"ReadOnlyError";case Nw:return"TimeoutError";case Ow:return"QuotaExceededError";case Pw:return"InvalidAccessError";case Qw:return"InvalidStateError";default:return"UnknownError"}},Rw=function(a,b){return"error"in a?new Ew(a.error,b):new Ew({name:"UnknownError"},b)},Sw=function(a,b){return"name"in a?new Ew(a,b+": "+a.message):new Ew({name:"UnknownError"},b)};var Tw=function(a){this.h=a},Uw=v.IDBKeyRange||v.webkitIDBKeyRange;function Vw(){};/*

 Copyright 2005, 2007 Bob Ippolito. All Rights Reserved.
 Copyright The Closure Library Authors.
 SPDX-License-Identifier: MIT
*/
var Ww=function(a,b){this.A=[];this.H=a;this.G=b||null;this.o=this.l=!1;this.j=void 0;this.K=this.J=this.C=!1;this.B=0;this.h=null;this.I=0};Ya(Ww,Vw);Ww.prototype.cancel=function(a){if(this.l)this.j instanceof Ww&&this.j.cancel();else{if(this.h){var b=this.h;delete this.h;a?b.cancel(a):(b.I--,0>=b.I&&b.cancel())}this.H?this.H.call(this.G,this):this.K=!0;this.l||Xw(this,new Yw(this))}};Ww.prototype.F=function(a,b){this.C=!1;Zw(this,a,b)};
var Zw=function(a,b,c){a.l=!0;a.j=c;a.o=!b;$w(a)},bx=function(a){if(a.l){if(!a.K)throw new ax(a);a.K=!1}};Ww.prototype.callback=function(a){bx(this);Zw(this,!0,a)};var Xw=function(a,b){bx(a);Zw(a,!1,b)};Ww.prototype.Sc=function(a){return cx(this,a,null)};var cx=function(a,b,c,d){a.A.push([b,c,d]);a.l&&$w(a);return a};Ww.prototype.then=function(a,b,c){var d,e,f=new bl(function(g,h){e=g;d=h});cx(this,e,function(g){g instanceof Yw?f.cancel():d(g);return dx},this);return f.then(a,b,c)};
Ww.prototype.$goog_Thenable=!0;
var ex=function(a){return Gb(a.A,function(b){return"function"===typeof b[1]})},dx={},$w=function(a){if(a.B&&a.l&&ex(a)){var b=a.B,c=fx[b];c&&(v.clearTimeout(c.h),delete fx[b]);a.B=0}a.h&&(a.h.I--,delete a.h);b=a.j;for(var d=c=!1;a.A.length&&!a.C;){var e=a.A.shift(),f=e[0],g=e[1];e=e[2];if(f=a.o?g:f)try{var h=f.call(e||a.G,b);h===dx&&(h=void 0);void 0!==h&&(a.o=a.o&&(h==b||h instanceof Error),a.j=b=h);if($k(b)||"function"===typeof v.Promise&&b instanceof v.Promise)d=!0,a.C=!0}catch(k){b=k,a.o=!0,ex(a)||
(c=!0)}}a.j=b;d&&(h=Va(a.F,a,!0),d=Va(a.F,a,!1),b instanceof Ww?(cx(b,h,d),b.J=!0):b.then(h,d));c&&(b=new gx(b),fx[b.h]=b,a.B=b.h)},ax=function(){$a.call(this)};Ya(ax,$a);ax.prototype.message="Deferred has already fired";ax.prototype.name="AlreadyCalledError";var Yw=function(){$a.call(this)};Ya(Yw,$a);Yw.prototype.message="Deferred was canceled";Yw.prototype.name="CanceledError";var gx=function(a){this.h=v.setTimeout(Va(this.l,this),0);this.j=a};
gx.prototype.l=function(){delete fx[this.h];throw this.j;};var fx={};var hx=function(){O.call(this)};Ya(hx,O);hx.prototype.h=null;hx.prototype.next=function(a){if(a)this.h["continue"](a);else this.h["continue"]()};hx.prototype.remove=function(){var a=new Ww;try{var b=this.h["delete"]()}catch(c){return Xw(a,Sw(c,"deleting via cursor")),a}b.onsuccess=function(){a.callback()};b.onerror=function(c){Xw(a,Rw(c.target,"deleting via cursor"))};return a};
var ix=function(a,b){var c=new hx;try{var d=a.openCursor(b?b.h:null)}catch(e){throw c.W(),Sw(e,a.name);}d.onsuccess=function(e){c.h=e.target.result||null;c.h?c.dispatchEvent("n"):c.dispatchEvent("c")};d.onerror=function(){c.dispatchEvent("e")};return c};var jx=function(a){this.h=a};jx.prototype.getName=function(){return this.h.name};var kx=function(a,b,c){var d=new Ww;try{var e=a.h.get(c)}catch(f){return b+=" with key "+Rg(c),Xw(d,Sw(f,b)),d}e.onsuccess=function(f){d.callback(f.target.result)};e.onerror=function(f){b+=" with key "+Rg(c);Xw(d,Rw(f.target,b))};return d};jx.prototype.get=function(a){return kx(this,"getting from index "+this.getName(),a)};var lx=function(a,b){return ix(a.h,b)};var mx=function(a){this.h=a};mx.prototype.getName=function(){return this.h.name};var nx=function(a,b,c,d,e){var f=new Ww;try{var g=e?a.h[b](d,e):a.h[b](d)}catch(h){return c+=Rg(d),e&&(c+=", with key "+Rg(e)),Xw(f,Sw(h,c)),f}g.onsuccess=function(h){f.callback(h.target.result)};g.onerror=function(h){c+=Rg(d);e&&(c+=", with key "+Rg(e));Xw(f,Rw(h.target,c))};return f},ox=function(a,b){return nx(a,"put","putting into "+a.getName()+" with value",b)};
mx.prototype.add=function(a,b){return nx(this,"add","adding into "+this.getName()+" with value ",a,b)};mx.prototype.remove=function(a){var b=new Ww;try{var c=this.h["delete"](a instanceof Tw?a.h:a)}catch(e){return c="removing from "+this.getName()+" with key "+Rg(a),Xw(b,Sw(e,c)),b}c.onsuccess=function(){b.callback()};var d=this;c.onerror=function(e){var f="removing from "+d.getName()+" with key "+Rg(a);Xw(b,Rw(e.target,f))};return b};
mx.prototype.get=function(a){var b=new Ww;try{var c=this.h.get(a)}catch(e){return c="getting from "+this.getName()+" with key "+Rg(a),Xw(b,Sw(e,c)),b}c.onsuccess=function(e){b.callback(e.target.result)};var d=this;c.onerror=function(e){var f="getting from "+d.getName()+" with key "+Rg(a);Xw(b,Rw(e.target,f))};return b};
mx.prototype.clear=function(){var a="clearing store "+this.getName(),b=new Ww;try{var c=this.h.clear()}catch(d){return Xw(b,Sw(d,a)),b}c.onsuccess=function(){b.callback()};c.onerror=function(d){Xw(b,Rw(d.target,a))};return b};var px=function(a){try{return new jx(a.h.index("timestamp"))}catch(b){throw Sw(b,"getting index timestamp");}};var qx=function(a,b){O.call(this);this.h=a;this.l=b;this.j=new Cv(this);this.j.P(this.h,"complete",Va(this.dispatchEvent,this,"complete"));this.j.P(this.h,"abort",Va(this.dispatchEvent,this,"abort"));this.j.P(this.h,"error",this.Ge)};Ya(qx,O);l=qx.prototype;l.Ge=function(a){a.target instanceof Ew?this.dispatchEvent({type:"error",target:a.target}):this.dispatchEvent({type:"error",target:Rw(a.target,"in transaction")})};
l.objectStore=function(a){try{return new mx(this.h.objectStore(a))}catch(b){throw Sw(b,"getting object store "+a);}};l.commit=function(a){if(this.h.commit||!a)try{this.h.commit()}catch(b){throw Sw(b,"cannot commit the transaction");}};l.wait=function(){var a=new Ww;Bk(this,"complete",Va(a.callback,a));var b=Bk(this,"abort",function(){Kk(c);Xw(a,new Ew(Lw,"waiting for transaction to complete"))});var c=Bk(this,"error",function(e){Kk(b);Xw(a,e.target)});var d=this.l;return a.Sc(function(){return d})};
l.abort=function(){this.h.abort()};l.N=function(){qx.Ba.N.call(this);this.j.W()};var rx=function(a){O.call(this);this.h=a;this.j=new Cv(this);this.j.P(this.h,"abort",Va(this.dispatchEvent,this,"abort"));this.j.P(this.h,"error",this.He);this.j.P(this.h,"versionchange",this.lf);this.j.P(this.h,"close",Va(this.dispatchEvent,this,"close"))};Ya(rx,O);l=rx.prototype;l.nd=!0;l.He=function(a){a=(a=a.target)&&a.error;this.dispatchEvent({type:"error",errorCode:a&&a.severity})};l.lf=function(a){this.dispatchEvent(new sx(a.oldVersion,a.newVersion))};
l.close=function(){this.nd&&(this.h.close(),this.nd=!1)};l.getName=function(){return this.h.name};l.getVersion=function(){return Number(this.h.version)};var tx=function(a){var b=["MediaSourceVideoChunk"];try{var c=a.h.transaction(b,"readwrite");return new qx(c,a)}catch(d){throw Sw(d,"creating transaction");}};rx.prototype.N=function(){rx.Ba.N.call(this);this.j.W()};var sx=function(a,b){mk.call(this,"versionchange");this.oldVersion=a;this.newVersion=b};Ya(sx,mk);var ux=function(a){var b=new Ww;void 0==Bw&&(Bw=v.indexedDB||v.mozIndexedDB||v.webkitIndexedDB||v.moz_indexedDB);var c=Bw.open("VideoChunkPersistentStorage",5);c.onsuccess=function(d){d=new rx(d.target.result);b.callback(d)};c.onerror=function(d){Xw(b,Rw(d.target,"opening database VideoChunkPersistentStorage"))};c.onupgradeneeded=function(d){if(a){var e=new rx(d.target.result);a(new sx(d.oldVersion,d.newVersion),e,new qx(d.target.transaction,e))}};c.onblocked=function(){};return b};var vx={ci:"videoId",nh:"itag",Mh:"source",Oh:"startIndex"},wx=function(){O.call(this);this.h=null};t(wx,O);wx.prototype.initialize=function(){var a=this;return Promise.resolve(ux(this.j)).then(function(b){return a.h=b},function(b){M(L.h(),"codf",b.message)})};var xx=function(a){return null!==a.h&&a.h.nd};wx.prototype.close=function(){var a=this;return(new Promise(function(b){return yx(a,b)})).then(function(){return zx()}).then(function(){return a.h.close()})};
var zx=function(){return"storage"in navigator&&"estimate"in navigator.storage?navigator.storage.estimate().then(function(a){M(L.h(),"csue",String(a.usage))}):Promise.resolve(void 0)},Dx=function(a,b){b=Ax(b);if(!b)return Promise.resolve(null);var c=Bx(b);return Cx(a,c,b.lmt)},Fx=function(a,b,c,d){if(c=Ax(c)){var e=Bx(c),f=c.startIndex;Ex(a,{cacheId:e,startIndex:f,endIndex:f+b.byteLength-1,lmt:c.lmt,timestamp:new Date(Date.now()),isLastVideoChunk:d,video:b})}else Promise.resolve(void 0)};
wx.prototype.j=function(a,b){if(b.h.objectStoreNames.contains("MediaSourceVideoChunk"))try{b.h.deleteObjectStore("MediaSourceVideoChunk")}catch(d){throw Sw(d,"deleting object store MediaSourceVideoChunk");}a={keyPath:"cacheId"};try{var c=new mx(b.h.createObjectStore("MediaSourceVideoChunk",a))}catch(d){throw Sw(d,"creating object store MediaSourceVideoChunk");}b={unique:!1};try{c.h.createIndex("timestamp","timestamp",b)}catch(d){throw Sw(d,"creating new index timestamp with key path timestamp");}};
var yx=function(a,b){var c=new Date(Date.now());c.setDate(c.getDate()-30);c=new Tw(Uw.upperBound(c,void 0));var d=lx(px(tx(a.h).objectStore("MediaSourceVideoChunk")),c),e=d.P("n",function(){d.remove();d.next()});Bk(d,"c",function(){Kk(e);b()})},Ax=function(a){var b=new iw(a);a=b.getId();var c=jw(b,"itag"),d=jw(b,"source"),e=jw(b,"lmt");(b=b.h.l.get("range"))?(b=b.split("-")[0],b=!b||isNaN(b)?null:parseInt(b,10)):b=null;var f=[];a?c?d?e?null===b&&f.push("startIndex"):f.push("lmt"):f.push("source"):
f.push("itag"):f.push("videoId");return 0<f.length?(M(L.h(),"civp",f.join("-")),null):{videoId:a,itag:c,source:d,lmt:e,startIndex:b+0}},Bx=function(a){var b=Object.keys(vx).sort().map(function(c){return a[vx[c]]}).join(",");return Aw(b)},Cx=function(a,b,c){var d=tx(a.h).objectStore("MediaSourceVideoChunk");return Promise.resolve(d.get(b)).then(function(e){if(!e)return M(L.h(),"cenf","1"),null;if(e.lmt!==c)return M(L.h(),"cdl","1"),d.remove(b).then(null,function(f){M(L.h(),"crdlvf",f.message)}),null;
M(L.h(),"cefml","1");return{endIndex:e.endIndex,isLastVideoChunk:e.isLastVideoChunk,video:e.video}},function(e){M(L.h(),"cgvf",e.message)})},Ex=function(a,b){a=tx(a.h).objectStore("MediaSourceVideoChunk");Promise.resolve(ox(a,b)).then(function(){M(L.h(),"cavs","1")},function(c){M(L.h(),"cavf",c.message)})};var Gx=function(a){O.call(this);var b=this;this.F=new R(a);this.G=this.h=this.l=this.j=0;this.A=(this.C=yw())?Pu(wx):null;Ve(this,function(){Ue(b.A)});this.H=this.C?this.A.initialize():null;this.B=null};t(Gx,O);
var Ix=function(a){Ga(function(b){if(1==b.h)return 2===a.h&&(a.h=1),xa(b,Hx(a),4);var c=3<a.G;if(c&&null!==a.B){var d=ww("media_source_error",{code:0<a.l?MediaError.MEDIA_ERR_NETWORK:MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED,message:'Response code "'+a.B+'" with '+a.j+" bytes requested and "+a.l+" bytes loaded"});a.dispatchEvent(d)}a.l<a.j&&3!==a.h&&!c?b.h=1:(3!==a.h&&(a.h=0),b.h=0)})},Hx=function(a){var b;return Ga(function(c){switch(c.h){case 1:b=a.l+"-"+(a.j-1);ru(a.F,"range",b);if(!a.C){c.h=2;break}return xa(c,
a.H,3);case 3:return c.return(Jx(a));case 2:return c.j=4,xa(c,Kx(a),6);case 6:c.h=0;c.j=0;break;case 4:ya(c),a.G++,c.h=0}})},Jx=function(a){var b;return Ga(function(c){switch(c.h){case 1:return xa(c,Dx(a.A,a.F),2);case 2:if(b=c.A){b.isLastVideoChunk&&(a.h=3);Lx(a,b.video,0);c.h=0;break}c.j=4;return xa(c,Kx(a),6);case 6:c.h=0;c.j=0;break;case 4:ya(c),a.G++,c.h=0}})},Kx=function(a){return new Promise(function(b,c){var d=new XMLHttpRequest,e=0,f=a.j-a.l;d.addEventListener("load",function(){ki("lvlcl");
if(400<=d.status)return M(L.h(),"lvlxes",d.status.toString()),a.B=d.status,c();var g=d.response;g.byteLength<f&&(a.h=3);var h=Lx(a,g,e);e+=h;a.C&&0<g.byteLength&&Fx(a.A,g,a.F,g.byteLength<f);b()});d.addEventListener("timeout",function(){ki("lvlct");a.B=d.status;c()});d.addEventListener("error",function(){ki("lvlce");a.B=d.status;c()});d.addEventListener("progress",function(){if(400<=d.status)a.B=d.status;else{var g=Lx(a,d.response,e);e+=g}});d.responseType="arraybuffer";d.open("get",a.F.toString());
d.send(null)})},Lx=function(a,b,c){if(null===b)return 0;b=b.slice(c);a.l+=b.byteLength;a.dispatchEvent({type:"progress",df:b});return b.byteLength};Gx.prototype.N=function(){this.C&&xx(this.A)&&this.A.close();O.prototype.N.call(this)};function Mx(){return!!window.MediaSource}function Nx(a){return[43,44,45].includes(a)&&tc?!1:nw[a]?(a=vw(a),!!a&&Mx()&&MediaSource.isTypeSupported(a)):!1};var Ox=function(){};Ox.prototype.h=function(a,b,c){return 0===c?1E6:5E3>b-a?3E5:0};var Px=function(a,b,c,d){this.url=a;this.mimeType=b;this.h=c;this.j=void 0===d?null:d};var Sx=function(a){O.call(this);var b=this;this.j=a;this.A=this.j.map(function(c){return Pu(Gx,c.url)});this.ga=Pu(MediaSource);this.h=[];this.l=window.URL.createObjectURL(this.ga);this.G=0;this.F=!1;this.C=function(){return Qx(b)};this.ga.addEventListener("sourceopen",this.C);this.H=Rx(this);this.B=0};t(Sx,O);
var Rx=function(a){for(var b=[],c=0;c<a.j.length;++c)b.push(new Ox);return b},Qx=function(a){ki("msms_oso");for(var b={},c=0;c<a.j.length;b={Ib:b.Ib,Hb:b.Hb},++c){var d=a.j[c];M(L.h(),"msms_mime"+c,d.mimeType);M(L.h(),"msms_cs"+c,d.h.toString());b.Ib=a.ga.addSourceBuffer(d.mimeType);b.Hb=a.A[c];b.Hb.P("progress",function(e){return function(f){var g=e.Hb;f=f.df;0!==f.byteLength&&e.Ib.appendBuffer(f);3===g.h&&(a.G++,a.G===a.h.length&&Tx(a))}}(b));b.Hb.P("media_source_error",function(e){a.dispatchEvent(e)});
b.Ib?a.h.push(b.Ib):ki("msms_sbf"+c)}M(L.h(),"msms_ns",a.h.length.toString());a.F=!0;Ux(a)},Tx=function(a){Promise.all(a.h.map(function(b){return new Promise(function(c){b.updating?b.addEventListener("updateend",function(){c()}):c()})})).then(function(){return a.ga.endOfStream()})},Ux=function(a){if(a.F)for(var b=0;b<a.j.length;++b){var c=a.A[b],d=a.h[b];d=0===d.buffered.length?0:1E3*d.buffered.end(0);d=a.H[b].h(a.B,d,c.j);0!==d&&(1===c.h?(c.j+=d,c.h=2):0===c.h&&(c.j+=d,c.h=1,Ix(c)))}};
Sx.prototype.N=function(){this.l&&window.URL.revokeObjectURL(this.l);for(var a=r(this.A),b=a.next();!b.done;b=a.next())b.value.W();this.ga.removeEventListener("sourceopen",this.C);O.prototype.N.call(this)};var Vx=RegExp("/pagead/conversion|/pagead/adview|/pagead/gen_204|/activeview?|csi.gstatic.com/csi|google.com/pagead/xsul|google.com/ads/measurement/l|googleads.g.doubleclick.net/pagead/ide_cookie|googleads.g.doubleclick.net/xbbe/pixel"),Wx=RegExp("outstream.min.js"),Xx=RegExp("outstream.min.css"),Yx=RegExp("fonts.gstatic.com"),Zx=RegExp("googlevideo.com/videoplayback|c.2mdn.net/videoplayback|gcdn.2mdn.net/videoplayback"),$x=RegExp("custom.elements.min.js");
function ay(a,b){var c=0,d=0,e=0,f=0,g=0,h=0,k=0,n=!1,m=!1;if("function"===typeof Ma("performance.getEntriesByType",v)&&"transferSize"in v.PerformanceResourceTiming.prototype){var x=v.performance.getEntriesByType("resource");x=r(x);for(var u=x.next();!u.done;u=x.next())u=u.value,Vx.test(u.name)||(f+=1,u.transferSize?(c+=u.transferSize,u.encodedBodySize&&u.transferSize<u.encodedBodySize&&(h+=1,e+=u.encodedBodySize,Wx.test(u.name)&&(n=!0),Xx.test(u.name)&&(m=!0)),Zx.test(u.name)&&(d+=u.transferSize)):
0==u.transferSize&&0==u.encodedBodySize?$x.test(u.name)?c+=6686:Yx.test(u.name)||(k+=1,ji(L.h(),{event_name:"unmeasurable_asset",resource_name:u.name,encoded_body_size:u.encodedBodySize,transfer_size:u.transferSize})):(g+=1,e+=u.encodedBodySize,Wx.test(u.name)&&(n=!0),Xx.test(u.name)&&(m=!0)));x=0;if(a.duration){for(u=0;u<a.buffered.length;u++)x+=a.buffered.end(u)-a.buffered.start(u);x=Math.min(x,a.duration)}ji(L.h(),{event_name:b,asset_bytes:c,video_bytes:d,cached_data_bytes:e,js_cached:n,css_cached:m,
num_assets:f,num_assets_cached:g,num_assets_cache_validated:h,num_assets_unmeasurable:k,video_played_seconds:a.currentTime.toFixed(2),video_muted:a.muted,video_seconds_loaded:x.toFixed(2)})}else M(L.h(),"error","reporting_timing_not_supported")};function by(a){var b=L.h(),c=a.getVideoPlaybackQuality&&a.getVideoPlaybackQuality();c?(a=a.currentTime,M(b,"vqdf",String(c.droppedVideoFrames)),M(b,"vqtf",String(c.totalVideoFrames)),M(b,"vqfr",String(Math.round(c.totalVideoFrames/a)))):M(b,"vqu","1")};var cy=function(){};cy.prototype.toString=function(){return"video_mute"};var dy=new cy;var ey=function(a){E.call(this);this.B=1;this.l=[];this.o=0;this.h=[];this.j={};this.F=!!a};Ya(ey,E);var fy=function(a,b,c){var d=dy.toString(),e=a.j[d];e||(e=a.j[d]=[]);var f=a.B;a.h[f]=d;a.h[f+1]=b;a.h[f+2]=c;a.B=f+3;e.push(f)},gy=function(a,b,c){var d=a.j[dy.toString()];if(d){var e=a.h;(d=d.find(function(f){return e[f+1]==b&&e[f+2]==c}))&&a.A(d)}};
ey.prototype.A=function(a){var b=this.h[a];if(b){var c=this.j[b];0!=this.o?(this.l.push(a),this.h[a+1]=function(){}):(c&&Lb(c,a),delete this.h[a],delete this.h[a+1],delete this.h[a+2])}return!!b};
ey.prototype.C=function(a,b){var c=this.j[a];if(c){for(var d=Array(arguments.length-1),e=1,f=arguments.length;e<f;e++)d[e-1]=arguments[e];if(this.F)for(e=0;e<c.length;e++){var g=c[e];hy(this.h[g+1],this.h[g+2],d)}else{this.o++;try{for(e=0,f=c.length;e<f&&!this.ya();e++)g=c[e],this.h[g+1].apply(this.h[g+2],d)}finally{if(this.o--,0<this.l.length&&0==this.o)for(;c=this.l.pop();)this.A(c)}}}};var hy=function(a,b,c){Yk(function(){a.apply(b,c)})};
ey.prototype.clear=function(a){if(a){var b=this.j[a];b&&(b.forEach(this.A,this),delete this.j[a])}else this.h.length=0,this.j={}};ey.prototype.N=function(){ey.Ba.N.call(this);this.clear();this.l.length=0};var iy=function(a){E.call(this);this.h=new ey(a);We(this,this.h)};Ya(iy,E);iy.prototype.clear=function(a){this.h.clear(void 0!==a?a.toString():void 0)};var jy=function(a){a=void 0===a?null:a;E.call(this);this.h=new Cv(this);We(this,this.h);this.Db=a};t(jy,E);var ky=function(a,b,c){a.Db&&(fy(a.Db.h,b,c),Ve(a,function(){gy(a.Db.h,b,c)}))};var ly=function(a,b){jy.call(this,b);ky(this,function(c){a.h.mode=c?"showing":"hidden"},this)};t(ly,jy);var my=function(){O.call(this);this.j=new Cv(this);We(this,this.j)};t(my,O);var oy=function(a,b,c){c=void 0===c?!0:c;my.call(this);a.setAttribute("crossorigin","anonymous");var d=Eg("TRACK");d.setAttribute("kind","captions");d.setAttribute("src",b);d.setAttribute("default","");a.appendChild(d);this.h=a.textTracks[0];ny(this);this.h.mode=c?"showing":"hidden"};t(oy,my);var ny=function(a){var b=a.h;b.addEventListener("cuechange",function(){for(var c=b.cues,d=0;d<c.length;d++){var e=c[d];e.align="center";e.position="auto"}},{once:!0})};function py(a,b){if("undefined"!==typeof ReportingObserver){var c=function(e){e=r(e);for(var f=e.next();!f.done;f=e.next())f=f.value,a(f)&&b(f)},d=new ReportingObserver(c,{buffered:!0});v.addEventListener("pagehide",function(){c(d.takeRecords(),d);d.disconnect()});d.observe()}}
function qy(a){a=void 0===a?null:a;py(function(b){return b.body&&"HeavyAdIntervention"===b.body.id},function(b){var c=b.body.message,d=L.h();M(d,"ham",c);c.includes("CPU")?M(d,"hacpu","true"):c.includes("network")&&M(d,"habytes","true");a&&a(b)})};var ry="autoplay controls crossorigin demuxedaudiosrc demuxedvideosrc loop muted playsinline poster preload src webkit-playsinline x-webkit-airplay".split(" "),sy="autoplay buffered controls crossOrigin currentSrc currentTime defaultMuted defaultPlaybackRate disableRemotePlayback duration ended loop muted networkState onerror onwaitingforkey paused played playsinline poster preload preservesPitch mozPreservesPitch webkitPreservesPitch readyState seekable videoWidth videoHeight volume textTracks canPlayType captureStream getVideoPlaybackQuality load pause play setSinkId oncanplay oncanplaythrough onload onplay onpause onended onfullscreenchange onfullscreenerror addEventListener dispatchEvent removeEventListener requestFullscreen".split(" "),
ty={childList:!0},uy=!RegExp("^\\s*class\\s*\\{\\s*\\}\\s*$").test(function(){}.toString()),vy=HTMLElement;uy&&(vy=function(){var a=Object.getPrototypeOf(this).constructor;return v.Reflect.construct(HTMLElement,[],a)},Object.setPrototypeOf(vy,HTMLElement),Object.setPrototypeOf(vy.prototype,HTMLElement.prototype));
var wy=function(a){if(null!==a){a=r(a);for(var b=a.next();!b.done;b=a.next())if(b=b.value,b.nodeName==="TRACK".toString())return b}return null},yy=function(a,b){this.code=a;this.message=void 0===b?"":b},zy=function(a){yy.call(this,MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED,void 0===a?"":a)};t(zy,yy);
var Dy=function(){var a=vy.call(this)||this;M(L.h(),"ulv","1");a.ga=null;a.ie=null;a.Od=null;a.T=Eg("VIDEO");Ay(a);a.Db=new iy;By(a);a.hc=null;Cy(a);a.attachShadow({mode:"open"});a.shadowRoot.appendChild(a.T);qy(function(){M(L.h(),"has",a.src||a.vb);M(L.h(),"hat",String(a.T.currentTime))});a.Gc=!1;a.me=!1;a.Tb=null;a.Sa=null;a.hg=!1;return a};t(Dy,vy);
Dy.prototype.attributeChangedCallback=function(a,b,c){switch(a){case "src":Ey(this,c);break;case "demuxedaudiosrc":case "demuxedvideosrc":Fy(this);break;case "muted":this.T[a]=""===c?!0:!!c;Gy(this,a,c);break;default:Gy(this,a,c)}};
var Gy=function(a,b,c){c!==a.T.getAttribute(b)&&(null===c?a.T.removeAttribute(b):a.T.setAttribute(b,c))},Hy=function(a){a.ga&&(a.T.removeEventListener("timeupdate",a.Tb),a.ga.W(),a.ga=null)},Iy=function(a,b){a.Od=b;a.T.dispatchEvent(new Event("error"))},Ay=function(a){Jy(a);Ky(a);a.T.addEventListener("loadedmetadata",function(){a.Sa=tv(a);a.Sa.then(function(b){var c=a.T.videoWidth,d=a.T.videoHeight,e=b.width,f=b.height;0<c&&0<d&&0<e&&0<f&&(b=b.width/b.height,c/=d,.97<=Math.min(c,b)/Math.max(c,b)?
Fl(a.T,{"object-fit":"cover"}):Fl(a.T,{"object-fit":"contain"}))})});a.T.addEventListener("play",function(){a.me||(ay(a.T,"first_play"),a.me=!0)});a.T.addEventListener("pause",function(){a.Gc||(ay(a.T,"first_pause"),by(a.T),a.Gc=!0)});Ck(v,"pagehide",function(){a.Gc||(ay(a.T,"first_pause"),by(a.T),a.Gc=!0)});a.T.addEventListener("stalled",function(){M(L.h(),"ves","1")});(new iv(a.T)).P("playbackStalled",function(){return M(L.h(),"pbs","1")});a.T.addEventListener("media_source_error",function(b){Hy(a);
b=b.detail;Iy(a,new yy(b.code,b.message))});Ly(a)},Cy=function(a){var b=wy(a.childNodes);b&&My(a,b);null===a.hc&&Ny(a)},Ny=function(a){if(v.MutationObserver){var b=new MutationObserver(function(c){c=r(c);for(var d=c.next();!d.done;d=c.next())if(d=d.value,"childList"===d.type&&(d=wy(d.addedNodes))){My(a,d);b.disconnect();break}});b.observe(a,ty)}},By=function(a){a.T.addEventListener("volumechange",function(){a.Db.h.C(dy.toString(),a.T.muted)})},My=function(a,b){if(null===a.hc&&b.hasAttribute("src")){var c=
b.getAttribute("src");a.hc=new oy(a.T,c,b.hasAttribute("default"));new ly(a.hc,a.Db);c.includes("kind=asr")&&M(L.h(),"act","1")}},Ey=function(a,b){if(b!==a.ie){a.ie=b;a.hg&&b&&Zu(b)&&(b=$u(b));var c=b?uw(b):null,d=!!c&&Nx(c);M(L.h(),"umsem",d?"1":"0");d?(b=Pu(Px,b,vw(c),1E3*lw[c],null),a.ga=Pu(Sx,[b]),a.ga.P("media_source_error",function(e){e=ww("media_source_error",e.detail);a.T.dispatchEvent(e)}),a.Tb=function(){var e=a.ga;e.B=1E3*a.T.currentTime;Ux(e)},a.T.addEventListener("timeupdate",a.Tb),Gy(a,
"src",a.ga.l)):(Hy(a),Gy(a,"src",b));a.T.load()}},Fy=function(a){a.src&&Iy(a,new yy(MediaError.MEDIA_ERR_ABORTED,"Setting demuxed src after src is already set."));if(!a.Mb&&!a.vb&&a.ga)Hy(a),Gy(a,"src",null),a.T.load();else if(a.Mb&&a.vb){var b=uw(a.Mb),c=uw(a.vb);if(c&&Nx(c))if(b&&Nx(b)){var d=!!c&&Nx(c)&&!!b&&Nx(b);M(L.h(),"umsed",d?"1":"0");c=Pu(Px,a.vb,vw(c),-1,null);b=Pu(Px,a.Mb,vw(b),-1,null);a.ga=Pu(Sx,[c,b]);a.ga.P("media_source_error",function(e){e=ww("media_source_error",e.detail);a.T.dispatchEvent(e)});
a.Tb=function(){var e=a.ga;e.B=1E3*a.T.currentTime;Ux(e)};a.T.addEventListener("timeupdate",a.Tb);Gy(a,"src",a.ga.l);a.T.load()}else Iy(a,new zy('Audio itag "'+b+'" not supported.'));else Iy(a,new zy('Video itag "'+c+'" not supported.'))}},Jy=function(a){for(var b={},c=r(sy),d=c.next();!d.done;b={Ca:b.Ca,Nc:b.Nc},d=c.next())b.Ca=d.value,b.Ca in a.T&&("function"===typeof a.T[b.Ca]?(b.Nc=a.T[b.Ca].bind(a.T),Object.defineProperty(a,b.Ca,{set:function(e){return function(f){a.T[e.Ca]=f}}(b),get:function(e){return function(){return e.Nc}}(b)})):
Object.defineProperty(a,b.Ca,{set:function(e){return function(f){a.T[e.Ca]=f}}(b),get:function(e){return function(){return a.T[e.Ca]}}(b)}))},Ky=function(a){Object.defineProperty(a,"error",{set:function(){},get:function(){return a.T.error?a.T.error:a.Od}})},Ly=function(a){a.T.style.width=Ml();a.T.style.height=Ml()};Dy.prototype.disconnectedCallback=function(){if(this.Sa){var a=ov.get(this.Sa);rv(a)}vy.prototype.disconnectedCallback&&vy.prototype.disconnectedCallback.call(this)};
fa.Object.defineProperties(Dy.prototype,{Mb:{configurable:!0,enumerable:!0,set:function(a){this.setAttribute("demuxedaudiosrc",a)},get:function(){return this.getAttribute("demuxedaudiosrc")}},vb:{configurable:!0,enumerable:!0,set:function(a){this.setAttribute("demuxedvideosrc",a)},get:function(){return this.getAttribute("demuxedvideosrc")}},src:{configurable:!0,enumerable:!0,set:function(a){this.setAttribute("src",a)},get:function(){return this.getAttribute("src")}}});
fa.Object.defineProperties(Dy,{observedAttributes:{configurable:!0,enumerable:!0,get:function(){return ry}}});v.customElements&&(v.customElements.get("lima-video")||v.customElements.define("lima-video",Dy));function Oy(){var a=Pu(wx);a.initialize().then(function(b){b&&(b=ww("initialized"),a.dispatchEvent(b))});return a}
var Qy=function(a,b,c,d,e){E.call(this);this.J=a;this.O=new R(b.url);this.j=c;this.o=e;this.H=b.h;this.ua=d;(this.V=b.j)||this.O.l.remove("alr");M(L.h(),"sl_dv"+this.o,(null!=this.V).toString());this.X=!this.V;this.cc=0;this.h=new XMLHttpRequest;this.aa=this.U=this.ub=this.F=this.l=0;this.Z=.1;this.C=[];this.M=!1;this.ca=this.na=this.ia=null;this.Ka=!1;this.lc=this.L=this.B=this.rb=this.tb=null;this.G=!1;if(this.A=yw())this.B=Oy(),We(this,this.B);Py(this)};t(Qy,E);
var Ry=function(a,b){b=ww("media_source_error",b);a.J.dispatchEvent(b)},Sy=function(a,b){Ry(a,{code:1<a.l?MediaError.MEDIA_ERR_NETWORK:MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED,message:b})},Py=function(a){a.ia=function(){Ty(a);if(a.X){var b=a.h.responseText;a.M=!b||b.length<a.H;a.U=0;ki("sl_cc"+a.o+"_"+a.l);a.F++;Uy(a)}};a.na=function(){return Ty(a)};a.ca=function(){ki("sl_ec"+a.o+"_"+a.l);Sy(a,"Failed to load chunk "+a.l+" for stream "+a.o)};a.h.addEventListener("load",a.ia);a.h.addEventListener("progress",
a.na);a.h.addEventListener("error",a.ca);a.j.addEventListener("updateend",function(){a.j.buffered.length&&(a.ub=a.j.buffered.end(0),a.A?a.G&&!a.j.updating&&a.l===a.F&&(ki("sl_lc"+a.o),a.ua()):a.M&&!a.j.updating&&a.l===a.F&&(ki("sl_lc"+a.o),a.ua()));!a.Ka&&1<a.J.buffered.length&&(M(L.h(),"dbr","1"),a.Ka=!0)});a.j.addEventListener("update",function(){a.C.length&&!a.j.updating&&a.j.appendBuffer(a.C.shift())});a.j.addEventListener("error",function(){ki("msb_err"+a.o);Ry(a,{code:MediaError.MEDIA_ERR_DECODE,
message:"Error on SourceBuffer "+a.o})});a.A?(xx(a.B)?Vy(a):a.tb=Ck(a.B,"initialized",function(){Vy(a)}),a.rb=Ck(a.B,"get_video_succeeded",function(){Uy(a)})):Vy(a)},Xy=function(a){ki("sl_rc"+a.o+"-"+a.l);var b=Wy(a);a.h.open("get",b);a.h.overrideMimeType("text/plain; charset=x-user-defined");a.h.send(null);a.A&&(a.L=null,a.lc=b)},Ty=function(a){if(400<=a.h.status)Sy(a,'Response code "'+a.h.status+'" on loading chunk '+a.l+" for stream "+a.o);else{if(!a.X){var b=a.h.getResponseHeader("content-type");
if(b&&0<=b.indexOf("text/plain")){a.h.readyState===XMLHttpRequest.DONE&&(a.O=new R(a.h.response),a.l=0,a.F=0,a.cc++,Vy(a));return}a.X=!0;ki("sl_redc"+a.o);M(L.h(),"sl_tr"+a.o,a.cc.toString())}a.O.l.remove("alr");if(a.h.readyState===XMLHttpRequest.LOADING||a.h.readyState===XMLHttpRequest.DONE)b=Yy(a,a.U),a.U=a.h.response.length,a.aa+=b.byteLength,Zy(a,b);if(a.A&&a.h.readyState===XMLHttpRequest.DONE&&(b=Yy(a,0),0<b.byteLength)){var c=a.h.responseText;a.G=!c||c.length<a.H;Fx(a.B,b,new R(a.lc),a.G)}}},
Zy=function(a,b){0<b.byteLength&&(a.j.updating||a.C.length?a.C.push(b):a.j.appendBuffer(b))},Yy=function(a,b){a=a.h.response;for(var c=new Uint8Array(a.length-b),d=0;d<c.length;d++)c[d]=a.charCodeAt(d+b)&255;return c.buffer},Uy=function(a){var b=av;-1!=b&&b<a.aa+a.H?(a.J.pause(),av=-1,b=!1):(b=a.F===a.l&&!a.j.updating&&!a.C.length,b=a.A?!a.G&&b&&a.J.currentTime>=a.Z:!a.M&&b&&a.J.currentTime>=a.Z);b&&(a.Z=a.ub+.1,Vy(a))},Wy=function(a){var b=a.A&&a.L?a.L+1:a.l*a.H;return ru(a.O,"range",b+"-"+(b+a.H-
1)).toString()},Vy=function(a){if(a.A){var b=new R(Wy(a));Dx(a.B,b).then(function(c){c?(a.L=parseInt(c.endIndex,10),a.G=c.isLastVideoChunk,Zy(a,c.video),c=ww("get_video_succeeded"),a.B.dispatchEvent(c),a.F++):Xy(a);a.l++})}else Xy(a),a.l++};Qy.prototype.N=function(){this.A&&xx(this.B)&&this.B.close();this.h.removeEventListener("load",this.ia);this.h.removeEventListener("progress",this.na);this.h.removeEventListener("error",this.ca);Kk(this.tb);Kk(this.rb);E.prototype.N.call(this)};var az=function(a,b){E.call(this);var c=this;this.o=a;this.F=b;this.ga=new MediaSource;this.C=[];this.j=[];this.h=this.l=null;this.A=!1;this.B=function(){return $y(c)};this.ga.addEventListener("sourceopen",this.B)};t(az,E);
var bz=function(a){a.l&&a.o.removeEventListener("timeupdate",a.l)},$y=function(a){ki("msmsw_oso");a.l=function(){if(!a.A)for(var e=r(a.j),f=e.next();!f.done;f=e.next())Uy(f.value)};a.o.addEventListener("timeupdate",a.l);for(var b=0;b<a.F.length;b++){var c=a.F[b];M(L.h(),"msmsw_mime"+b,c.mimeType);M(L.h(),"msmsw_cs"+b,c.h.toString());var d=a.ga.addSourceBuffer(c.mimeType);d?(a.C.push(d),c=Pu(Qy,a.o,c,d,function(){a:if(!a.A){for(var e=r(a.j),f=e.next();!f.done;f=e.next())if(f=f.value,f.A?!f.G||f.j.updating||
f.C.length:!f.M||f.j.updating||f.C.length)break a;a.ga.endOfStream();a.A=!0;bz(a)}},b),a.j.push(c)):ki("msmsw_sbf"+b)}M(L.h(),"msmsw_ns",a.C.length.toString())};az.prototype.N=function(){this.h&&window.URL.revokeObjectURL(this.h);for(var a=r(this.j),b=a.next();!b.done;b=a.next())b.value.W();bz(this);this.ga.removeEventListener("sourceopen",this.B);E.prototype.N.call(this)};var cz=function(){throw Error("Do not instantiate directly");};cz.prototype.h=null;cz.prototype.getContent=function(){return this.content};cz.prototype.toString=function(){return this.content};var dz=function(){cz.call(this)};Ya(dz,cz);var ez=function(a){function b(c){this.content=c}b.prototype=a.prototype;return function(c,d){c=new b(String(c));void 0!==d&&(c.h=d);return c}}(dz);/*

Math.uuid.js (v1.4)
http://www.broofa.com
mailto:robert@broofa.com
Copyright (c) 2010 Robert Kieffer
Dual licensed under the MIT and GPL licenses.
*/
var fz="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),gz=function(){for(var a=Array(36),b=0,c,d=0;36>d;d++)8==d||13==d||18==d||23==d?a[d]="-":14==d?a[d]="4":(2>=b&&(b=33554432+16777216*Math.random()|0),c=b&15,b>>=4,a[d]=fz[19==d?c&3|8:c]);return a.join("")};var iz=function(a){R.call(this,a);this.I=new Map;a=this.h;var b=a.indexOf(";"),c=null;0<=b?(this.h=a.substring(0,b),c=a.substring(b+1)):this.h=a;hz(this,c)};t(iz,R);iz.prototype.toString=function(){return jz(this,R.prototype.toString.call(this))};iz.prototype.C=function(){return""};
var hz=function(a,b){fb(ng(b))||b.split(";").forEach(function(c){var d=c.indexOf("=");if(!(0>=d)){var e=kg(c.substring(0,d));c=kg(c.substring(d+1));d=a.I.get(e);null!=d?d.includes(c)||d.push(c):d=[ng(c)];a.I.set(e,d)}},a)},kz=function(a){if(fb(ng("ord")))return null;a=a.I.get("ord");return null!=a?a:null},lz=function(a,b){fb(ng("ord"))||(b=b.map(ng),a.I.set("ord",b))},jz=function(a,b){b=[ng(b)];b.push.apply(b,ia(mz(a)));return b.join(";")},mz=function(a){var b=kz(a);null==b?b=[ng(Date.now())]:fb(ng("ord"))||
a.I.delete("ord");var c=[];a.I.forEach(function(d,e){d.forEach(function(f){c.push(e+"="+f)})});c.push("ord="+b[0]);lz(a,b);return c};iz.prototype.G=function(){return new iz(this.toString())};var T={DEPRECATED_ERROR_CODE:-1,VAST_MALFORMED_RESPONSE:100,VAST_SCHEMA_VALIDATION_ERROR:101,VAST_UNSUPPORTED_VERSION:102,VAST_TRAFFICKING_ERROR:200,VAST_UNEXPECTED_LINEARITY:201,VAST_UNEXPECTED_DURATION_ERROR:202,VAST_WRAPPER_ERROR:300,VAST_LOAD_TIMEOUT:301,VAST_TOO_MANY_REDIRECTS:302,VAST_NO_ADS_AFTER_WRAPPER:303,VIDEO_PLAY_ERROR:400,VAST_MEDIA_LOAD_TIMEOUT:402,VAST_LINEAR_ASSET_MISMATCH:403,VAST_PROBLEM_DISPLAYING_MEDIA_FILE:405,OVERLAY_AD_PLAYING_FAILED:500,NONLINEAR_DIMENSIONS_ERROR:501,OVERLAY_AD_LOADING_FAILED:502,
VAST_NONLINEAR_ASSET_MISMATCH:503,COMPANION_REQUIRED_ERROR:602,COMPANION_AD_LOADING_FAILED:603,UNKNOWN_ERROR:900,VPAID_ERROR:901,FAILED_TO_REQUEST_ADS:1005,VAST_ASSET_NOT_FOUND:1007,VAST_EMPTY_RESPONSE:1009,UNKNOWN_AD_RESPONSE:1010,UNSUPPORTED_LOCALE:1011,ADS_REQUEST_NETWORK_ERROR:1012,INVALID_AD_TAG:1013,STREAM_INITIALIZATION_FAILED:1020,ASSET_FALLBACK_FAILED:1021,INVALID_ARGUMENTS:1101,NATIVE_MESSAGE_ERROR:1204,AUTOPLAY_DISALLOWED:1205,CONSENT_MANAGEMENT_PROVIDER_NOT_READY:1300,Ph:2002};T[-1]="DEPRECATED_ERROR_CODE";
T[100]="VAST_MALFORMED_RESPONSE";T[101]="VAST_SCHEMA_VALIDATION_ERROR";T[102]="VAST_UNSUPPORTED_VERSION";T[200]="VAST_TRAFFICKING_ERROR";T[201]="VAST_UNEXPECTED_LINEARITY";T[202]="VAST_UNEXPECTED_DURATION_ERROR";T[300]="VAST_WRAPPER_ERROR";T[301]="VAST_LOAD_TIMEOUT";T[302]="VAST_TOO_MANY_REDIRECTS";T[303]="VAST_NO_ADS_AFTER_WRAPPER";T[400]="VIDEO_PLAY_ERROR";T[402]="VAST_MEDIA_LOAD_TIMEOUT";T[403]="VAST_LINEAR_ASSET_MISMATCH";T[405]="VAST_PROBLEM_DISPLAYING_MEDIA_FILE";T[500]="OVERLAY_AD_PLAYING_FAILED";
T[501]="NONLINEAR_DIMENSIONS_ERROR";T[502]="OVERLAY_AD_LOADING_FAILED";T[503]="VAST_NONLINEAR_ASSET_MISMATCH";T[602]="COMPANION_REQUIRED_ERROR";T[603]="COMPANION_AD_LOADING_FAILED";T[900]="UNKNOWN_ERROR";T[901]="VPAID_ERROR";T[1005]="FAILED_TO_REQUEST_ADS";T[1007]="VAST_ASSET_NOT_FOUND";T[1009]="VAST_EMPTY_RESPONSE";T[1010]="UNKNOWN_AD_RESPONSE";T[1011]="UNSUPPORTED_LOCALE";T[1012]="ADS_REQUEST_NETWORK_ERROR";T[1013]="INVALID_AD_TAG";T[1020]="STREAM_INITIALIZATION_FAILED";T[1021]="ASSET_FALLBACK_FAILED";
T[1101]="INVALID_ARGUMENTS";T[1204]="NATIVE_MESSAGE_ERROR";T[1205]="AUTOPLAY_DISALLOWED";T[1300]="CONSENT_MANAGEMENT_PROVIDER_NOT_READY";T[2002]="SUPPORTED_ADS_NOT_FOUND";var nz=function(a,b,c){var d=Error.call(this);this.message=d.message;"stack"in d&&(this.stack=d.stack);this.l=b;this.h=c;this.o=a};t(nz,Error);l=nz.prototype;l.getAd=function(){return null};l.getInnerError=function(){return this.j};l.getMessage=function(){return this.l};l.getErrorCode=function(){return this.h};l.getVastErrorCode=function(){return 1E3>this.h?this.h:900};l.getType=function(){return this.o};
l.toString=function(){return"AdError "+this.getErrorCode()+": "+this.getMessage()+(null!=this.getInnerError()?" Caused by: "+this.getInnerError():"")};var oz=function(a){O.call(this);this.A=[];this.j=!1;this.l=a||"goog_"+og++};t(oz,O);oz.prototype.connect=function(){for(this.j=!0;0!==this.A.length;){var a=this.A.shift();a&&this.sendMessage(a.name,a.type,a.data)}};var pz=function(a,b,c,d){a.j?a.sendMessage(b,c,d):a.A.push({name:b,type:c,data:d})};oz.prototype.sendMessage=function(){};var qz=function(a,b,c,d,e){e=void 0===e?"":e;mk.call(this,a);this.messageType=b;this.ra=c;this.Zb=d;this.origin=e};t(qz,mk);qz.prototype.toString=function(){return""};var rz={IMAGE:"Image",FLASH:"Flash",ALL:"All"},sz={HTML:"Html",IFRAME:"IFrame",STATIC:"Static",ALL:"All"},tz={IGNORE:"IgnoreSize",SELECT_EXACT_MATCH:"SelectExactMatch",SELECT_NEAR_MATCH:"SelectNearMatch",SELECT_FLUID:"SelectFluid"},uz=function(){this.allowCustom=!0;this.creativeType=this.resourceType="All";this.sizeCriteria="SelectExactMatch";this.nearMatchPercent=90;this.adSlotIds=[]};
w("module$exports$google3$javascript$ads$interactivemedia$sdk$clientside$api$companion_ad_selection_settings.CompanionAdSelectionSettings.CreativeType",rz);w("module$exports$google3$javascript$ads$interactivemedia$sdk$clientside$api$companion_ad_selection_settings.CompanionAdSelectionSettings.ResourceType",sz);w("module$exports$google3$javascript$ads$interactivemedia$sdk$clientside$api$companion_ad_selection_settings.CompanionAdSelectionSettings.SizeCriteria",tz);var wz=function(a,b){b=void 0===b?new uz:b;this.h=a;this.settings=b?b:new uz;this.resourceType=vz(sz,this.settings.resourceType)?this.settings.resourceType:"All";this.creativeType=vz(rz,this.settings.creativeType)?this.settings.creativeType:"All";this.sizeCriteria=vz(tz,this.settings.sizeCriteria)?this.settings.sizeCriteria:"SelectExactMatch";this.adSlotIds=null!=this.settings.adSlotIds?this.settings.adSlotIds:[];this.nearMatchPercent="number"===typeof this.settings.nearMatchPercent&&0<this.settings.nearMatchPercent&&
100>=this.settings.nearMatchPercent?this.settings.nearMatchPercent:90},zz=function(a,b){var c=[];b.forEach(function(d){a.settings.allowCustom&&(!fb(d.getContent())&&(isNaN(d.wa.sequenceNumber)||isNaN(d.wa.mainAdSequenceNumber)||d.wa.mainAdSequenceNumber===d.wa.sequenceNumber)&&xz(a,d)?c.push(d):(d=yz(a,d),null!=d&&!fb(d.getContent())&&c.push(d)))});return c};wz.prototype.ae=function(){return this.resourceType};
var xz=function(a,b){var c;if(c="Flash"!==b.getContentType()){if(c="All"===a.resourceType||a.resourceType===b.ae())c=b.getContentType(),c=null==c?!0:"All"===a.creativeType||a.creativeType===c;c&&(c=b.getAdSlotId(),c=0===a.adSlotIds.length?!0:null!=c?a.adSlotIds.includes(c):!1)}if(c)if(c=b.yb(),(b=!!b.wa.fluidSize)||a.h.Xd)a=b&&a.h.Xd;else if((b="IgnoreSize"===a.sizeCriteria)||(b=a.h.size,b=b==c?!0:b&&c?b.width==c.width&&b.height==c.height:!1),b)a=!0;else{if(b="SelectNearMatch"===a.sizeCriteria)b=
c.width,c=c.height,b=b>a.h.size.width||c>a.h.size.height||b<a.nearMatchPercent/100*a.h.size.width||c<a.nearMatchPercent/100*a.h.size.height?!1:!0;a=b}else a=!1;return a},yz=function(a,b){b=Az(b);return null==b?null:b.find(function(c){return xz(a,c)})||null},vz=function(a,b){return null!=b&&Df(a,b)};var Bz=function(a){var b={};b=(b.IABUSPrivacy_String="uspString",b.IABTCF_gdprApplies="gdprApplies",b.IABTCF_TCString="tcString",b.IABTCF_AddtlConsent="addtlConsent",b);for(var c in b)null!=a[c]&&(a[b[c]]=a[c],delete a[c]);this.ee=a.isGdprLoader||!1;this.uspString=a.uspString||"";c=a.gdprApplies;this.j="boolean"==typeof c?c?"1":"0":"number"!=typeof c||1!==c&&0!==c?"string"!=typeof c||"1"!==c&&"0"!==c?"":"1"==c?"1":"0":1==c?"1":"0";this.h=a.tcString||"";/^[\.\w_-]*$/.test(this.h)||(this.h=encodeURIComponent(this.h))};var Cz=function(a){this.h=a},Dz=function(a,b){return Cf(a.h,b)&&(a=a.h[b],"boolean"===typeof a)?a:!1},Ez=function(a){if(Cf(a.h,"forceExperimentIds")){a=a.h.forceExperimentIds;var b=[],c=0;Array.isArray(a)&&a.forEach(function(d){"number"===typeof d&&(b[c++]=d)});return b}return null};var V=function(){this.I="always";this.M=4;this.l=1;this.h=0;this.j=!0;this.L="en";this.J=!1;this.V=this.U="";this.A=null;this.Z=this.O=-1;this.X=this.H=this.C="";this.F=!1;this.K=!0;this.B=gz();this.G={};try{this.ca=qn()[0]}catch(a){}},Fz=function(a){a=ng(a);fb(a)||(a=a.substring(0,20));return a};l=V.prototype;l.setCompanionBackfill=function(a){this.I=a};l.getCompanionBackfill=function(){return this.I};l.setNumRedirects=function(a){this.M=a};l.getNumRedirects=function(){return this.M};
l.setPpid=function(a){this.aa=a};l.getPpid=function(){return this.aa};l.setVpaidAllowed=function(a){"boolean"===typeof a&&(this.l=a?1:0)};l.setVpaidMode=function(a){this.l=a};l.sf=function(){return this.l};l.setAutoPlayAdBreaks=function(a){this.j=a};l.Df=function(){return this.j};l.Yf=function(a){this.J=a};l.Rb=function(){return this.J};l.setLocale=function(a){if(a=wv(a))this.L=a};l.getLocale=function(){return this.L};l.setPlayerType=function(a){this.U=Fz(a)};l.getPlayerType=function(){return this.U};
l.setPlayerVersion=function(a){this.V=Fz(a)};l.getPlayerVersion=function(){return this.V};var Gz=function(a){if(null==a.A){var b={},c=(new R(H().location.href)).l;if(xu(c,"tcnfp"))try{b=JSON.parse(c.get("tcnfp"))}catch(d){}a.A=new Cz(b)}return a.A};l=V.prototype;l.Zf=function(a){this.O=a};l.ag=function(a){this.Z=a};l.setDisableCustomPlaybackForIOS10Plus=function(a){this.F=a};l.getDisableCustomPlaybackForIOS10Plus=function(){return this.F};l.isCookiesEnabled=function(){return this.K};
l.setCookiesEnabled=function(a){null!=a&&(this.K=a)};l.setSessionId=function(a){this.B=a};l.Xf=function(){};l.rf=function(){return!0};l.setFeatureFlags=function(a){this.G=a};l.getFeatureFlags=function(){return this.G};V.prototype.getFeatureFlags=V.prototype.getFeatureFlags;V.prototype.setFeatureFlags=V.prototype.setFeatureFlags;V.prototype.getDisableFlashAds=V.prototype.rf;V.prototype.setDisableFlashAds=V.prototype.Xf;V.prototype.setSessionId=V.prototype.setSessionId;
V.prototype.setCookiesEnabled=V.prototype.setCookiesEnabled;V.prototype.isCookiesEnabled=V.prototype.isCookiesEnabled;V.prototype.getDisableCustomPlaybackForIOS10Plus=V.prototype.getDisableCustomPlaybackForIOS10Plus;V.prototype.setDisableCustomPlaybackForIOS10Plus=V.prototype.setDisableCustomPlaybackForIOS10Plus;V.prototype.setStreamCorrelator=V.prototype.ag;V.prototype.setPageCorrelator=V.prototype.Zf;V.prototype.getPlayerVersion=V.prototype.getPlayerVersion;V.prototype.setPlayerVersion=V.prototype.setPlayerVersion;
V.prototype.getPlayerType=V.prototype.getPlayerType;V.prototype.setPlayerType=V.prototype.setPlayerType;V.prototype.getLocale=V.prototype.getLocale;V.prototype.setLocale=V.prototype.setLocale;V.prototype.isVpaidAdapter=V.prototype.Rb;V.prototype.setIsVpaidAdapter=V.prototype.Yf;V.prototype.isAutoPlayAdBreaks=V.prototype.Df;V.prototype.setAutoPlayAdBreaks=V.prototype.setAutoPlayAdBreaks;V.prototype.getVpaidMode=V.prototype.sf;V.prototype.setVpaidMode=V.prototype.setVpaidMode;
V.prototype.setVpaidAllowed=V.prototype.setVpaidAllowed;V.prototype.getPpid=V.prototype.getPpid;V.prototype.setPpid=V.prototype.setPpid;V.prototype.getNumRedirects=V.prototype.getNumRedirects;V.prototype.setNumRedirects=V.prototype.setNumRedirects;V.prototype.getCompanionBackfill=V.prototype.getCompanionBackfill;V.prototype.setCompanionBackfill=V.prototype.setCompanionBackfill;var Hz=new V;var Iz=function(a){D.call(this,a)};t(Iz,D);var Jz=function(a){void 0!==a.addtlConsent&&"string"!==typeof a.addtlConsent&&(a.addtlConsent=void 0);void 0!==a.gdprApplies&&"boolean"!==typeof a.gdprApplies&&(a.gdprApplies=void 0);return void 0!==a.tcString&&"string"!==typeof a.tcString||void 0!==a.listenerId&&"number"!==typeof a.listenerId?2:a.cmpStatus&&"error"!==a.cmpStatus?0:3},Kz=function(a,b){b=void 0===b?{}:b;E.call(this);this.j=a;this.h=null;this.B={};this.C=0;var c;this.o=null!=(c=b.Lc)?c:500;var d;this.A=null!=(d=b.ki)?d:!1;this.l=null};
t(Kz,E);Kz.prototype.N=function(){this.B={};this.l&&(Te(this.j,"message",this.l),delete this.l);delete this.B;delete this.j;delete this.h;E.prototype.N.call(this)};
var Mz=function(a){return"function"===typeof a.j.__tcfapi||null!=Lz(a)},Pz=function(a,b){var c={internalErrorState:0,internalBlockOnErrors:a.A},d=Oe(function(){return b(c)}),e=0;-1!==a.o&&(e=setTimeout(function(){e=0;c.tcString="tcunavailable";c.internalErrorState=1;d()},a.o));Nz(a,"addEventListener",function(f){f&&(c=f,c.internalErrorState=Jz(c),c.internalBlockOnErrors=a.A,Oz(c)?(0!=c.internalErrorState&&(c.tcString="tcunavailable"),Nz(a,"removeEventListener",null,c.listenerId),(f=e)&&clearTimeout(f),
d()):("error"===c.cmpStatus||0!==c.internalErrorState)&&(f=e)&&clearTimeout(f))})};
Kz.prototype.addEventListener=function(a){var b=this,c={internalBlockOnErrors:this.A},d=Oe(function(){return a(c)}),e=0;-1!==this.o&&(e=setTimeout(function(){c.tcString="tcunavailable";c.internalErrorState=1;d()},this.o));var f=function(g,h){clearTimeout(e);g?(c=g,c.internalErrorState=Jz(c),c.internalBlockOnErrors=b.A,h&&0===c.internalErrorState||(c.tcString="tcunavailable",h||(c.internalErrorState=3))):(c.tcString="tcunavailable",c.internalErrorState=3);a(c)};try{Nz(this,"addEventListener",f)}catch(g){c.tcString=
"tcunavailable",c.internalErrorState=3,e&&(clearTimeout(e),e=0),d()}};Kz.prototype.removeEventListener=function(a){a&&a.listenerId&&Nz(this,"removeEventListener",null,a.listenerId)};
var Nz=function(a,b,c,d){c||(c=function(){});if("function"===typeof a.j.__tcfapi)a=a.j.__tcfapi,a(b,2,c,d);else if(Lz(a)){Qz(a);var e=++a.C;a.B[e]=c;a.h&&(c={},a.h.postMessage((c.__tcfapiCall={command:b,version:2,callId:e,parameter:d},c),"*"))}else c({},!1)},Lz=function(a){if(a.h)return a.h;a.h=ih(a.j,"__tcfapiLocator");return a.h},Qz=function(a){a.l||(a.l=function(b){try{var c=("string"===typeof b.data?JSON.parse(b.data):b.data).__tcfapiReturn;a.B[c.callId](c.returnValue,c.success)}catch(d){}},Se(a.j,
"message",a.l))},Oz=function(a){if(!1===a.gdprApplies)return!0;void 0===a.internalErrorState&&(a.internalErrorState=Jz(a));return"error"===a.cmpStatus||0!==a.internalErrorState?a.internalBlockOnErrors?(Eh({e:String(a.internalErrorState)},"tcfe"),!1):!0:"loaded"!==a.cmpStatus||"tcloaded"!==a.eventStatus&&"useractioncomplete"!==a.eventStatus?!1:!0};function Rz(a){var b={};(new R(a)).l.forEach(function(c,d){b[d]=c});return b}
var Sz=function(a,b){a=void 0===a?{}:a;b=void 0===b?{}:b;this.h=a;this.j=new Bz(b)},Tz=function(a,b){var c=new R(a);var d=c.h;(c=eb(c.j,"googleads.g.doubleclick.net")&&uv("/pagead/(live/)?ads",d))||(d=new iz(a),c=d.j,d=jz(d,d.h),c=!eb(c,".g.doubleclick.net")&&eb(c,"doubleclick.net")&&uv("/(ad|pfad)[x|i|j]?/",d));c||(c=new R(a),d=c.h,c=eb(c.j,"doubleclick.net")&&uv("/gampad/(live/)?ads",d));(c=c||"bid.g.doubleclick.net"==(new R(a)).j)||(c=new R(a),d=c.h,c="ad.doubleclick.net"===c.j&&uv("/dv3/adv",
d));c||(c=new R(a),d=c.h,"pubads.g.doubleclick.net"===c.j&&(uv("/ssai/",d)||uv("/ondemand/",d)));return new Sz(Rz(a),b)},Uz=function(a,b){if(a.h.hasOwnProperty(b))return a.h[b]},Vz=function(a){var b,c;if(!(b="1"==(null==(c=Uz(a,"ltd"))?void 0:c.toString()))){var d;b=null==(d=Uz(a,"gdpr"))?void 0:d.toString();d=a.j.j;d=("1"==d||"0"==d?d:void 0!=b?b:"").toLowerCase();if("true"===d||"1"===d)if(d=a.j.h,a=Uz(a,"gdpr_consent"),a=d&&"tcunavailable"!=d?d:"tcunavailable"==d?a||d:a||"","tcunavailable"===a)var e=
!1;else{if((d=bu(a))&&a){var f=kd(d,tt,1);d=kd(d,lt,2)||new lt;b=rd(B(f,9),0);c=rd(B(f,4),0);var g=rd(B(f,5),0),h=rd(fd(f,10),!1),k=rd(fd(f,11),!1),n=rd(B(f,16),""),m=rd(fd(f,15),!1),x={consents:cu(dd(f,13,!1),Pt),legitimateInterests:cu(dd(f,14,!1),Pt)},u={consents:cu(dd(f,17)),legitimateInterests:cu(dd(f,18))},y=cu(dd(f,12,!1),Qt),A=md(f,jt,19);f={};A=r(A);for(var F=A.next();!F.done;F=A.next()){F=F.value;var da=rd(B(F,1),0);f[da]=f[da]||{};for(var ea=r(dd(F,3)),Ba=ea.next();!Ba.done;Ba=ea.next())f[da][Ba.value]=
rd(B(F,2),0)}a={tcString:a,tcfPolicyVersion:b,gdprApplies:!0,cmpId:c,cmpVersion:g,isServiceSpecific:h,useNonStandardStacks:k,publisherCC:n,purposeOneTreatment:m,purpose:x,vendor:u,specialFeatureOptins:y,publisher:{restrictions:f,consents:cu(dd(d,1,!1),Pt),legitimateInterests:cu(dd(d,2,!1),Pt),customPurposes:{consents:cu(dd(d,3)),legitimateInterests:cu(dd(d,4))}}}}else a=null;if(a){var ua=void 0===ua?!1:ua;if(Oz(a))if(!1===a.gdprApplies||"tcunavailable"===a.tcString||void 0===a.gdprApplies&&!ua||"string"!==
typeof a.tcString||!a.tcString.length)e=!0;else{e=void 0===e?"755":e;c:{if(a.publisher&&a.publisher.restrictions&&(ua=a.publisher.restrictions["1"],void 0!==ua)){ua=ua[void 0===e?"755":e];break c}ua=void 0}0===ua?e=!1:a.purpose&&a.vendor?(ua=a.vendor.consents,(e=!(!ua||!ua[void 0===e?"755":e]))&&a.purposeOneTreatment&&"CH"===a.publisherCC?e=!0:e&&(e=a.purpose.consents,e=!(!e||!e["1"]))):e=!0}else e=!1}else e=!1}else e=!0;b=!e}return b},Wz=function(a){var b=new Iz;a=!Vz(a);C(b,5,a);return b};var Xz=function(a,b){this.message=a;this.errorCode=b};Xz.prototype.getErrorCode=function(){return this.errorCode};Xz.prototype.getMessage=function(){return this.message};var Yz=new Xz("Failed to initialize ad playback element before starting ad playback.",400),Zz=new Xz("The provided {0} information: {1} is invalid.",1101);function $z(a,b){var c=void 0===b?null:b;var d=Ha.apply(2,arguments);if(!(c instanceof nz)){var e=a.getErrorCode(),f=a.getMessage();if(0<d.length)for(var g=0;g<d.length;g++)f=f.replace(new RegExp("\\{"+g+"\\}","ig"),d[g]);d=new nz("adPlayError",f,e);d.j=c;c=d}return c};var aA=function(){};aA.h=function(){throw Error("Must be overridden");};var bA=function(){this.h=0};t(bA,aA);bA.kb=void 0;bA.h=function(){return bA.kb?bA.kb:bA.kb=new bA};function W(a,b,c,d){c=void 0===c?null:c;d=void 0===d?{}:d;var e=bA.h();0===e.h&&(e.h=Math.random()<Xj(lf)?2:1);if(2===e.h){e={};var f=Object,g=f.assign;e.c=String(a);e.pc=String(lh());e.em=c;e.lid=b;K(gt);Eh(g.call(f,{},(e.eids="",e),d),"esp")}};var cA=function(){this.cache={}},gA=function(){dA||(eA=Xj(gf),fA=Xj(ff),dA=new cA);return dA},hA=function(a){if(void 0!==a)for(var b=r(Object.keys(a)),c=b.next();!c.done;c=b.next())if(c=c.value,c.startsWith("_GESPSK"))try{a.removeItem(c)}catch(d){}dA=new cA},iA=function(a){var b=B(a,3);if(!b)return 3;if(void 0===B(a,2))return 4;a=Date.now();return a>b+36E5*fA?2:a>b+36E5*eA?1:0};
cA.prototype.get=function(a,b){if(this.cache[a])return{Cb:this.cache[a],success:!0};var c="";try{c=b.getItem("_GESPSK-"+a)}catch(g){var d;W(6,a,null==(d=g)?void 0:d.message);return{Cb:null,success:!1}}if(!c)return{Cb:null,success:!0};try{var e=hm(c);this.cache[a]=e;return{Cb:e,success:!0}}catch(g){var f;W(5,a,null==(f=g)?void 0:f.message);return{Cb:null,success:!1}}};
cA.prototype.set=function(a,b){var c=B(a,1),d="_GESPSK-"+c;C(a,3,Date.now());try{b.setItem(d,Hd(a))}catch(f){var e;W(7,c,null==(e=f)?void 0:e.message);return!1}this.cache[c]=a;return!0};cA.prototype.remove=function(a,b){a=B(a,1);try{b.removeItem("_GESPSK-"+a),delete this.cache[a]}catch(d){var c;W(8,a,null==(c=d)?void 0:c.message)}};var dA=null,eA=24,fA=72;function jA(a,b,c,d){W(18,a);try{var e=Nh();Xj(ef)&&(gm(b,Number((ed(b,8)-1).toFixed(3))),C(b,7,Math.round(e/1E3/60)));return c().then(function(f){W(29,a,null,{delta:String(Nh()-e)});if(null==f)return W(41,a),kA(b,111,d),b;null!=f&&("string"!==typeof f?W(21,a):f.length||W(20,a));f=C(b,2,f);C(f,10,void 0,!1);gA().set(b,d)&&W(27,a);return b}).catch(function(f){kA(b,106,d);W(28,a,lA(f));return b})}catch(f){return kA(b,107,d),W(1,a,lA(f)),Promise.resolve(b)}}
function kA(a,b,c){var d;a.Ia(cm(null!=(d=a.getError())?d:new bm,b));gA().set(a,c)}var lA=function(a){return"string"===typeof a?a:a instanceof Error?a.message:null};function mA(){var a=window;var b=void 0===b?function(){}:b;return new Promise(function(c){var d=function(){c(b());Te(a,"load",d)};Se(a,"load",d)})};function nA(a){var b=Xj(kf),c=new qm,d=[].flatMap(function(e){return md(e,am,2)}).map(function(e){return rd(B(e,1),"")});oA(c,a,b,d);Wj(mf);if(!md(c,em,2).length)return null;W(50,"");return Ac(c.o(),3)}
function oA(a,b,c,d){if(b){Xj(jf);var e=[],f=RegExp("^_GESPSK-(.+)$");try{for(var g=0;g<b.length;g++){var h=(f.exec(b.key(g))||[])[1];h&&e.push(h)}}catch(n){}e=r(e);for(f=e.next();!f.done;f=e.next())if(f=f.value,g=void 0,null==(g=d)||!g.includes(f))if(g=gA().get(f,b).Cb)if(h=iA(g),2!==h&&3!==h){C(g,9,!1);h=B(g,2);if(!Wj(nf)){var k=c;0<=k&&h&&h.length>k&&(k={},W(12,f,null,(k.sl=String(h.length),k)),kA(g,108,b),C(g,2,void 0,!1))}pd(a,2,em,g);g={};W(19,f,null,(g.hs=h?"1":"0",g))}}};var pA=function(a){E.call(this);this.o=a;this.h=[];this.j=[];this.l=[]};t(pA,E);var qA=function(a,b){a.j.push({bc:!1,ib:b});Wj($e)&&b.Sc(a.o)};pA.prototype.N=function(){this.h.length=0;this.l.length=0;if(Wj($e))for(var a=r(this.j),b=a.next();!b.done;b=a.next())b.value.ib.fc.length=0;this.j.length=0;E.prototype.N.call(this)};var rA=function(){var a=this;this.promise=new Promise(function(b,c){a.resolve=b;a.reject=c})};var sA=function(a){a=Error.call(this,a);this.message=a.message;"stack"in a&&(this.stack=a.stack);Object.setPrototypeOf(this,sA.prototype);this.name="InputError"};t(sA,Error);var tA=function(){this.Za=!1},uA=function(){tA.apply(this,arguments);this.fc=[];this.Fc=new rA};t(uA,tA);var wA=function(a,b){a.Za||(a.Za=!0,a.Ub=b,a.Fc.resolve(b),Wj($e)&&vA(a))},vA=function(a){for(var b=r(a.fc),c=b.next();!c.done;c=b.next())c=c.value,c(a.Ub);a.fc.length=0};uA.prototype.Sc=function(a){Wj($e)&&this.fc.push(a)};
fa.Object.defineProperties(uA.prototype,{promise:{configurable:!0,enumerable:!0,get:function(){return this.Fc.promise}},Hc:{configurable:!0,enumerable:!0,get:function(){return this.Za}},error:{configurable:!0,enumerable:!0,get:function(){return this.od}}});var xA=function(){uA.apply(this,arguments)};t(xA,uA);var yA=function(a,b){wA(a,b)},zA=function(a,b){b.then(function(c){wA(a,c)})};xA.prototype.Ia=function(a){this.Za||(this.Za=!0,this.Ub=null,this.od=a,this.Fc.reject(a),Wj($e)&&vA(this))};
var AA=function(a){this.Za=!1;this.h=a};t(AA,tA);AA.prototype.Hc=function(){return this.h.Za};fa.Object.defineProperties(AA.prototype,{error:{configurable:!0,enumerable:!0,get:function(){return this.h.od}}});var BA=function(a){AA.call(this,a);this.h=a};t(BA,AA);fa.Object.defineProperties(BA.prototype,{value:{configurable:!0,enumerable:!0,get:function(){return this.h.Ub}}});var CA=function(a){AA.call(this,a);this.h=a};t(CA,AA);
fa.Object.defineProperties(CA.prototype,{value:{configurable:!0,enumerable:!0,get:function(){var a;return null!=(a=this.h.Ub)?a:null}}});function DA(a,b){var c,d,e;return Ga(function(f){if(1==f.h)return c=b?a.filter(function(g){return!g.bc}):a,xa(f,Promise.all(c.map(function(g){return g.ib.promise})),2);if(3!=f.h){if(a.length===c.length)return f.return(0);d=a.filter(function(g){return g.bc});e=Nh();return xa(f,Promise.race([Promise.all(d.map(function(g){return g.ib.promise})),new Promise(function(g){return void setTimeout(g,b)})]),3)}return f.return(Nh()-e)})}
var FA=function(a,b){E.call(this);var c=this;this.id=a;this.Lc=b;this.G=this.F=this.C=this.o=!1;this.L=-1;this.j=new pA(function(){EA(c)});We(this,this.j)};t(FA,E);
FA.prototype.start=function(){var a=this,b,c;return Ga(function(d){switch(d.h){case 1:if(a.o)return d.return();a.o=!0;d.j=2;b=a;return xa(d,DA(a.j.j,a.Lc),4);case 4:b.L=d.A;if(a.ya()){d.h=5;break}for(var e=0,f=r(a.j.l),g=f.next();!g.done;g=f.next()){if(null==g.value.h.Ub)throw Error("missing input: "+a.id+"/"+e);++e}return xa(d,a.h(),5);case 5:d.h=0;d.j=0;break;case 2:c=ya(d);if(a.ya())return d.return();!(c instanceof sA)&&c instanceof Error&&(a.A(a.id,c),a.j.h.length&&GA(a,new sA(c.message)));d.h=
0}})};
var EA=function(a){if(!a.o&&a.C)try{var b=a.j.j,c=a.Lc?b.filter(function(g){return!g.bc}):b,d=b.filter(function(g){return g.bc}),e,f=null==(e=b.find(function(g){return void 0!==g.ib.error}))?void 0:e.ib.error;if(f)throw a.o=!0,f;if(!c.some(function(g){return!g.ib.Hc})){if(d.length&&(a.F||(a.F=!0,setTimeout(function(){a.G=!0;EA(a)},a.Lc)),d.some(function(g){return!g.ib.Hc})&&!a.G))return;a.o=!0;a.h()}}catch(g){!(a.ya()||g instanceof sA)&&g instanceof Error&&(a.A(a.id,g),a.j.h.length&&GA(a,new sA(g.message)))}},HA=
function(a){var b=new xA;a.j.h.push(b);return b},IA=function(a,b){qA(a.j,b);b=new BA(b);a.j.l.push(b);return b},JA=function(a,b){qA(a.j,b);return new CA(b)},GA=function(a,b){a=r(a.j.h);for(var c=a.next();!c.done;c=a.next())if(c=c.value,!c.Hc){var d=b;c.Za=!0;c.od=d;c.Fc.reject(d);Wj($e)&&vA(c)}};var KA=function(a,b){FA.call(this,a);this.id=a;this.A=b};t(KA,FA);var LA=function(a,b,c){KA.call(this,1041,c);this.storage=b;this.l=IA(this,a)};t(LA,KA);LA.prototype.h=function(){var a=this.l.value;gA().set(a,this.storage)&&null!=B(a,2)&&W(27,B(a,1))};var MA=function(a,b){KA.call(this,1048,b);this.l=HA(this);this.B=HA(this);this.H=IA(this,a)};t(MA,KA);MA.prototype.h=function(){var a=this.H.value,b=function(c){var d={};W(c,B(a,1),null,(d.tic=String(Math.round((Date.now()-B(a,3))/6E4)),d))};switch(iA(a)){case 0:b(24);break;case 1:b(25);wA(this.B,a);break;case 2:b(26);wA(this.l,a);break;case 3:W(9,B(a,1));wA(this.l,a);break;case 4:b(23),wA(this.l,a)}};function NA(a){var b=function(c){var d={};W(c,B(a,1),null,(d.tic=String(Math.round((Date.now()-B(a,3))/6E4)),d))};switch(iA(a)){case 0:b(24);break;case 1:b(25);break;case 2:b(26);break;case 3:W(9,B(a,1));break;case 4:b(23)}};var OA=function(a,b,c,d){KA.call(this,658,d);this.collectorFunction=a;this.storage=c;this.l=HA(this);this.H=HA(this);this.B=JA(this,b)};t(OA,KA);OA.prototype.h=function(){var a=this;if(this.B.value){var b=function(f){wA(a.l,{id:B(f,1),collectorGeneratedData:B(f,2)})},c=this.B.value,d=B(c,1),e=iA(c);NA(c);switch(e){case 0:b(c);break;case 1:b(c);wA(this.H,c);break;case 3:case 2:case 4:C(c,2,null),jA(d,c,this.collectorFunction,this.storage).then(b)}}else wA(this.l,null)};var PA=function(a,b,c){KA.call(this,1027,c);this.jc=a;this.storage=b;this.l=HA(this);this.B=HA(this)};t(PA,KA);PA.prototype.h=function(){var a=gA().get(this.jc,this.storage).Cb;if(!a){a=gm(fm(this.jc),Xj(ef)||null);a=C(a,3,Date.now());var b=a.Ia(cm(new bm,100));wA(this.B,b)}wA(this.l,a)};var QA=function(a,b,c){KA.call(this,1029,c);this.l=b;this.B=HA(this);this.H=IA(this,a)};t(QA,KA);QA.prototype.h=function(){var a=this.H.value,b=Date.now();if(this.l){var c=ed(a,8),d,e=null!=(d=qd(a))?d:b;c<this.l&&C(a,8,Zc(Math.min(c+Number((this.l*(b/1E3/60-e)/60).toFixed(3)),this.l)))}wA(this.B,a)};var RA=function(a,b,c){KA.call(this,1047,c);this.collectorFunction=a;this.B=HA(this);this.l=HA(this);this.H=HA(this);this.J=IA(this,b)};t(RA,KA);RA.prototype.h=function(){var a=this,b=this.J.value,c=B(b,1);W(18,c);try{var d=Nh();this.collectorFunction().then(function(e){W(29,c,null,{delta:String(Nh()-d)});var f=C(b,2,e);wA(a.B,f);wA(a.H,null!=e?e:null)}).catch(function(e){W(28,c,SA(e));e=b.Ia(cm(new bm,106));wA(a.l,e)})}catch(e){W(1,c,SA(e)),yA(this.l,b.Ia(cm(new bm,107)))}};
function SA(a){return"string"===typeof a?a:a instanceof Error?a.message:null};var TA=function(a,b,c){KA.call(this,1030,c);this.H=b;this.l=HA(this);this.B=HA(this);this.J=IA(this,a)};t(TA,KA);TA.prototype.h=function(){var a=this.J.value,b,c=null!=(b=ed(a,8))?b:0,d;b=null!=(d=qd(a))?d:Date.now();1>c&&this.H?(d={},W(22,B(a,1),null,(d.t=String(b),d.cr=String(c),d.cs=String(iA(a)),d)),a=a.Ia(cm(new bm,104)),wA(this.B,a)):wA(this.l,a)};var UA=function(a,b,c,d){KA.call(this,662,d);this.l=a;this.storage=c;this.B=IA(this,b)};t(UA,KA);UA.prototype.h=function(){var a=this;mA().then(function(){var b=a.B.value;jA(B(b,1),b,a.l,a.storage)})};var VA=function(a,b,c){KA.call(this,1028,c);this.l=b;this.B=HA(this);this.H=IA(this,a)};t(VA,KA);VA.prototype.h=function(){var a=this.H.value,b=B(a,1);this.l&&(null==ed(a,8)&&(W(33,b),C(a,8,Zc(this.l))),null==B(a,7)&&(W(34,b),C(a,7,Math.round(Date.now()/1E3/60))));null!=B(a,3)||W(35,b);wA(this.B,a)};var WA=function(a,b,c,d,e){KA.call(this,1050,e);this.J=c;this.H=d;this.l=HA(this);this.B=IA(this,a);this.M=JA(this,b)};t(WA,KA);WA.prototype.h=function(){var a=this.B.value,b=B(a,1),c=this.M.value;if(null==c)W(41,b),a.Ia(cm(new bm,111));else if("string"===typeof c)if(!c.length)W(20,b);else{if(c.length>(/^(\d+)$/.test(b)?this.H:this.J)){var d={};W(12,b,null,(d.sl=String(c.length),d));b=a.Ia(cm(new bm,108));C(b,2,void 0,!1)}}else W(21,b);wA(this.l,a)};var XA=function(){E.apply(this,arguments);this.h=[]};t(XA,E);var YA=function(a,b){We(a,b);a.h.push(b)},ZA=function(a,b){b=r(b);for(var c=b.next();!c.done;c=b.next())YA(a,c.value)},$A=function(a){a=r(a.h);for(var b=a.next();!b.done;b=a.next())b=b.value,Wj($e)?(b.C=!0,EA(b)):b.start()};XA.prototype.N=function(){E.prototype.N.call(this);this.h.length=0};function aB(a,b,c,d){var e,f,g,h,k,n,m,x,u,y,A,F,da,ea,Ba;return Ga(function(ua){e=new XA;f=Xj(ef);g=new PA(a,c,d);h=new LA(g.B,c,d);k=new VA(g.l,f,d);n=new QA(k.B,f,d);m=new TA(n.B,f,d);x=new LA(m.B,c,d);y=u=null;Wj(nf)?(A=new MA(m.l,d),YA(e,A),u=A.B,F=new RA(b,A.l,d),YA(e,F),YA(e,new LA(F.l,c,d)),da=new WA(F.B,F.H,Xj(kf),Xj(jf),d),YA(e,da),YA(e,new LA(da.l,c,d)),y=function(){var gb,dc,hf;return Ga(function(U){if(1==U.h)return hf=a,xa(U,da.l.promise,2);var yc=U.return;if(null==(gb=U.A))var wd=void 0;
else wd=B(gb,2),wd=null==wd?void 0:wd;return yc.call(U,{id:hf,collectorGeneratedData:null!=(dc=wd)?dc:null})})}):(ea=new OA(b,m.l,c,d),YA(e,ea),u=ea.H,y=function(){var gb;return Ga(function(dc){return 1==dc.h?xa(dc,ea.l.promise,2):dc.return(null!=(gb=dc.A)?gb:{id:a,collectorGeneratedData:null})})});Ba=new UA(b,u,c,d);ZA(e,[g,h,k,n,m,x,Ba]);$A(e);return ua.return(y())})};var bB=function(a,b,c,d){KA.call(this,1059,d);this.B=b;this.storage=c;this.l=HA(this);this.H=IA(this,a)};t(bB,KA);bB.prototype.h=function(){var a=this.H.value,b=a.id,c=a.collectorFunction,d;a=null!=(d=a.networkCode)?d:b;b={};W(42,a,null,(b.ea=String(Number(this.B)),b));zA(this.l,aB(a,c,this.storage,this.A))};var cB=function(a,b){KA.call(this,1057,b);this.l=a;this.B=HA(this);this.H=HA(this)};t(cB,KA);
cB.prototype.h=function(){if(this.l)if("object"!==typeof this.l)W(46,"UNKNOWN_COLLECTOR_ID"),dB(this,"UNKNOWN_COLLECTOR_ID",112);else{var a=this.l.id,b=this.l.networkCode;a&&b&&(delete this.l.id,W(47,a+";"+b));a=null!=b?b:a;"string"!==typeof a?(b={},W(37,"INVALID_COLLECTOR_ID",null,(b.ii=JSON.stringify(a),b)),dB(this,"INVALID_COLLECTOR_ID",102)):"function"!==typeof this.l.collectorFunction?(W(14,a),dB(this,a,105)):Yj(df).includes(a)?(W(22,a),dB(this,a,104)):wA(this.H,this.l)}else W(39,"UNKNOWN_COLLECTOR_ID"),
dB(this,"UNKNOWN_COLLECTOR_ID",110)};var dB=function(a,b,c){b=fm(b).Ia(cm(new bm,c));wA(a.B,b)};var eB=function(a,b,c){var d=void 0===d?document:d;this.storage=b;this.B=c;this.j=d;this.A=[];this.o=[];this.l=[];this.h=0;a=r(a);for(b=a.next();!b.done;b=a.next())this.push(b.value)};l=eB.prototype;l.push=function(a){a=new cB(a,this.Rc);var b=new LA(a.B,this.storage,this.Rc),c=new bB(a.H,this.B,this.storage,this.Rc),d=new XA;ZA(d,[a,b,c]);$A(d);a=c.l.promise;this.A.push(a);b=r(this.o);for(c=b.next();!c.done;c=b.next())a.then(c.value)};
l.addOnSignalResolveCallback=function(a){this.o.push(a);for(var b=r(this.A),c=b.next();!c.done;c=b.next())c.value.then(a)};l.addErrorHandler=function(a){this.l.push(a)};
l.clearAllCache=function(){var a=this,b=this.j.currentScript instanceof HTMLScriptElement?this.j.currentScript.src:"";if(1===this.h){var c={};W(49,"",null,(c.url=b,c))}else c=String(eh(null!=b?b:"")),Yj(cf).includes(c)?(c={},W(48,"",null,(c.url=b,c))):(hA(this.storage),this.h=1,setTimeout(function(){a.h=0},1E3*Xj(bf)),c={},W(43,"",null,(c.url=b,c)))};l.Rc=function(a,b){for(var c=r(this.l),d=c.next();!d.done;d=c.next())d=d.value,d(a,b)};
var fB=function(a){this.push=function(b){a.push(b)};this.addOnSignalResolveCallback=function(b){a.addOnSignalResolveCallback(b)};this.addErrorHandler=function(b){a.addErrorHandler(b)};this.clearAllCache=function(){a.clearAllCache()}};function gB(a,b,c,d){if(b){var e=ch();var f=window;f=$g(f.top)?f.top:null;e===f||Wj(af)?hB(a,"encryptedSignalProviders",c,d)&&hB(a,"secureSignalProviders",c,d)||(W(38,""),iB(a,"encryptedSignalProviders",b,c,d),iB(a,"secureSignalProviders",b,c,d)):W(16,"")}else W(15,"")}function hB(a,b,c,d){if(void 0===a[b]||a[b]instanceof Array)return!1;a=a[b];d&&a.addOnSignalResolveCallback(d);a.addErrorHandler(c);return!0}
function iB(a,b,c,d,e){var f,g=new eB(null!=(f=a[b])?f:[],c,"secureSignalProviders"===b);a[b]=new fB(g);e&&g.addOnSignalResolveCallback(e);g.addErrorHandler(d)}function jB(a,b,c,d){var e=new Map;b=b.map(function(f){var g=f.jc;return new Promise(function(h){e.set(g,h)})});gB(a,c,d,function(f){var g=f.collectorGeneratedData;f=f.id;var h;return void(null==(h=e.get(f))?void 0:h({collectorGeneratedData:g,id:f}))});return b};function kB(){var a;return null!=(a=v.googletag)?a:v.googletag={cmd:[]}};function lB(a){if(!a||Vz(a))return null;try{return window.localStorage}catch(b){return null}}function mB(a,b){a=lB(a);gB(kB(),a,function(){},b)}function nB(a,b){return(b=lB(b))&&0!=a.length?jB(kB(),a,b,function(){}):null};var X={},oB=(X.creativeView="creativeview",X.start="start",X.midpoint="midpoint",X.firstQuartile="firstquartile",X.thirdQuartile="thirdquartile",X.complete="complete",X.mute="mute",X.unmute="unmute",X.pause="pause",X.rewind="rewind",X.resume="resume",X.fullscreen="fullscreen",X.exitFullscreen="exitfullscreen",X.expand="expand",X.collapse="collapse",X.close="close",X.acceptInvitation="acceptinvitation",X.adCanPlay="adCanPlay",X.adStarted="adStarted",X.abandon="abandon",X.acceptInvitationLinear="acceptinvitationlinear",
X.engagedView="engagedview",X.instreamAdComplete="instreamAdComplete",X.skipShown="skipshown",X.skippableStateChanged="skippableStateChanged",X.skip="skip",X.progress="progress",X.publisher_invoked_skip="PUBLISHER_INVOKED_SKIP",X.annotation_start="annotation_start",X.annotation_click="annotation_click",X.annotation_close="annotation_close",X.cta_annotation_shown="cta_annotation_shown",X.cta_annotation_clicked="cta_annotation_clicked",X.cta_annotation_closed="cta_annotation_closed",X.replay="replay",
X.stop="stop",X.autoplayDisallowed="autoplayDisallowed",X.error="error",X.mediaLoadTimeout="mediaLoadTimeout",X.linearChanged="linearChanged",X.click="click",X.contentPauseRequested="contentPauseRequested",X.contentResumeRequested="contentResumeRequested",X.discardAdBreak="discardAdBreak",X.updateAdsRenderingSettings="updateAdsRenderingSettings",X.durationChange="durationChange",X.expandedChanged="expandedChanged",X.autoClose="autoClose",X.userClose="userClose",X.userRecall="userRecall",X.prefetched=
"prefetched",X.loaded="loaded",X.init="init",X.allAdsCompleted="allAdsCompleted",X.adMetadata="adMetadata",X.adBreakReady="adBreakReady",X.adBreakFetchError="adBreakFetchError",X.log="log",X.volumeChange="volumeChange",X.companionBackfill="companionBackfill",X.companionInitialized="companionInitialized",X.companionImpression="companionImpression",X.companionClick="companionClick",X.impression="impression",X.interaction="interaction",X.adProgress="adProgress",X.adBuffering="adBuffering",X.trackingUrlPinged=
"trackingUrlPinged",X.measurable_impression="measurable_impression",X.custom_metric_viewable="custom_metric_viewable",X.viewable_impression="viewable_impression",X.fully_viewable_audible_half_duration_impression="fully_viewable_audible_half_duration_impression",X.audio_audible="audio_audible",X.audio_measurable="audio_measurable",X.overlay_resize="overlay_resize",X.overlay_unmeasurable_impression="overlay_unmeasurable_impression",X.overlay_unviewable_impression="overlay_unviewable_impression",X.overlay_viewable_immediate_impression=
"overlay_viewable_immediate_impression",X.overlay_viewable_end_of_session_impression="overlay_viewable_end_of_session_impression",X.externalActivityEvent="externalActivityEvent",X.adEvent="adEvent",X.configure="configure",X.remainingTime="remainingTime",X.destroy="destroy",X.resize="resize",X.volume="volume",X.authorIconClicked="videoAuthorIconClicked",X.authorNameClicked="videoAuthorClicked",X.videoClicked="videoClicked",X.videoIconClicked="videoIconClicked",X.learnMoreClicked="videoLearnMoreClicked",
X.muteClicked="videoMuteClicked",X.titleClicked="videoTitleClicked",X.videoSkipClicked="SKIPPED",X.unmuteClicked="videoUnmuteClicked",X.vpaidEvent="vpaidEvent",X.show_ad="show_ad",X.video_card_endcap_collapse="video_card_endcap_collapse",X.video_card_endcap_dismiss="video_card_endcap_dismiss",X.video_card_endcap_impression="video_card_endcap_impression",X.mediaUrlPinged="mediaUrlPinged",X.breakStart="breakstart",X.breakEnd="breakend",X.omidReady="omidReady",X.omidUnavailable="omidUnavailable",X.omidAdSessionCompleted=
"omidAdSessionCompleted",X.omidAdSessionAbandoned="omidAdSessionAbandoned",X.verificationNotExecuted="verificationNotExecuted",X.loadStart="loadStart",X.seeked="seeked",X.seeking="seeking",X);var pB=function(a){D.call(this,a)};t(pB,D);pB.prototype.getVersion=function(){return rd(B(this,2),"")};var rB=function(a){D.call(this,a,-1,qB)};t(rB,D);var sB=function(a,b){return C(a,2,b)},tB=function(a,b){return C(a,3,b)},uB=function(a,b){return C(a,4,b)},vB=function(a,b){return C(a,5,b)},wB=function(a,b){return C(a,9,b)},xB=function(a,b){return od(a,10,b)},yB=function(a,b){return C(a,11,b)},zB=function(a,b){return C(a,1,b)},AB=function(a,b){return C(a,7,b)},qB=[10,6];var BB="platform platformVersion architecture model uaFullVersion bitness fullVersionList wow64".split(" ");function CB(a){var b;return null!=(b=a.google_tag_data)?b:a.google_tag_data={}}function DB(a){var b,c;return"function"===typeof(null==(b=a.navigator)?void 0:null==(c=b.userAgentData)?void 0:c.getHighEntropyValues)}
function EB(){var a=window;if(!DB(a))return null;var b=CB(a);if(b.uach_promise)return b.uach_promise;a=a.navigator.userAgentData.getHighEntropyValues(BB).then(function(c){null!=b.uach||(b.uach=c);return c});return b.uach_promise=a}
function FB(a){var b;return yB(xB(vB(sB(zB(uB(AB(wB(tB(new rB,a.architecture||""),a.bitness||""),a.mobile||!1),a.model||""),a.platform||""),a.platformVersion||""),a.uaFullVersion||""),(null==(b=a.fullVersionList)?void 0:b.map(function(c){var d=new pB;d=C(d,1,c.brand);return C(d,2,c.version)}))||[]),a.wow64||!1)}function GB(){var a,b;return null!=(b=null==(a=EB())?void 0:a.then(function(c){return FB(c)}))?b:null};var IB=function(){new Sz;gz();this.deviceId="";this.h=this.referrer=null;HB(this)},JB=function(){IB.h();var a="h.3.556.1";Hz.Rb()&&(a+="/vpaid_adapter");return a},HB=function(a){var b=GB();b&&b.then(function(c){if(null==c)c=null;else{c=Hd(c);for(var d=[],e=0,f=0;f<c.length;f++){var g=c.charCodeAt(f);255<g&&(d[e++]=g&255,g>>=8);d[e++]=g}c=Ac(d,3)}a.h=c})};IB.h=function(){return K(IB)};var LB=function(a){var b=Gz(Hz);if(b&&Dz(b,"forceCustomPlayback")||Hz.Rb())return!0;if((gc||fv())&&a)return!1;a=a&&(gc||fv()||gv(10))&&Hz.getDisableCustomPlaybackForIOS10Plus();return(fc||hc)&&!a||ec&&(!ec||!ev(dv,4))||KB()?!0:!1},MB=function(a){return null==a?!1:Hz.Rb()?!0:ic||gc||fv()?hv(a)?gc||fv()||gv(10)&&Hz.getDisableCustomPlaybackForIOS10Plus()?!1:!0:!0:ec&&(!ec||!ev(dv,4))||KB()?!0:!1},NB=function(){var a=Gz(Hz);return a&&Dz(a,"disableOnScreenDetection")?!1:!so()},KB=function(){return 1==
OB()||2==OB()},OB=function(){return(IB.h(),IB.h(),"tvos"==(IB.h(),null))?1:to()?2:0};var PB=function(a,b){return 0==a.indexOf(b)?a.substr(b.length):null};function QB(){var a=H(),b=document;return new R(a.parent===a?a.location.href:b.referrer)}function RB(a,b){ru(a,"url","");try{var c=2083-a.toString().length-1;if(0>=c)return a.toString();for(var d=b.slice(0,c),e=encodeURIComponent(d),f=c;0<f&&e.length>c;)d=b.slice(0,f--),e=encodeURIComponent(d);ru(a,"url",d)}catch(g){}return a.toString()};var SB={Rf:function(a,b){a&&(Cu(a)?Du(a,b):Ku(a,b))}},TB=new function(){this.h=new Map;this.l=0;this.j=null!=window.fetch};function UB(a){var b=void 0===b?TB:b;if(Ai(Lj)){var c=void 0===c?!1:c;try{a=Xu(a),c=c||nv(a),b.j?fw(b,a,c):ew(b,a,c)}catch(d){}}else if(a=Xu(a,so()?"https":window.location.protocol),so())VB(a);else try{SB.Rf(a,!0)}catch(d){}}function VB(a){(new $v).get({url:a,timeout:new xv}).then(function(){},function(){})};var WB=function(){this.j=.01>Math.random();this.h=Math.floor(4503599627370496*Math.random())};
WB.prototype.report=function(a,b,c){b=void 0===b?{}:b;if(null==v.G_testRunner&&(this.j||(void 0===c?0:c))){b.lid=a;b.sdkv=JB();a=Ei().sort().join(",");fb(ng(a))||(b.e=a);b=XB(this,b);var d=new R("http://pagead2.googlesyndication.com/pagead/gen_204");tf(b,function(e,f){ru(d,f,null==e?"":"boolean"===typeof e?e?"t":"f":""+e)},this);b=QB();eu(d,b.o);b=d.toString();a=d.l.get("url");null!=a&&vb()&&2083<b.length&&(b=RB(d,a));UB(b)}};var XB=function(a,b){b.id="ima_html5";var c=QB();b.c=a.h;b.domain=c.j;return b};
WB.h=function(){return K(WB)};function YB(a,b){return b instanceof RegExp?"__REGEXP"+b.toString():b}function ZB(a,b){return b&&0==b.toString().indexOf("__REGEXP")?(a=b.split("__REGEXP")[1].match(/\/(.*)\/(.*)?/),new RegExp(a[1],a[2]||"")):b}var $B=function(a,b){oz.call(this,b);this.B=a;this.h=null;this.C=new Cv(this);this.C.P(H(),"message",this.F)};t($B,oz);var aC=function(a){if(null==a||"string"!==typeof a||0!=a.lastIndexOf("ima://",0))return null;a=a.substr(6);try{return JSON.parse(a,ZB)}catch(b){return null}};
$B.prototype.sendMessage=function(a,b,c){if(null!=this.h&&null!=this.h.postMessage){var d=this.h,e=d.postMessage,f={};f.name=a;f.type=b;null!=c&&(f.data=c);f.sid=this.l;f.channel=this.B;a="ima://"+pi(new ni(YB),f);e.call(d,a,"*")}null!=this.h&&null==this.h.postMessage&&WB.h().report(11)};$B.prototype.N=function(){Ue(this.C);this.h=null;oz.prototype.N.call(this)};
$B.prototype.F=function(a){a=a.h;var b=aC(a.data);if(bC(this,b)){if(null==this.h)this.h=a.source,this.j||this.connect();else if(this.h!=a.source)return;bC(this,b)&&this.dispatchEvent(new qz(b.name,b.type,b.data||{},b.sid,a.origin))}};var bC=function(a,b){if(null==b)return!1;var c=b.channel;if(null==c||c!=a.B)return!1;b=b.sid;return null==b||"*"!=a.l&&b!=a.l?!1:!0};var cC=function(){O.call(this);this.G=!1;this.h=null;this.B=this.F=this.L=!1;this.j=0;this.A=[];this.C=!1;this.O=this.M=Infinity;this.l=0;this.J=new Cv(this);We(this,this.J);this.H={}};t(cC,O);
var eC=function(a,b){null==b||a.G||(a.h=b,dC(a),a.G=!0)},gC=function(a){null!=a.h&&a.G&&(fC(a),a.G=!1,a.F=!1,a.B=!1,a.j=0,a.A=[],a.C=!1)},dC=function(a){fC(a);!(a.h instanceof O)&&"ontouchstart"in document.documentElement&&ic?(a.H={touchstart:function(b){a.F=!0;a.j=b.touches.length;a.l&&(window.clearTimeout(a.l),a.l=0,a.L=!0);a.C=hC(a,b.touches)||1!=b.touches.length;a.C?(a.M=Infinity,a.O=Infinity):(a.M=b.touches[0].clientX,a.O=b.touches[0].clientY);b=b.touches;a.A=[];for(var c=0;c<b.length;c++)a.A.push(b[c].identifier)},
touchmove:function(b){a.j=b.touches.length;if(!gv(8)||Math.pow(b.changedTouches[0].clientX-a.M,2)+Math.pow(b.changedTouches[0].clientY-a.O,2)>Math.pow(5,2))a.B=!0},touchend:function(b){return void iC(a,b)}},tf(a.H,function(b,c){a.h.addEventListener(c,b,!1)})):a.J.P(a.h,"click",a.U)},fC=function(a){a.J.ob(a.h,"click",a.U);tf(a.H,function(b,c){this.h.removeEventListener(c,b,!1)},a);a.H={}},iC=function(a,b){!a.F||1!=a.j||a.B||a.L||a.C||!hC(a,b.changedTouches)||(a.l=window.setTimeout(function(){return void jC(a)},
300));a.j=b.touches.length;0==a.j&&(a.F=!1,a.B=!1,a.A=[]);a.L=!1};cC.prototype.U=function(){jC(this)};var hC=function(a,b){for(var c=0;c<b.length;c++)if(a.A.includes(b[c].identifier))return!0;return!1},jC=function(a){a.l=0;a.dispatchEvent(new mk("click"))};cC.prototype.N=function(){gC(this);O.prototype.N.call(this)};var kC=function(a,b,c){this.j=c;0==b.length&&(b=[[]]);this.h=b.map(function(d){d=a.concat(d);for(var e=[],f=0,g=0;f<d.length;){var h=d[f++];if(128>h)e[g++]=String.fromCharCode(h);else if(191<h&&224>h){var k=d[f++];e[g++]=String.fromCharCode((h&31)<<6|k&63)}else if(239<h&&365>h){k=d[f++];var n=d[f++],m=d[f++];h=((h&7)<<18|(k&63)<<12|(n&63)<<6|m&63)-65536;e[g++]=String.fromCharCode(55296+(h>>10));e[g++]=String.fromCharCode(56320+(h&1023))}else k=d[f++],n=d[f++],e[g++]=String.fromCharCode((h&15)<<12|
(k&63)<<6|n&63)}return new RegExp(e.join(""))})};kC.prototype.match=function(a){var b=this;return this.h.some(function(c){c=a.match(c);return null==c?!1:!b.j||1<=c.length&&"3.556.1"==c[1]||2<=c.length&&"3.556.1"==c[2]?!0:!1})};
var lC=[104,116,116,112,115,63,58,47,47,105,109,97,115,100,107,92,46,103,111,111,103,108,101,97,112,105,115,92,46,99,111,109,47,106,115,47,40,115,100,107,108,111,97,100,101,114,124,99,111,114,101,41,47],mC=[104,116,116,112,115,63,58,47,47,115,48,92,46,50,109,100,110,92,46,110,101,116,47,105,110,115,116,114,101,97,109,47,104,116,109,108,53,47],nC=[104,116,116,112,115,63,58,47,47,105,109,97,115,100,107,92,46,103,111,111,103,108,101,97,112,105,115,92,46,99,111,109,47,112,114,101,114,101,108,101,97,115,
101,47,106,115,47,91,48,45,57,93,43,92,46,91,48,45,57,92,46,93,43,47],oC=[[105,109,97,51,92,46,106,115],[105,109,97,51,95,100,101,98,117,103,92,46,106,115],[105,109,97,51,95,101,97,112,46,106,115]],pC=[[98,114,105,100,103,101,40,91,48,45,57,93,43,92,46,91,48,45,57,92,46,93,43,41,40,95,40,91,97,45,122,48,45,57,93,41,123,50,44,51,125,41,123,48,44,50,125,92,46,104,116,109,108],[98,114,105,100,103,101,40,91,48,45,57,93,43,92,46,91,48,45,57,92,46,93,43,41,95,100,101,98,117,103,40,95,40,91,97,45,122,48,
45,57,93,41,123,50,44,51,125,41,123,48,44,50,125,92,46,104,116,109,108],[98,114,105,100,103,101,40,95,40,91,97,45,122,48,45,57,93,41,123,50,44,51,125,41,123,48,44,50,125,92,46,104,116,109,108]],qC=[[111,117,116,115,116,114,101,97,109,92,46,106,115],[111,117,116,115,116,114,101,97,109,95,100,101,98,117,103,92,46,106,115]],rC=new kC(lC,oC,!1),sC=new kC(lC,pC,!0),tC=new kC(mC,oC,!1),uC=new kC(mC,pC,!0),vC=new kC(nC,oC,!1),wC=new kC([104,116,116,112,115,63,58,47,47,40,112,97,103,101,97,100,50,124,116,
112,99,41,92,46,103,111,111,103,108,101,115,121,110,100,105,99,97,116,105,111,110,92,46,99,111,109,47,112,97,103,101,97,100,47,40,103,97,100,103,101,116,115,124,106,115,41,47],[],!1),xC=new kC(lC,[[100,97,105,95,105,102,114,97,109,101,40,91,48,45,57,93,43,92,46,91,48,45,57,92,46,93,43,41,40,95,40,91,97,45,122,48,45,57,93,41,123,50,44,51,125,41,123,48,44,50,125,92,46,104,116,109,108],[100,97,105,95,105,102,114,97,109,101,40,91,48,45,57,93,43,92,46,91,48,45,57,92,46,93,43,41,95,100,101,98,117,103,40,
95,40,91,97,45,122,48,45,57,93,41,123,50,44,51,125,41,123,48,44,50,125,92,46,104,116,109,108],[100,97,105,95,105,102,114,97,109,101,40,95,40,91,97,45,122,48,45,57,93,41,123,50,44,51,125,41,123,48,44,50,125,92,46,104,116,109,108]],!0),yC=new kC(lC,qC,!1),zC=new kC(nC,qC,!1),wf={Tg:rC,Rg:sC,ph:tC,oh:uC,Ug:vC,Qh:wC,Sg:xC,yh:yC,zh:zC};function AC(a){for(var b=null,c=0;c<a.length;c++)if(b=a[c],vf(function(d){return d.match(b.src)}))return b;return null};var BC="abort canplay canplaythrough durationchange emptied loadstart loadeddata loadedmetadata progress ratechange seeked seeking stalled suspend waiting".split(" ");var CC=Qf(Le(new Ke(Ie,"https://pagead2.googlesyndication.com/omsdk/releases/live/omweb-v1.js"))),DC=Qf(Le(new Ke(Ie,"https://pagead2.googlesyndication.com/omsdk/releases/canary/omweb-v1.js")));var GC=function(a,b){EC?a.srcdoc=b:(a=a.contentWindow)&&FC(a.document,b)},EC=bc&&"srcdoc"in Cg(document,"IFRAME"),FC=function(a,b){a.open("text/html","replace");Wg(a,gg(b));a.close()};function HC(a){return(a=Ig(a))&&a.omidSessionInterface?a.omidSessionInterface:null}
function IC(a,b){var c=Eg("IFRAME",{sandbox:"allow-scripts allow-same-origin",style:"display: none"});a.appendChild(c);a="<script src="+(Ai(Aj)?DC:CC).La()+">\x3c/script>";b&&(a+="\n      <script>\n        window.addEventListener('message', function(e) {\n          if (e.data.type === 'innerBridgeIframeLoaded') {\n            window.frameElement.parentElement\n              .querySelector('#"+b+"').contentWindow\n              .postMessage({type: 'omidIframeLoaded'}, '*');\n          }\n        });\n      \x3c/script>\n    ");b=
new Promise(function(d,e){c.addEventListener("load",function(){HC(c)?d(c):e()})});GC(c,a);return b};var JC=function(a,b){O.call(this);this.j=HC(a);this.h=b};t(JC,O);var LC=function(a){try{a.j.registerSessionObserver(function(b){"sessionStart"==b.type?KC(a,a.h):"sessionFinish"==b.type&&LC(a)})}catch(b){a.dispatchEvent(new Event("error"))}},KC=function(a,b){b instanceof Dy&&(b=b.T);try{a.j.setVideoElement(b)}catch(c){a.dispatchEvent(new Event("error"))}};var MC=function(a){this.data=a};l=MC.prototype;l.getTotalAds=function(){return this.data.totalAds};l.getMaxDuration=function(){return this.data.maxDuration};l.getAdPosition=function(){return this.data.adPosition};l.getPodIndex=function(){return this.data.podIndex};l.getTimeOffset=function(){return this.data.timeOffset};l.getIsBumper=function(){return this.data.isBumper};MC.prototype.getIsBumper=MC.prototype.getIsBumper;MC.prototype.getTimeOffset=MC.prototype.getTimeOffset;
MC.prototype.getPodIndex=MC.prototype.getPodIndex;MC.prototype.getAdPosition=MC.prototype.getAdPosition;MC.prototype.getMaxDuration=MC.prototype.getMaxDuration;MC.prototype.getTotalAds=MC.prototype.getTotalAds;var NC=function(a){this.wa=a};l=NC.prototype;l.getContent=function(){return this.wa.content};l.getContentType=function(){return this.wa.contentType};l.getWidth=function(){return this.yb().width};l.getHeight=function(){return this.yb().height};l.getAdSlotId=function(){return this.wa.adSlotId};l.yb=function(){return this.wa.size};l.ae=function(){return this.wa.resourceType};var Az=function(a){return(a=a.wa.backupCompanions)?a.map(function(b){return new NC(b)}):[]};NC.prototype.getAdSlotId=NC.prototype.getAdSlotId;
NC.prototype.getHeight=NC.prototype.getHeight;NC.prototype.getWidth=NC.prototype.getWidth;NC.prototype.getContentType=NC.prototype.getContentType;NC.prototype.getContent=NC.prototype.getContent;var OC=function(a,b){this.j=a;this.h=b};OC.prototype.getAdIdValue=function(){return this.j};OC.prototype.getAdIdRegistry=function(){return this.h};OC.prototype.getAdIdRegistry=OC.prototype.getAdIdRegistry;OC.prototype.getAdIdValue=OC.prototype.getAdIdValue;var Y=function(a){this.h=a};Y.prototype.getAdId=function(){return this.h.adId};Y.prototype.getCreativeAdId=function(){return this.h.creativeAdId};Y.prototype.getCreativeId=function(){return this.h.creativeId};var PC=function(a){return a.h.adQueryId};l=Y.prototype;l.getAdSystem=function(){return this.h.adSystem};l.getAdvertiserName=function(){return this.h.advertiserName};l.getApiFramework=function(){return this.h.apiFramework};l.getWrapperAdIds=function(){return this.h.adWrapperIds};
l.getWrapperCreativeIds=function(){return this.h.adWrapperCreativeIds};l.getWrapperAdSystems=function(){return this.h.adWrapperSystems};l.isLinear=function(){return this.h.linear};l.isSkippable=function(){return this.h.skippable};l.getContentType=function(){return this.h.contentType};l.getDescription=function(){return this.h.description};l.getTitle=function(){return this.h.title};l.getDuration=function(){return this.h.duration};l.getVastMediaWidth=function(){return this.h.vastMediaWidth};
l.getVastMediaHeight=function(){return this.h.vastMediaHeight};l.getWidth=function(){return this.h.width};l.getHeight=function(){return this.h.height};l.getUiElements=function(){return this.h.uiElements};l.getMinSuggestedDuration=function(){return this.h.minSuggestedDuration};l.getAdPodInfo=function(){return new MC(this.h.adPodInfo)};
l.getCompanionAds=function(a,b,c){if(!this.h.companions)return[];var d=this.h.companions.map(function(e){return new NC(e)});return zz(new wz({size:new G(a,b),Xd:c?"SelectFluid"==c.sizeCriteria:!1},c),d)};l.getTraffickingParameters=function(){return vv(ng(this.h.traffickingParameters))};l.getTraffickingParametersString=function(){return this.h.traffickingParameters};l.getVastMediaBitrate=function(){return this.h.vastMediaBitrate};l.getMediaUrl=function(){return this.h.mediaUrl};l.getSurveyUrl=function(){return this.h.surveyUrl};
l.getDealId=function(){return this.h.dealId};l.getUniversalAdIds=function(){return(this.h.universalAdIds||[]).map(function(a){return new OC(a.adIdValue,a.adIdRegistry)})};l.getUniversalAdIdValue=function(){return this.h.universalAdIdValue};l.getUniversalAdIdRegistry=function(){return this.h.universalAdIdRegistry};l.getSkipTimeOffset=function(){return this.h.skipTimeOffset};l.fe=function(){return this.h.disableUi};Y.prototype.isUiDisabled=Y.prototype.fe;Y.prototype.getSkipTimeOffset=Y.prototype.getSkipTimeOffset;
Y.prototype.getUniversalAdIdRegistry=Y.prototype.getUniversalAdIdRegistry;Y.prototype.getUniversalAdIdValue=Y.prototype.getUniversalAdIdValue;Y.prototype.getUniversalAdIds=Y.prototype.getUniversalAdIds;Y.prototype.getDealId=Y.prototype.getDealId;Y.prototype.getSurveyUrl=Y.prototype.getSurveyUrl;Y.prototype.getMediaUrl=Y.prototype.getMediaUrl;Y.prototype.getVastMediaBitrate=Y.prototype.getVastMediaBitrate;Y.prototype.getTraffickingParametersString=Y.prototype.getTraffickingParametersString;
Y.prototype.getTraffickingParameters=Y.prototype.getTraffickingParameters;Y.prototype.getCompanionAds=Y.prototype.getCompanionAds;Y.prototype.getAdPodInfo=Y.prototype.getAdPodInfo;Y.prototype.getMinSuggestedDuration=Y.prototype.getMinSuggestedDuration;Y.prototype.getUiElements=Y.prototype.getUiElements;Y.prototype.getHeight=Y.prototype.getHeight;Y.prototype.getWidth=Y.prototype.getWidth;Y.prototype.getVastMediaHeight=Y.prototype.getVastMediaHeight;Y.prototype.getVastMediaWidth=Y.prototype.getVastMediaWidth;
Y.prototype.getDuration=Y.prototype.getDuration;Y.prototype.getTitle=Y.prototype.getTitle;Y.prototype.getDescription=Y.prototype.getDescription;Y.prototype.getContentType=Y.prototype.getContentType;Y.prototype.isSkippable=Y.prototype.isSkippable;Y.prototype.isLinear=Y.prototype.isLinear;Y.prototype.getWrapperAdSystems=Y.prototype.getWrapperAdSystems;Y.prototype.getWrapperCreativeIds=Y.prototype.getWrapperCreativeIds;Y.prototype.getWrapperAdIds=Y.prototype.getWrapperAdIds;
Y.prototype.getApiFramework=Y.prototype.getApiFramework;Y.prototype.getAdvertiserName=Y.prototype.getAdvertiserName;Y.prototype.getAdSystem=Y.prototype.getAdSystem;Y.prototype.getCreativeId=Y.prototype.getCreativeId;Y.prototype.getCreativeAdId=Y.prototype.getCreativeAdId;Y.prototype.getAdId=Y.prototype.getAdId;var QC=function(a){this.h=a};QC.prototype.getCuePoints=function(){return this.h};QC.prototype.getCuePoints=QC.prototype.getCuePoints;var RC=function(){this.autoAlign=!0;this.bitrate=-1;this.enablePreloading=this.disableUi=this.disableClickThrough=!1;this.loadVideoTimeout=8E3;this.mimeTypes=null;this.playAdsAfterTime=-1;this.restoreCustomPlaybackStateOnAdBreakComplete=!1;this.uiElements=null;this.useStyledNonLinearAds=this.useStyledLinearAds=this.useLearnMoreButton=!1;this.useVideoAdUi=!0},SC=function(a,b){var c={};Object.assign(c,a);b&&(c.disableClickThrough=!0);return c};
RC.prototype.append=function(a){if(a){null!=a.autoAlign&&(this.autoAlign=a.autoAlign);var b=sg(a.bitrate);"number"===typeof b&&!isNaN(b)&&0<b&&(this.bitrate=b);this.disableClickThrough=a.disableClickThrough||this.disableClickThrough;this.disableUi=a.disableUi||this.disableUi;this.enablePreloading=a.enablePreloading||this.enablePreloading;a.mimeTypes&&0!=a.mimeTypes.length&&(this.mimeTypes=a.mimeTypes);b=sg(a.playAdsAfterTime);"number"===typeof b&&!isNaN(b)&&0<b&&(this.playAdsAfterTime=b);this.restoreCustomPlaybackStateOnAdBreakComplete=
a.restoreCustomPlaybackStateOnAdBreakComplete||this.restoreCustomPlaybackStateOnAdBreakComplete;b=sg(a.loadVideoTimeout);"number"===typeof b&&!isNaN(b)&&0<b&&(this.loadVideoTimeout=b);this.uiElements=a.uiElements||this.uiElements;this.useLearnMoreButton=a.useLearnMoreButton||this.useLearnMoreButton;this.useStyledLinearAds=a.useStyledLinearAds||this.useStyledLinearAds;this.useStyledNonLinearAds=a.useStyledNonLinearAds||this.useStyledNonLinearAds;this.useVideoAdUi=!1===a.useVideoAdUi?!1:this.useVideoAdUi}};
w("module$contents$ima$AdsRenderingSettings_AdsRenderingSettings.AUTO_SCALE",-1);var TC=null,UC=function(){O.call(this);this.h=null;this.C=new Cv(this);We(this,this.C);this.j=new Map;this.A=new Map;this.l=this.F=!1;this.B=null},VC;t(UC,O);var WC=function(){null==TC&&(TC=new UC);return TC},Ss=function(a,b,c){var d={};d.queryId=b;d.viewabilityData=c;a.h&&pz(a.h,"activityMonitor","viewabilityMeasurement",d)};UC.prototype.destroy=function(){this.C.ob(this.h,"activityMonitor",this.G);this.l=!1;this.j.clear();this===VC&&(VC=null)};UC.prototype.N=function(){this.destroy();O.prototype.N.call(this)};
UC.prototype.init=function(a){if(!this.l){if(this.h=a||null)this.C.P(this.h,"activityMonitor",this.G),XC(this);if(!(v.ima&&v.ima.video&&v.ima.video.client&&v.ima.video.client.tagged)){w("ima.video.client.sdkTag",!0);var b=v.document;a=Cg(document,"SCRIPT");var c=Qf(Le(new Ke(Ie,"https://s0.2mdn.net/instream/video/client.js")));a.src=Pf(c);Vg(a);a.async=!0;a.type="text/javascript";b=b.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b)}Tm();K(Is).J=Hz.h;this.F=!0;K(Is).l=!0;this.B=null;
a=K(Is);b="h"==ts(a)||"b"==ts(a);c=!(Q(),!1);b&&c&&(a.F=!0,a.H=new Nq);this.l=!0}};
var ZC=function(a){if(null==a)return!1;if((fc||hc)&&null!=a.webkitDisplayingFullscreen)return a.webkitDisplayingFullscreen;a=YC(a);var b=window.screen.availHeight||window.screen.height;return 0>=(window.screen.availWidth||window.screen.width)-a.width&&42>=b-a.height},YC=function(a){var b={left:a.offsetLeft,top:a.offsetTop,width:a.offsetWidth,height:a.offsetHeight};try{"function"===typeof a.getBoundingClientRect&&Hg(ug(a),a)&&(b=a.getBoundingClientRect())}catch(c){}return b},$C=function(a,b,c,d,e){e=
void 0===e?{}:e;if(a.l){d&&null==e.opt_osdId&&(e.opt_osdId=d);if(a.B)return a.B(b,c,e);if(a=d?a.A.get(d):Hz.o)null==e.opt_fullscreen&&(e.opt_fullscreen=ZC(a)),null==e.opt_adElement&&(e.opt_adElement=a);return ht.nb(469,Wa(Vs,b,c,e))||{}}return{}},aD=function(a){var b;0!=Hz.h?b=K(Is).l:b=a.F;return b},bD=function(a,b){var c=String(Math.floor(1E9*Math.random()));a.A.set(c,b);if(Ai(Ij))try{$l(function(d){if(a.h){var e={};e.engagementString=d;pz(a.h,"activityMonitor","engagementData",e)}},function(){return b})}catch(d){}0!=
Hz.h&&Ts(K(Is),c,a);return c},cD=function(a,b,c){if(c)a.j.get(c)==b&&a.j.delete(c);else{var d=[];a.j.forEach(function(e,f){e==b&&d.push(f)});d.forEach(a.j.delete,a.j)}},Os=function(a,b){a=a.j.get(b);return"function"===typeof a?a():{}},XC=function(a){if("function"===typeof window.Goog_AdSense_Lidar_getUrlSignalsArray){var b={};b.pageSignals=window.Goog_AdSense_Lidar_getUrlSignalsArray();pz(a.h,"activityMonitor","pageSignals",b)}};
UC.prototype.G=function(a){var b=a.ra,c=b.queryId,d={},e=null;d.eventId=b.eventId;switch(a.messageType){case "getPageSignals":XC(this);break;case "reportVastEvent":e=b.vastEvent;a=b.osdId;var f={};f.opt_fullscreen=b.isFullscreen;b.isOverlay&&(f.opt_bounds=b.overlayBounds);d.viewabilityData=$C(this,e,c,a,f);pz(this.h,"activityMonitor","viewability",d);break;case "fetchAdTagUrl":c={},c.eventId=b.eventId,a=b.osdId,Cf(b,"isFullscreen")&&(e=b.isFullscreen),Cf(b,"loggingId")&&(b=b.loggingId,c.loggingId=
b,WB.h().report(43,{step:"beforeLookup",logid:b,time:Date.now()})),c.engagementString=dD(this,a,e),this.h&&pz(this.h,"activityMonitor","engagement",c)}};var dD=function(a,b,c){var d=b?a.A.get(b):Hz.o;a={};null!=c&&(a.fullscreen=c);c="";try{c=Zl(function(){return d},a)}catch(e){c="sdktle;"+lg(e.name,12)+";"+lg(e.message,40)}return c};w("ima.common.getVideoMetadata",function(a){return Os(WC(),a)});w("ima.common.triggerViewabilityMeasurementUpdate",function(a,b){Ss(WC(),a,b)});var eD=function(a){this.h=a;this.l="";this.j=-1;this.o=!1},gD=function(a,b){if(0<=a.j){var c=null==b?function(){}:b,d=function(){fD(a,c);a.h.removeEventListener("loadedmetadata",d,!1)};a.h.addEventListener("loadedmetadata",d,!1);a.h.src=a.l;a.h.load()}else null!=b&&b()},fD=function(a,b){var c=0<a.h.seekable.length;a.o?c?(a.h.currentTime=a.j,hD(a),b()):setTimeout(function(){return void fD(a,b)},100):(hD(a),b())},hD=function(a){a.j=-1;a.l="";a.o=!1};var iD=new G(5,5),jD=function(a){O.call(this);this.h=a;this.aa=null;this.B=new eD(a);this.j=new Cv(this);We(this,this.j);this.A=0;this.J=this.F=this.M=this.Z=this.H=!1;this.L=this.l=null;this.U=new G(this.h.offsetWidth,this.h.offsetHeight);this.Sa=null;this.V=ZC(this.h);this.X=!1};t(jD,O);l=jD.prototype;l.Jd=function(){var a=this.B;a.l=a.h.currentSrc;a.o=0<a.h.seekable.length;a.j=a.h.ended?-1:a.h.currentTime};l.ac=function(a){gD(this.B,a)};
l.load=function(a,b){var c=L.h().h;c.V=!0;$h(c);ki("hvd_lc");kD(this);this.M=!1;if(b)if(ki("hvd_ad"),b instanceof Ou){if(ki("hvd_mad"),c=b.getMediaUrl()){ki("hvd_admu");ki("hvd_src");this.h.src=c;this.h.load();return}}else if(b instanceof Nu){ki("hvd_dad");c=b.o;var d=b.j,e=b.l,f=b.h,g=b.bb,h=b.Ua;if(c&&d&&e&&f&&g&&h&&(ki("hvd_addu"),b.Aa)){ki("hvd_admse");b=e+'; codecs="'+g+'"';f=f+'; codecs="'+h+'"';if(Mx()&&Mx()&&MediaSource.isTypeSupported(b)&&Mx()&&MediaSource.isTypeSupported(f)){ki("hvd_ymse");
ki("hvd_mse");a=!1;try{-1!=window.location.search.indexOf("goog_limavideo=true")&&(a=!0)}catch(k){}v.customElements?a?a=!0:(Ai(Jj)&&WB.h().report(153,{limvid:"vd"}),a=Ai(Jj)||Ai(Dj)||Ai(Hj)||Ai(Gj)||Ai(Ej)||Ai(Fj)||Ai(Bj)||Ai(Cj)?!0:!1):a=!1;a&&this.h instanceof Dy?(a=this.h,a.vb=c,a.Mb=d):(this.aa=new az(this.h,[new Px(c,b,35E4,new kw),new Px(d,f,82E3,new kw)]),We(this,this.aa),c=this.h,d=this.aa,d.h||(d.h=window.URL.createObjectURL(d.ga)),d=d.h,c.src=d);this.h.load();return}ki("hvd_nmse")}}else ki("hvd_uad");
a?(ki("hvd_src"),this.h.src=a):ki("hvd_vn");this.h.load()};l.setVolume=function(a){this.h.volume=Math.max(a,0);this.h.muted=0==a?!0:!1};l.getVolume=function(){return this.h.muted?0:this.h.volume};var lD=function(a){a.X=!1;a.M||vb()?(a.J=!1,a.l=a.h.play(),null!=a.l&&(a.L=null,a.l.then(function(){a.l=null;a.he(a.L);a.L=null}).catch(function(b){a.l=null;var c="";null!=b&&null!=b.name&&(c=b.name);"AbortError"==c||"NotAllowedError"==c?a.dispatchEvent("autoplayDisallowed"):a.ca()}))):a.J=!0};
jD.prototype.pause=function(){null==this.l&&(this.X=!0,this.h.pause())};jD.prototype.getCurrentTime=function(){return this.h.currentTime};jD.prototype.getDuration=function(){return isNaN(this.h.duration)?-1:this.h.duration};jD.prototype.N=function(){if(this.Sa){var a=ov.get(this.Sa);rv(a)}mD(this);O.prototype.N.call(this)};var mD=function(a){null!=a.C&&(gC(a.C),a.C=null);null!=a.O&&a.O.W();Gv(a.j);kD(a)},kD=function(a){a.Z=!1;a.F=!1;a.H=!1;a.J=!1;a.A=0;a.l=null;a.L=null;Ue(a.G)};jD.prototype.tb=function(a){this.dispatchEvent(a.type)};
var oD=function(a){if(!a.F){a.F=!0;a.dispatchEvent("start");try{if(Ai(Jj)&&v.customElements){var b=v.customElements.get("lima-video");a.h instanceof b?WB.h().report(153,{limvid:"limastart"}):WB.h().report(153,{limvid:"videostart"})}}catch(c){WB.h().report(153,{limvid:"startfail"})}b="function"===typeof a.h.getAttribute&&null!=a.h.getAttribute("playsinline");b=void 0===b?!1:b;(gc||fv()||gv(10))&&(b||(IB.h(),1))||(IB.h(),rb(ub(),"Xbox"))||(fc||hc?0:(!ec||ec&&ev(dv,4))&&(so()?(IB.h(),!1):!KB()))||!ec||
ec&&ev(dv,3)||(fc||hc)&&!gv(4)||nD(a)}};l=jD.prototype;l.Lf=function(){this.M=!0;this.J&&lD(this);this.J=!1;pD(this)};l.Mf=function(){this.Z||(this.Z=!0,this.dispatchEvent("loaded"))};l.he=function(a){null!=this.l?this.L=a:(this.dispatchEvent("play"),ic||gc||fv()||uc||oD(this))};
l.Pf=function(a){if(!this.F&&(ic||gc||fv()||uc)){if(0>=this.getCurrentTime())return;if(uc&&this.h.ended&&1==this.getDuration()){this.ca(a);return}oD(this)}if(ic||rb(ub(),"Nintendo WiiU")){if(1.5<this.getCurrentTime()-this.A){this.H=!0;this.h.currentTime=this.A;return}this.H=!1;this.getCurrentTime()>this.A&&(this.A=this.getCurrentTime())}this.dispatchEvent("timeUpdate")};l.Qf=function(){this.dispatchEvent("volumeChange")};
l.Of=function(){if(this.F&&ic&&!this.X&&(2>qD(this)||this.H)){this.G=new ql(250);this.j.P(this.G,"tick",this.Ka);this.G.start();var a=!0}else a=!1;a||this.l||this.dispatchEvent("pause")};l.Kf=function(){var a=!0;if(ic||rb(ub(),"Nintendo WiiU"))a=this.A>=this.h.duration-1.5;!this.H&&a&&this.dispatchEvent("end")};var nD=function(a){a.dispatchEvent("beginFullscreen")};jD.prototype.na=function(){this.dispatchEvent("endFullscreen")};jD.prototype.ca=function(){this.dispatchEvent("error")};
jD.prototype.ua=function(){this.dispatchEvent("click")};var pD=function(a){a.h instanceof HTMLElement&&(a.Sa=tv(a.h,iD),a.Sa.then(function(b){a.ya()||M(L.h(),"ps",b.width+"x"+b.height)}))};jD.prototype.rb=function(){var a=new G(this.h.offsetWidth,this.h.offsetHeight),b=ZC(this.h);if(a.width!=this.U.width||a.height!=this.U.height)!this.V&&b?nD(this):this.V&&!b&&this.na(),this.U=a,this.V=b};
jD.prototype.Ka=function(){if(!this.h.ended&&this.h.paused&&(ic||vc?this.h.currentTime<this.h.duration:1)){var a=this.h.duration-this.h.currentTime,b=qD(this);0<b&&(2<=b||2>a)&&(Ue(this.G),lD(this))}else Ue(this.G)};var qD=function(a){var b;a:{for(b=a.h.buffered.length-1;0<=b;){if(a.h.buffered.start(b)<=a.h.currentTime){b=a.h.buffered.end(b);break a}b--}b=0}return b-a.h.currentTime};jD.prototype.ub=function(){WB.h().report(139);nD(this)};var sD=function(a,b,c,d){E.call(this);this.B=a;this.A=b;this.l=c;this.C=d;this.o=!1;a=new Cv(this);We(this,a);this.h=this.j=null;rD(this)};t(sD,E);
var uD=function(a){a.o=!0;tD(a)},rD=function(a){IC(a.B,a.C).then(function(b){return void vD(a,b)}).catch(function(){return void wD(a)})},tD=function(a){a.j&&a.o&&Ig(a.j).postMessage({type:"innerBridgeIframeLoaded"},"*")},vD=function(a,b){a.j=b;a.h=new JC(b,a.l);a.h.P("error",function(){return void wD(a)});LC(a.h);tD(a)},wD=function(a){pz(a.A,"omid","iframeFailed");a.W()};sD.prototype.N=function(){this.j&&(Fg(this.j),this.j=null);E.prototype.N.call(this)};var xD=function(a,b,c,d){E.call(this);this.o=a;this.l=b;this.h=c;this.C=d;this.j=new Cv(this);We(this,this.j);this.j.P(this.o,d,this.B)};t(xD,E);
var zD=function(a,b){var c=b.ra;switch(b.messageType){case "showVideo":c=a.l;null!=c.j&&yD(c.j.h,!0);break;case "hide":c=a.l;null!=c.j&&yD(c.j.h,!1);break;case "resizeAndPositionVideo":a=a.l.h;c=new qh(c.x,c.y,c.width,c.height);a.h.style.left=String(c.left)+"px";a.h.style.top=String(c.top)+"px";a.h.style.width=String(c.width)+"px";a.h.style.height=String(c.height)+"px";break;case "restoreSizeAndPositionVideo":c=a.l.h,c.h.style.width="100%",c.h.style.height="100%",c.h.style.left="0",c.h.style.right=
"0"}};
xD.prototype.B=function(a){var b=a.ra;switch(a.messageType){case "activate":a=this.l;var c=this.h;a.h!=c&&a.j&&a.o&&a.l&&(c.setVolume(a.h.getVolume()),c=a.h,a.h=a.l,a.l=c,c=a.j,a.j=a.o,a.o=c,yD(a.o.h,!1),null!=(c=a.K.F)&&(a=a.h.B.h,c.l=a,c.h&&(c=c.h,c.h=a,KC(c,a))));break;case "startTracking":a=this.h;c=this.A;this.j.P(a,zf(gw),c);this.j.P(a,BC,c);a=this.h;mD(a);a.j.P(a.h,BC,a.tb);a.j.P(a.h,"ended",a.Kf);a.j.P(a.h,"webkitbeginfullscreen",a.ub);a.j.P(a.h,"webkitendfullscreen",a.na);a.j.P(a.h,"loadedmetadata",
a.Lf);a.j.P(a.h,"pause",a.Of);a.j.P(a.h,"playing",a.he);a.j.P(a.h,"timeupdate",a.Pf);a.j.P(a.h,"volumechange",a.Qf);a.j.P(a.h,"error",a.ca);a.j.P(a.h,uc||ic&&!gv(8)?"loadeddata":"canplay",a.Mf);a.C=new cC;a.j.P(a.C,"click",a.ua);eC(a.C,a.h);a.O=new ql(1E3);a.j.P(a.O,"tick",a.rb);a.O.start();break;case "stopTracking":a=this.h;c=this.A;this.j.ob(a,zf(gw),c);this.j.ob(a,BC,c);mD(this.h);break;case "exitFullscreen":a=this.h;(fc||hc)&&a.h.webkitDisplayingFullscreen&&a.h.webkitExitFullscreen();break;case "play":lD(this.h);
break;case "pause":this.h.pause();break;case "load":a=this.h;c=b.videoUrl;var d=b.muxedMediaUrl,e=b.muxedMimeType,f=b.muxedAudioCodec,g=b.muxedVideoCodec,h=b.demuxedAudioUrl,k=b.demuxedVideoUrl,n=b.demuxedAudioMimeType,m=b.demuxedVideoMimeType,x=b.demuxedAudioCodec,u=b.demuxedVideoCodec;b=b.mseCompatible;var y=null;k&&h&&b&&m&&n&&u&&x&&(y=new Nu({kg:k,bf:h,Ei:null,hi:null,jg:m,af:n,bb:u,Ua:x,height:null,width:null,Aa:b,Di:null,gi:null}));h=null;d&&e&&g&&f&&(h=new Ou({If:d,ri:null,mimeType:e,bb:g,
Ua:f,height:null,width:null,Aa:b,li:null}));y?a.load(c,y):h?a.load(c,h):a.load(c,null);break;case "unload":a=this.h;kD(a);a.M=!1;"removeAttribute"in a.h?a.h.removeAttribute("src"):a.h.src="";a.h.load();break;case "setCurrentTime":this.h.h.currentTime=b.currentTime;break;case "setVolume":this.h.setVolume(b.volume)}};
xD.prototype.A=function(a){var b={};switch(a.type){case "autoplayDisallowed":a="autoplayDisallowed";break;case "beginFullscreen":a="fullscreen";break;case "endFullscreen":a="exitFullscreen";break;case "click":a="click";break;case "end":a="end";break;case "error":a="error";break;case "loaded":a="loaded";break;case "mediaLoadTimeout":a="mediaLoadTimeout";break;case "pause":a="pause";b.ended=this.h.h.ended;break;case "play":a="play";break;case "skip":a="skip";break;case "start":a="start";b.volume=this.h.getVolume();
break;case "timeUpdate":a="timeupdate";b.currentTime=this.h.getCurrentTime();b.duration=this.h.getDuration();break;case "volumeChange":a="volumeChange";b.volume=this.h.getVolume();break;case "loadedmetadata":a=a.type;b.duration=this.h.getDuration();break;case "abort":case "canplay":case "canplaythrough":case "durationchange":case "emptied":case "loadstart":case "loadeddata":case "progress":case "ratechange":case "seeked":case "seeking":case "stalled":case "suspend":case "waiting":a=a.type;break;default:return}pz(this.o,
this.C,a,b)};var AD=function(a,b){E.call(this);this.j=b;this.l=new xD(a,b,this.j.h,"videoDisplay1");We(this,this.l);this.h=null;var c=this.j.l;null!=c&&(this.h=new xD(a,b,c,"videoDisplay2"),We(this,this.h))};t(AD,E);var BD=function(a,b,c,d){var e=kh("IFRAME");e.id=b;e.name=b;e.width=String(c);e.height=String(d);e.allowTransparency="true";e.scrolling="no";e.marginWidth="0";e.marginHeight="0";e.frameBorder="0";e.style.border="0";e.style.verticalAlign="bottom";e.src="about:blank";e.setAttribute("role","region");e.setAttribute("aria-label","Advertisement");e.title="3rd party ad content";e.tabIndex=0;a.appendChild(e);return e};function CD(a){return gg(null===a?"null":void 0===a?"undefined":a)};function DD(){var a;var b=H();b=void 0===b?window:b;b=void 0===b?window:b;b=b.googletag;b=(null==b?0:b.apiReady)?b:void 0;return null==b?void 0:null==(a=b.companionAds)?void 0:a.call(b)}function ED(a){var b={};b.slotId=a.getSlotId().getId();var c=[];a=r(a.getSizes()||[]);for(var d=a.next();!d.done;d=a.next())if(d=d.value,"string"!==typeof d){var e={};c.push((e.adWidth=d.getWidth(),e.adHeight=d.getHeight(),e))}else"fluid"===d&&(d={},c.push((d.fluidSize=!0,d)));return b.adSizes=c,b}
function FD(a){var b=DD();if(b&&a&&Array.isArray(a)){var c=new Map(b.getSlots().map(function(u){return[u.getSlotId().getId(),u]}));a=r(a);for(var d=a.next();!d.done;d=a.next()){var e=d.value,f=c.get(e.slotId);if(f&&!b.isSlotAPersistentRoadblock(f)){var g=e.adContent;if(g&&(d=wg(f.getSlotId().getDomId()))){d.style.display="";var h=e.adWidth,k=e.adHeight;e.fluidSize&&(k=Sl(d),h=k.width,k=k.height);d.textContent="";if(e.friendlyIframeRendering)try{var n="google_companion_"+f.getSlotId().getId(),m=BD(d,
n,h,k),x=m.contentWindow?m.contentWindow.document:m.contentDocument;ac&&x.open("text/html","replace");Wg(x,CD(g));x.close()}catch(u){}else Ug(d,CD(g)),d.style.width=h+"px",d.style.height=k+"px";b.slotRenderEnded(f,h,k);(e=e.onAdContentSet)&&e(d)}}}}};var GD=function(a,b,c,d,e,f){qz.call(this,a,b,c,d,e);this.h=f};t(GD,qz);var HD=function(a,b){O.call(this);this.A=a;this.l=b;this.h={};this.j=new Cv(this);We(this,this.j);this.j.P(H(),"message",this.B)};t(HD,O);var ID=function(a,b){var c=b.h;a.h.hasOwnProperty(c)&&pz(a.h[c],b.type,b.messageType,b.ra)},JD=function(a,b,c,d){a.h.hasOwnProperty(b)||(c=new $B(b,c),a.j.P(c,a.A,function(e){this.dispatchEvent(new GD(e.type,e.messageType,e.ra,e.Zb,e.origin,b))}),c.h=d,c.connect(),a.h[b]=c)};HD.prototype.N=function(){for(var a in this.h)Ue(this.h[a]);O.prototype.N.call(this)};
HD.prototype.B=function(a){a=a.h;var b=aC(a.data);if(null!=b){var c=b.channel;if(this.l&&!this.h.hasOwnProperty(c)){var d=b.sid;JD(this,c,d,a.source);this.dispatchEvent(new GD(b.name,b.type,b.data||{},d,a.origin,c))}}};function KD(){return!!Ma("googletag.cmd",H())}function LD(){var a=Ma("googletag.console",H());return null!=a?a:null}var MD=function(){Cv.call(this);this.l=new HD("gpt",!0);We(this,this.l);this.P(this.l,"gpt",this.B);this.h=null;KD()||H().top===H()||(this.h=new HD("gpt",!1),We(this,this.h),this.P(this.h,"gpt",this.A))};t(MD,Cv);
MD.prototype.B=function(a){var b=a.origin,c="//imasdk.googleapis.com".match(Mg);b=b.match(Mg);if(c[3]==b[3]&&c[4]==b[4])if(null!=this.h)JD(this.h,a.h,a.Zb,H().parent),null!=this.h&&ID(this.h,a);else if(c=a.ra,null!=c&&void 0!==c.scope){b=c.scope;c=c.args;var d;if("proxy"==b){var e=a.messageType;"isGptPresent"==e?d=KD():"isConsolePresent"==e&&(d=null!=LD())}else if(KD())if("pubads"==b||"companionAds"==b){d=a.messageType;var f=H().googletag;if(null!=f&&null!=f[b]&&(b=f[b](),null!=b&&(d=b[d],null!=d)))try{e=
d.apply(b,c)}catch(g){}d=e}else if("console"==b){if(e=LD(),null!=e&&(b=e[a.messageType],null!=b))try{b.apply(e,c)}catch(g){}}else null===b&&(e=a.messageType,"googleGetCompanionAdSlots"==e?(e=DD())?(e=e.getSlots().map(ED),d=e.length?e:null):d=null:("googleSetCompanionAdContents"==e&&FD(c[0]),d=null));void 0!==d&&(a.ra.returnValue=d,ID(this.l,a))}};MD.prototype.A=function(a){ID(this.l,a)};var ND=function(a,b){if(a.h){var c=a.h;Ue(c.h[b]);delete c.h[b]}a.l&&(a=a.l,Ue(a.h[b]),delete a.h[b])};var PD=function(a,b){var c=Array.prototype.slice.call(arguments),d=c.shift();if("undefined"==typeof d)throw Error("[goog.string.format] Template required");return d.replace(/%([0\- \+]*)(\d+)?(\.(\d+))?([%sfdiu])/g,function(e,f,g,h,k,n,m,x){if("%"==n)return"%";var u=c.shift();if("undefined"==typeof u)throw Error("[goog.string.format] Not enough arguments");arguments[0]=u;return OD[n].apply(null,arguments)})},OD={s:function(a,b,c){return isNaN(c)||""==c||a.length>=Number(c)?a:a=-1<b.indexOf("-",0)?
a+mg(" ",Number(c)-a.length):mg(" ",Number(c)-a.length)+a},f:function(a,b,c,d,e){d=a.toString();isNaN(e)||""==e||(d=parseFloat(a).toFixed(e));var f=0>Number(a)?"-":0<=b.indexOf("+")?"+":0<=b.indexOf(" ")?" ":"";0<=Number(a)&&(d=f+d);if(isNaN(c)||d.length>=Number(c))return d;d=isNaN(e)?Math.abs(Number(a)).toString():Math.abs(Number(a)).toFixed(e);a=Number(c)-d.length-f.length;return d=0<=b.indexOf("-",0)?f+d+mg(" ",a):f+mg(0<=b.indexOf("0",0)?"0":" ",a)+d},d:function(a,b,c,d,e,f,g,h){return OD.f(parseInt(a,
10),b,c,d,0,f,g,h)}};OD.i=OD.d;OD.u=OD.d;function QD(){return["autoplay","trust-token-redemption","attribution-reporting"].filter(function(a){var b=document.featurePolicy;return void 0!==b&&"function"==typeof b.allowedFeatures&&"object"==typeof b.allowedFeatures()&&b.allowedFeatures().includes(a)}).join(";")}
var SD=function(a,b){O.call(this);this.l=new Cv(this);We(this,this.l);this.L=this.J=null;this.H=!1;this.C="goog_"+og++;this.B=new Map;var c=this.C,d=(gh()?"https:":"http:")+PD("//imasdk.googleapis.com/js/core/bridge3.556.1_%s.html",Hz.getLocale());a:{var e=window;try{do{try{if(0==e.location.href.indexOf(d)||0==e.document.referrer.indexOf(d)){var f=!0;break a}}catch(g){}e=e.parent}while(e!=e.top)}catch(g){}f=!1}f&&(d+="?f="+c);f=QD();c=Eg("IFRAME",{src:d+"#"+c,allowFullscreen:!0,allow:f,id:c,style:"border:0; opacity:0; margin:0; padding:0; position:relative; color-scheme: light;"});
this.l.Sb(c,"load",this.Z);a.appendChild(c);this.h=c;this.A=RD(this);this.G=b;this.j=null;this.M=new AD(this.A,this.G);We(this,this.M);this.G.h&&this.l.P(this.A,"displayContainer",this.U);this.l.P(this.A,"mouse",this.V);this.l.P(this.A,"touch",this.X);c=H();d=Ma("google.ima.gptProxyInstance",c);null!=d?c=d:(d=new MD,w("google.ima.gptProxyInstance",d,c),c=d);this.O=c;KB()||(this.F=new sD(a,this.A,b.h.B.h,this.C),We(this,this.F))};t(SD,O);
var RD=function(a,b){b=void 0===b?"*":b;var c=a.B.get(b);null==c&&(c=new $B(a.C,b),a.H&&(c.h=Ig(a.h),c.connect()),a.B.set(b,c));return c};SD.prototype.N=function(){null!==this.j&&(this.j.W(),this.j=null);this.B.forEach(function(a){Ue(a)});this.B.clear();ND(this.O,this.C);Fg(this.h);O.prototype.N.call(this)};
SD.prototype.V=function(a){var b=a.ra,c=Kl(this.h),d=document.createEvent("MouseEvent");d.initMouseEvent(a.messageType,!0,!0,window,b.detail,b.screenX,b.screenY,b.clientX+c.x,b.clientY+c.y,b.ctrlKey,b.altKey,b.shiftKey,b.metaKey,b.button,null);this.h.dispatchEvent(d)};
var TD=function(a,b){var c=Kl(a.h),d=!!("TouchEvent"in window&&0<TouchEvent.length);b=b.map(function(e){return d?new Touch({identifier:e.identifier,target:a.h,clientX:e.clientX,clientY:e.clientY,screenX:e.screenX,screenY:e.screenY,pageX:e.pageX+c.x,pageY:e.pageY+c.y}):document.createTouch(window,a.h,e.identifier,e.pageX+c.x,e.pageY+c.y,e.screenX,e.screenY)});return d?b:document.createTouchList.apply(document,b)};
SD.prototype.X=function(a){var b=a.ra,c=Kl(this.h);if("TouchEvent"in window&&0<TouchEvent.length)b={bubbles:!0,cancelable:!0,view:window,detail:b.detail,ctrlKey:b.ctrlKey,altKey:b.altKey,shiftKey:b.shiftKey,metaKey:b.metaKey,touches:TD(this,b.touches),targetTouches:TD(this,b.targetTouches),changedTouches:TD(this,b.changedTouches)},a=new TouchEvent(a.messageType,b),this.h.dispatchEvent(a);else{var d=document.createEvent("TouchEvent");d.initTouchEvent(a.messageType,!0,!0,window,b.detail,b.screenX,b.screenY,
b.clientX+c.x,b.clientY+c.y,b.ctrlKey,b.altKey,b.shiftKey,b.metaKey,TD(this,b.touches),TD(this,b.targetTouches),TD(this,b.changedTouches),b.scale,b.rotation);this.h.dispatchEvent(d)}};SD.prototype.U=function(a){switch(a.messageType){case "showVideo":null==this.j?(this.j=new cC,this.l.P(this.j,"click",this.aa)):gC(this.j);eC(this.j,UD(this.G));break;case "hide":null!==this.j&&(this.j.W(),this.j=null)}var b=this.M;zD(b.l,a);b.h&&zD(b.h,a)};SD.prototype.aa=function(){pz(this.A,"displayContainer","videoClick")};
SD.prototype.Z=function(){var a=this;this.J=Qh();this.L=Nh();this.B.forEach(function(c){c.h=Ig(a.h);c.connect()});var b;null==(b=this.F)||uD(b);this.H=!0};var VD=function(a,b){this.h=a[v.Symbol.iterator]();this.j=b};VD.prototype[Symbol.iterator]=function(){return this};VD.prototype.next=function(){var a=this.h.next();return{value:a.done?void 0:this.j.call(void 0,a.value),done:a.done}};var WD=function(a,b){return new VD(a,b)};var $D=function(a){if(a instanceof XD||a instanceof YD||a instanceof ZD)return a;if("function"==typeof a.next)return new XD(function(){return a});if("function"==typeof a[Symbol.iterator])return new XD(function(){return a[Symbol.iterator]()});if("function"==typeof a.sb)return new XD(function(){return a.sb()});throw Error("Not an iterator or iterable.");},XD=function(a){this.h=a};XD.prototype.sb=function(){return new YD(this.h())};XD.prototype[Symbol.iterator]=function(){return new ZD(this.h())};
XD.prototype.j=function(){return new ZD(this.h())};var YD=function(a){this.h=a};t(YD,Jp);YD.prototype.next=function(){return this.h.next()};YD.prototype[Symbol.iterator]=function(){return new ZD(this.h)};YD.prototype.j=function(){return new ZD(this.h)};var ZD=function(a){XD.call(this,function(){return a});this.l=a};t(ZD,XD);ZD.prototype.next=function(){return this.l.next()};var aE=function(a,b){this.j={};this.h=[];this.l=this.size=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else if(a)if(a instanceof aE)for(c=a.rc(),d=0;d<c.length;d++)this.set(c[d],a.get(c[d]));else for(d in a)this.set(d,a[d])};aE.prototype.zb=function(){bE(this);for(var a=[],b=0;b<this.h.length;b++)a.push(this.j[this.h[b]]);return a};aE.prototype.rc=function(){bE(this);return this.h.concat()};
aE.prototype.has=function(a){return cE(this.j,a)};aE.prototype.wb=function(a,b){if(this===a)return!0;if(this.size!=a.size)return!1;b=b||dE;bE(this);for(var c,d=0;c=this.h[d];d++)if(!b(this.get(c),a.get(c)))return!1;return!0};var dE=function(a,b){return a===b};aE.prototype.isEmpty=function(){return 0==this.size};aE.prototype.clear=function(){this.j={};this.l=this.size=this.h.length=0};
aE.prototype.remove=function(a){cE(this.j,a)?(delete this.j[a],--this.size,this.l++,this.h.length>2*this.size&&bE(this),a=!0):a=!1;return a};var bE=function(a){if(a.size!=a.h.length){for(var b=0,c=0;b<a.h.length;){var d=a.h[b];cE(a.j,d)&&(a.h[c++]=d);b++}a.h.length=c}if(a.size!=a.h.length){var e={};for(c=b=0;b<a.h.length;)d=a.h[b],cE(e,d)||(a.h[c++]=d,e[d]=1),b++;a.h.length=c}};l=aE.prototype;l.get=function(a,b){return cE(this.j,a)?this.j[a]:b};
l.set=function(a,b){cE(this.j,a)||(this.size+=1,this.h.push(a),this.l++);this.j[a]=b};l.forEach=function(a,b){for(var c=this.rc(),d=0;d<c.length;d++){var e=c[d],f=this.get(e);a.call(b,f,e,this)}};l.keys=function(){return $D(this.sb(!0)).j()};l.values=function(){return $D(this.sb(!1)).j()};l.entries=function(){var a=this;return WD(this.keys(),function(b){return[b,a.get(b)]})};
l.sb=function(a){bE(this);var b=0,c=this.l,d=this,e=new Jp;e.next=function(){if(c!=d.l)throw Error("The map has changed since the iterator was created");if(b>=d.h.length)return Kp;var f=d.h[b++];return{value:a?f:d.j[f],done:!1}};return e};var cE=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};var fE=function(){O.call(this);this.buffered=new eE;this.seekable=new eE;this.j=new Cv(this);We(this,this.j);this.src=this.l="";this.A=!1;this.h=null;var a=Gz(Hz);if(a){a:{if(Cf(a.h,"videoElementFakeDuration")&&(a=a.h.videoElementFakeDuration,"number"===typeof a))break a;a=NaN}this.duration=a}};t(fE,O);
var gE=function(){var a=["video/mp4"],b=["video/ogg"],c=new fE;c.canPlayType=function(d){return a.includes(d)?"probably":b.includes(d)?"maybe":""};c.width=0;c.height=0;c.offsetWidth=0;c.offsetHeight=0;return c};l=fE.prototype;l.pause=function(){this.paused||(null.stop(),this.paused=!0,this.dispatchEvent("timeupdate"),this.dispatchEvent("pause"))};
l.load=function(){this.readyState=0;this.paused=!0;this.seeking=!1;this.dispatchEvent("loadstart");var a;isNaN(this.duration)?a=10+20*Math.random():a=this.duration;this.setProperty("duration",a);a=this.seekable;a.h.push(new hE(this.duration));a.length=a.h.length;a=this.buffered;a.h.push(new hE(this.duration));a.length=a.h.length;this.dispatchEvent("loadedmetadata");0<this.currentTime&&this.dispatchEvent("timeupdate");this.dispatchEvent("loadeddata");this.dispatchEvent("canplay");this.dispatchEvent("canplaythrough");
this.dispatchEvent("progress");this.playbackRate=this.defaultPlaybackRate};
l.setProperty=function(a,b){switch(a){case "currentTime":a=Number(b);this.seeking=!0;this.dispatchEvent("seeking");this.seeking=!1;this.currentTime=a;this.dispatchEvent("seeked");a=Xa()-this.gd;b=this.currentTime+a/1E3;this.gd+=a;2<this.readyState&&(this.currentTime=Math.min(b,this.duration));this.dispatchEvent("timeupdate");this.currentTime==this.duration&&(this.ended=this.paused=!0,null.stop(),this.dispatchEvent("ended"));break;case "duration":this.duration=Number(b);this.dispatchEvent("durationchange");
break;case "volume":this.volume=Number(b);this.dispatchEvent("volumechange");break;default:throw"Property setter not implemented";}};l.setAttribute=function(a,b){null!=a&&iE.set(a,b)};l.getAttribute=function(a){return iE.get(a)};l.Ie=function(a){var b=null,c=null;switch(a.type){case "loadeddata":b="Loaded";break;case "playing":b="Playing";c="#00f";break;case "pause":b="Paused";break;case "ended":b="Ended",c="#000"}b&&this.Kc&&(this.Kc.innerText=b);c&&this.Lb&&(this.Lb.style.backgroundColor=c)};
var iE=new aE,hE=function(a){this.startTime=0;this.endTime=a},eE=function(){this.length=0;this.h=[]};eE.prototype.start=function(a){return this.h[a].startTime};eE.prototype.end=function(a){return this.h[a].endTime};l=fE.prototype;l.readyState=0;l.seeking=!1;l.currentTime=0;l.initialTime=void 0;l.duration=NaN;l.paused=!0;l.ended=!1;l.volume=1;l.muted=!1;
Object.defineProperty(fE.prototype,"src",{get:function(){return fE.prototype.l},set:function(a){var b=fE.prototype;b.A&&null!=b.h?(b.h.reject(),b.h=null):b.l=a}});l=fE.prototype;l.currentSrc="";l.defaultPlaybackRate=1;l.playbackRate=0;l.gd=0;l.Lb=null;l.Kc=null;var lE=function(a,b){E.call(this);this.o=a;this.l=this.h=null;this.j=jE();kE(this,b);qy(function(){M(L.h(),"haob","1")})};t(lE,E);lE.prototype.initialize=function(){this.j&&this.j.load()};lE.prototype.N=function(){Fg(this.h);E.prototype.N.call(this)};
var kE=function(a,b){a.h=Eg("DIV",{style:"display:none;"});a.o.appendChild(a.h);a.h.appendChild(a.j);b&&(a.l=Eg("DIV",{style:"position:absolute;width:100%;height:100%;left:0px;top:0px"}),a.h.appendChild(a.l))},jE=function(){var a=Gz(Hz);if(Dz(a,"useVideoElementFake")){a=gE();var b=Eg("DIV",{style:"position:absolute;width:100%;height:100%;top:0px;left:0px;"});Object.assign(b,a);a.Lb=Eg("DIV",{style:"position:absolute;width:100%;height:100%;top:0px;left:0px;background-color:#000"});a.Kc=Eg("P",{style:"position:absolute;top:25%;margin-left:10px;font-size:24px;color:#fff;"});
a.Lb.appendChild(a.Kc);b.appendChild(a.Lb);a.j.P(a,["loadeddata","playing","pause","ended"],a.Ie);a=b}else{a=!1;try{-1!=window.location.search.indexOf("goog_limavideo=true")&&(a=!0)}catch(c){}v.customElements?a?b=!0:(Ai(Jj)&&WB.h().report(153,{limvid:"vw"}),b=Ai(Dj)||Ai(Jj)||Ai(Bj)||Ai(Cj)?!0:!1):b=!1;if(b){a&&console.log("force lima video in wrapper");a=null;try{a=new Dy}catch(c){a=Eg("lima-video"),Ai(Jj)&&WB.h().report(153,{limvid:"firefail"})}a.style.backgroundColor="#000";a.style.height="100%";
a.style.width="100%";a.style.position="absolute";a.style.left="0";a.style.top="0"}else a=Eg("VIDEO",{style:"background-color:#000;position:absolute;width:100%;height:100%;left:0;top:0;",title:ez("Advertisement").toString()})}a.setAttribute("webkit-playsinline",!0);a.setAttribute("playsinline",!0);return a},yD=function(a,b){null!=a&&(a.style.display=b?"block":"none")};var oE=function(a,b,c){var d=a&&a.getRootNode?a.getRootNode({composed:!0}):a;if(null==a||!Hg(ug(d),d))throw $z(Zz,null,"containerElement","element");this.C=b;this.aa=MB(this.C||null);this.Z=hv(this.C||null);this.X=String(Math.floor(1E9*Math.random()));this.M=!1;this.H=a;this.V=null!=b;Hz.h=2;this.G=mE(b?b:null);d=Eg("DIV",{style:"position:absolute"});a.insertBefore(d,a.firstChild);this.A=d;this.j=null;nE(this)&&b?a=new jD(b):(this.j=new lE(this.A,!0),a=new jD(this.j.j));this.h=a;this.l=this.o=null;
if(a=this.j&&Hz.j)a=!(nE(this)||fc||hc||to()||ec&&(!ec||!ev(dv,4)));a&&(this.o=new lE(this.A,!0),this.l=new jD(this.o.j));this.I=c||null;this.U=null!=this.I;nE(this)&&b?"function"!==typeof b.getBoundingClientRect?(c=this.A,Hz.o=c):c=b:c=this.A;this.F=c;this.K=new SD(this.A,this);this.O=new G(0,0);this.J="";b&&(b=tu(b.src||b.currentSrc),200>b.toString().length?this.J=b.toString():200>b.j.length&&(this.J=b.j));this.L=new Map;this.L.set("videoDisplay1",this.h);this.l&&this.L.set("videoDisplay2",this.l)};
oE.prototype.initialize=function(){this.M=!0;null!=this.j&&this.j.initialize();null!=this.o&&this.o.initialize()};oE.prototype.B=function(){return this.M};oE.prototype.destroy=function(){var a=this;this.C=null;Ue(this.j);Ue(this.o);Ue(this.K);this.h.ac(function(){return Ue(a.h)});null!=this.l&&this.l.ac(function(){return Ue(a.l)});Fg(this.A)};var UD=function(a){return a.U&&a.I?a.I:null!=a.j?a.j.l:null},nE=function(a){return LB(a.G)&&a.V};oE.prototype.yb=function(){return this.O};
var mE=function(a){return null!=a&&"function"===typeof a.getAttribute&&null!=a.getAttribute("playsinline")?!0:!1};oE.prototype.destroy=oE.prototype.destroy;oE.prototype.initialize=oE.prototype.initialize;var pE=function(a){var b=Error.call(this);this.message=b.message;"stack"in b&&(this.stack=b.stack);this.h=a};t(pE,Error);l=pE.prototype;l.getInnerError=function(){var a=this.h.innerError;return a instanceof Object?new pE(a):null!=a?Error(a):null};l.getMessage=function(){return this.h.errorMessage};l.getErrorCode=function(){return this.h.errorCode};l.getVastErrorCode=function(){var a=this.getErrorCode();return 1E3>a?a:900};l.getType=function(){return this.h.type};
l.toString=function(){return"AdError "+this.getErrorCode()+": "+this.getMessage()+(null!=this.getInnerError()?" Caused by: "+this.getInnerError():"")};pE.prototype.getType=pE.prototype.getType;pE.prototype.getVastErrorCode=pE.prototype.getVastErrorCode;pE.prototype.getErrorCode=pE.prototype.getErrorCode;pE.prototype.getMessage=pE.prototype.getMessage;pE.prototype.getInnerError=pE.prototype.getInnerError;var qE={AD_LOAD:"adLoadError",AD_PLAY:"adPlayError"};
w("module$contents$ima$AdError_AdError.Type",qE);var rE=function(a,b){b=void 0===b?null:b;mk.call(this,"adError");this.h=a;this.l=b};t(rE,mk);rE.prototype.getError=function(){return this.h};rE.prototype.getUserRequestContext=function(){return this.l};rE.prototype.getUserRequestContext=rE.prototype.getUserRequestContext;rE.prototype.getError=rE.prototype.getError;var sE={AD_ERROR:"adError"};w("module$contents$ima$AdErrorEvent_AdErrorEvent.Type",sE);var tE=function(a,b,c){b=void 0===b?null:b;c=void 0===c?null:c;mk.call(this,a);this.h=b;this.o=c};t(tE,mk);tE.prototype.getAd=function(){return this.h};tE.prototype.getAdData=function(){return this.o};tE.prototype.getAdData=tE.prototype.getAdData;tE.prototype.getAd=tE.prototype.getAd;
var uE={AD_CAN_PLAY:"adCanPlay",qg:"adStarted",CONTENT_PAUSE_REQUESTED:"contentPauseRequested",CONTENT_RESUME_REQUESTED:"contentResumeRequested",CLICK:"click",VIDEO_CLICKED:"videoClicked",VIDEO_ICON_CLICKED:"videoIconClicked",Fd:"engagedView",EXPANDED_CHANGED:"expandedChanged",STARTED:"start",AD_PROGRESS:"adProgress",AD_BUFFERING:"adBuffering",IMPRESSION:"impression",Kd:"measurable_impression",VIEWABLE_IMPRESSION:"viewable_impression",Gd:"fully_viewable_audible_half_duration_impression",Me:"overlay_resize",
Ne:"overlay_unmeasurable_impression",Oe:"overlay_unviewable_impression",Qe:"overlay_viewable_immediate_impression",Pe:"overlay_viewable_end_of_session_impression",Jg:"externalActivityEvent",PAUSED:"pause",RESUMED:"resume",FIRST_QUARTILE:"firstQuartile",MIDPOINT:"midpoint",THIRD_QUARTILE:"thirdQuartile",COMPLETE:"complete",DURATION_CHANGE:"durationChange",USER_CLOSE:"userClose",Yh:"userRecall",Dh:"prefetched",LOADED:"loaded",ALL_ADS_COMPLETED:"allAdsCompleted",SKIPPED:"skip",Ue:"skipShown",LINEAR_CHANGED:"linearChanged",
SKIPPABLE_STATE_CHANGED:"skippableStateChanged",AD_METADATA:"adMetadata",pg:"adBreakFetchError",AD_BREAK_READY:"adBreakReady",LOG:"log",VOLUME_CHANGED:"volumeChange",VOLUME_MUTED:"mute",INTERACTION:"interaction",xg:"companionBackfill",Vh:"trackingUrlPinged",Zh:"video_card_endcap_collapse",ai:"video_card_endcap_dismiss",bi:"video_card_endcap_impression",Ag:"companionInitialized",zg:"companionImpression",yg:"companionClick",sh:"mediaUrlPinged",Je:"loadStart",uh:"navigationRequested"};
w("module$contents$ima$AdEvent_AdEvent.Type",uE);var vE=function(a,b){b=void 0===b?null:b;tE.call(this,"adMetadata",a);this.l=b};t(vE,tE);vE.prototype.nf=function(){return this.l};vE.prototype.getAdCuePoints=vE.prototype.nf;var wE=function(a){this.adBreakDuration=a.adBreakDuration;this.adPosition=a.adPosition;this.currentTime=a.currentTime;this.duration=a.duration;this.totalAds=a.totalAds};var xE=function(a,b){O.call(this);this.l=a;this.B=b;this.j=this.l.currentTime;this.h=new ql(250);We(this,this.h);this.A=new Cv(this);We(this,this.A);Ev(this.A,this.h,"tick",this.C,!1,this)};t(xE,O);xE.prototype.jb=function(){return this.j};xE.prototype.start=function(){yE(this);this.h.start()};xE.prototype.stop=function(){this.h.stop()};xE.prototype.C=function(){var a=this.l.currentTime;a!==this.jb()&&(this.j=a,yE(this))};
var yE=function(a){var b={};b.currentTime=a.jb();pz(a.B,"contentTimeUpdate","contentTimeUpdate",b)};var zE={rgb:!0,rgba:!0,alpha:!0,rect:!0,image:!0,"linear-gradient":!0,"radial-gradient":!0,"repeating-linear-gradient":!0,"repeating-radial-gradient":!0,"cubic-bezier":!0,matrix:!0,perspective:!0,rotate:!0,rotate3d:!0,rotatex:!0,rotatey:!0,steps:!0,rotatez:!0,scale:!0,scale3d:!0,scalex:!0,scaley:!0,scalez:!0,skew:!0,skewx:!0,skewy:!0,translate:!0,translate3d:!0,translatex:!0,translatey:!0,translatez:!0},AE=function(a){a=ib(a);if(""==a)return null;var b=String(a.slice(0,4)).toLowerCase();if(0==("url("<
b?-1:"url("==b?0:1))return null;if(0<a.indexOf("(")){if(/"|'/.test(a))return null;b=/([\-\w]+)\(/g;for(var c;c=b.exec(a);)if(!(c[1].toLowerCase()in zE))return null}return a};function BE(a,b){a=v[a];return a&&a.prototype?(b=Object.getOwnPropertyDescriptor(a.prototype,b))&&b.get||null:null}function CE(a){var b=v.CSSStyleDeclaration;return b&&b.prototype&&b.prototype[a]||null}BE("Element","attributes")||BE("Node","attributes");BE("Element","innerHTML")||BE("HTMLElement","innerHTML");BE("Node","nodeName");BE("Node","nodeType");BE("Node","parentNode");BE("Node","childNodes");BE("HTMLElement","style")||BE("Element","style");BE("HTMLStyleElement","sheet");
var DE=CE("getPropertyValue"),EE=CE("setProperty");BE("Element","namespaceURI")||BE("Node","namespaceURI");function FE(a,b,c,d){if(a)return a.apply(b,d);if(Zb&&10>document.documentMode){if(!b[c].call)throw Error("IE Clobbering detected");}else if("function"!=typeof b[c])throw Error("Clobbering detected");return b[c].apply(b,d)};var GE={"-webkit-border-horizontal-spacing":!0,"-webkit-border-vertical-spacing":!0},IE=function(a){if(!a)return cg;var b=document.createElement("div").style;HE(a).forEach(function(c){var d=bc&&c in GE?c:c.replace(/^-(?:apple|css|epub|khtml|moz|mso?|o|rim|wap|webkit|xv)-(?=[a-z])/i,"");0!=d.lastIndexOf("--",0)&&0!=d.lastIndexOf("var",0)&&(c=FE(DE,a,a.getPropertyValue?"getPropertyValue":"getAttribute",[c])||"",c=AE(c),null!=c&&FE(EE,b,b.setProperty?"setProperty":"setAttribute",[d,c]))});return new bg(b.cssText||
"",ag)},HE=function(a){Na(a)?a=Pb(a):(a=Af(a),Lb(a,"cssText"));return a};var JE=function(a,b,c){O.call(this);this.j=a;this.h=null;this.H="";this.J=cg;this.L=0;this.C=this.l=null;this.A=b;this.B=null;this.F="";this.G=c};t(JE,O);
JE.prototype.init=function(a){this.F=a;a="about:blank";Zb&&(a="");this.l=Eg("IFRAME",{src:a,allowtransparency:!0,background:"transparent"});Fl(this.l,{display:"none",width:"0",height:"0"});a=this.j.H;a.appendChild(this.l);a=a.ownerDocument;a=a.defaultView||a.parentWindow;null==this.B&&(this.B=new Cv(this));this.B.P(a,"message",this.M);a='<body><script src="//imasdk.googleapis.com/js/sdkloader/loader.js">\x3c/script><script>loader = new VPAIDLoader(false, "'+(this.F+'");\x3c/script></body>');if(vc||
tc||$b){var b=this.l.contentWindow;b&&FC(b.document,a)}else GC(this.l,a)};
JE.prototype.M=function(a){try{var b=a.h.data;try{var c=JSON.parse(b)}catch(da){return}var d=c.session;if(null!=d&&this.F==d)switch(c.type){case "friendlyReady":var e=KE(this);if(null!=e){this.h=e;this.H=e.currentSrc;var f=e.style.cssText;if(Zb&&10>document.documentMode)var g=cg;else{var h=document;"function"===typeof HTMLTemplateElement&&(h=Cg(document,"TEMPLATE").content.ownerDocument);var k=h.implementation.createHTMLDocument("").createElement("DIV");k.style.cssText=f;g=IE(k.style)}this.J=g;this.L=
e.currentTime}else{var n=this.j.H,m=this.j.yb();var x="border: 0; margin: 0; padding: 0; position: absolute; width:"+(m.width+"px; ");x+="height:"+m.height+"px;";this.h=Eg("VIDEO",{style:x,autoplay:!0});n.appendChild(this.h)}var u=this.j.H;e="border: 0; margin: 0; padding: 0;position: absolute; ";var y=Ol(this.h);e+="width:"+y.width+"px; ";e+="height:"+y.height+"px;";this.C=Eg("DIV",{style:e});u.appendChild(this.C);try{this.l.contentWindow.loader.initFriendly(this.h,this.C)}catch(da){LE(this)}pz(this.A,
"vpaid","",b);break;case "becameLinear":this.h&&!Lg()&&!Kg()&&Fl(this.h,{visibility:"visible"});pz(this.A,"vpaid","",b);break;case "becameNonlinear":ME(this);pz(this.A,"vpaid","",b);break;case "startAd":u={};if(this.h){h=this.h.paused;var A=0<this.h.currentTime;u.apl=A&&!h?"1":"0";u.ip=h?"1":"0";u.iavp=A?"1":"0"}else u.apl="n";WB.h().report(99,u);pz(this.A,"vpaid","",b);if(null!=KE(this)){var F=this.j;null!=F.j&&yD(F.j.h,!0)}break;default:pz(this.A,"vpaid","",b)}}catch(da){LE(this)}};
var LE=function(a){var b={type:"error"};b.session=a.F;a=JSON.stringify(b);window.postMessage(a,"*")},KE=function(a){return("videoDisplayUnknown"==a.G?a.j.h:a.j.L.get(a.G)).B.h},ME=function(a){a.h&&!Lg()&&!Kg()&&Fl(a.h,{visibility:"hidden"})};
JE.prototype.N=function(){E.prototype.N.call(this);Ue(this.B);this.B=null;Fg(this.C);this.C=null;Fg(this.l);this.l=null;var a=KE(this);if(null!=a){var b=this.J;a.style.cssText=b instanceof bg&&b.constructor===bg?b.h:"type_error:SafeStyle";Lg()||Kg()?(a.src=this.H,a.currentTime=this.L):(a.removeAttribute("src"),a=this.j,null!=a.j&&yD(a.j.h,!1))}else Fg(this.h),this.h=null};var NE=function(a,b){E.call(this);this.j=a;this.l=b;this.h=new Map};t(NE,E);var OE=function(a,b){try{var c=b.ra,d=c.session;switch(c.vpaidEventType){case "createFriendlyIframe":b="videoDisplayUnknown";c.videoDisplayName&&(b=c.videoDisplayName);var e=c.session,f=new JE(a.j,a.l,b);a.h.set(e,f);f.init(e);break;case "vpaidNonLinear":var g=a.h.get(d);g&&ME(g);break;case "destroyFriendlyIframe":var h=a.h.get(d);h&&(h.W(),a.h.delete(d))}}catch(k){WB.h().report(125,{msg:k.message})}};NE.prototype.N=function(){this.h.forEach(function(a){return a.W()})};var PE=function(a){this.h=a||{cookie:""}};l=PE.prototype;
l.set=function(a,b,c){var d=!1;if("object"===typeof c){var e=c.zi;d=c.Wf||!1;var f=c.domain||void 0;var g=c.path||void 0;var h=c.ge}if(/[;=\s]/.test(a))throw Error('Invalid cookie name "'+a+'"');if(/[;\r\n]/.test(b))throw Error('Invalid cookie value "'+b+'"');void 0===h&&(h=-1);this.h.cookie=a+"="+b+(f?";domain="+f:"")+(g?";path="+g:"")+(0>h?"":0==h?";expires="+(new Date(1970,1,1)).toUTCString():";expires="+(new Date(Date.now()+1E3*h)).toUTCString())+(d?";secure":"")+(null!=e?";samesite="+e:"")};
l.get=function(a,b){for(var c=a+"=",d=(this.h.cookie||"").split(";"),e=0,f;e<d.length;e++){f=ib(d[e]);if(0==f.lastIndexOf(c,0))return f.slice(c.length);if(f==a)return""}return b};l.remove=function(a,b,c){var d=void 0!==this.get(a);this.set(a,"",{ge:0,path:b,domain:c});return d};l.rc=function(){return QE(this).keys};l.zb=function(){return QE(this).values};l.isEmpty=function(){return!this.h.cookie};l.clear=function(){for(var a=QE(this).keys,b=a.length-1;0<=b;b--)this.remove(a[b])};
var QE=function(a){a=(a.h.cookie||"").split(";");for(var b=[],c=[],d,e,f=0;f<a.length;f++)e=ib(a[f]),d=e.indexOf("="),-1==d?(b.push(""),c.push(e)):(b.push(e.substring(0,d)),c.push(e.substring(d+1)));return{keys:b,values:c}};function RE(a){return"null"!==a.origin}function SE(a,b,c){b=fd(b,5)&&RE(c)?c.document.cookie:null;return null===b?null:(new PE({cookie:b})).get(a)||""};var TE=function(){this.h=window;this.j=0},UE=function(a,b,c,d){if(d){var e={ge:B(c,2)-Date.now()/1E3,path:B(c,3),domain:B(c,4),Wf:!1};a=a.h;fd(d,5)&&RE(a)&&(new PE(a.document)).set(b,B(c,1),e)}},VE=function(a,b,c){if(c&&SE(b,c,a.h)){var d=a.h.location.hostname;if("localhost"===d)d=["localhost"];else if(d=d.split("."),2>d.length)d=[];else{for(var e=[],f=0;f<d.length-1;++f)e.push(d.slice(f).join("."));d=e}d=r(d);for(e=d.next();!e.done;e=d.next())f=a.h,fd(c,5)&&RE(f)&&(new PE(f.document)).remove(b,"/",
e.value)}};var WE=function(){this.h=[];this.j=[]};WE.prototype.isEmpty=function(){return 0===this.h.length&&0===this.j.length};WE.prototype.clear=function(){this.h=[];this.j=[]};WE.prototype.remove=function(a){var b=this.h;b:{var c=b.length-1;0>c&&(c=Math.max(0,b.length+c));if("string"===typeof b)c="string"!==typeof a||1!=a.length?-1:b.lastIndexOf(a,c);else{for(;0<=c;c--)if(c in b&&b[c]===a)break b;c=-1}}0<=c?(Mb(b,c),b=!0):b=!1;return b||Lb(this.j,a)};
WE.prototype.zb=function(){for(var a=[],b=this.h.length-1;0<=b;--b)a.push(this.h[b]);var c=this.j.length;for(b=0;b<c;++b)a.push(this.j[b]);return a};var Z=function(a,b,c,d,e,f,g,h){O.call(this);var k=this;this.H=a;this.h=b;this.L=c;this.tb=e;this.A=new RC;this.F=g;this.rb=h;this.M=!1;this.U=1;this.ub=d;this.ca=-1;this.l=this.j=null;this.B=new xE({currentTime:0},this.F);this.G=new WE;this.na=this.X=!1;this.Z=new Map;this.aa=this.ua=!1;this.Ka=new NE(b,g);We(this,this.Ka);this.J=f&&null!=this.h.I;this.O=function(){var n=k.h.h,m=n.getCurrentTime();n=n.getDuration();return{currentTime:m,duration:n,isPlaying:!0,volume:k.U}};this.V=new Cv(this);this.V.P(this.F,
"adsManager",this.lc)};t(Z,O);
Z.prototype.lc=function(a){var b=this,c=a.messageType,d=a.ra;switch(c){case "error":XE(this);YE(this,d);break;case "contentPauseRequested":WB.h().report(130);ZE(this);this.B.stop();$E(this,c,d);break;case "contentResumeRequested":aF(this,function(){return $E(b,c,d)});break;case "remainingTime":this.ca=d.remainingTime;break;case "skip":$E(this,c,d);break;case "log":$E(this,c,d,d.logData);break;case "companionBackfill":a=Ma("window.google_show_companion_ad");null!=a&&a();break;case "skipShown":this.M=
!0;$E(this,c,d);break;case "interaction":$E(this,c,d,d.interactionData);break;case "vpaidEvent":OE(this.Ka,a);break;case "skippableStateChanged":a=d.adData;null!=a.skippable&&(this.M=a.skippable);$E(this,c,d);break;case "volumeChange":a=d.adData;null!=a&&"number"===typeof a.volume&&(this.U=a.volume);$E(this,c,d);break;case "firstQuartile":$E(this,oB.firstQuartile,d);$E(this,c,d);break;case "thirdQuartile":$E(this,oB.thirdQuartile,d);$E(this,c,d);break;case "updateGfpCookie":bF(this,d);break;default:$E(this,
c,d)}};
var $E=function(a,b,c,d){if(null==c.companions){var e=a.Z.get(c.adId);c.companions=null!=e?e:[]}var f=c.adData;if(e=null==f?null:new Y(f))a.j=e;switch(b){case "adBreakReady":case "mediaUrlPinged":b=new tE(b,null,c);break;case "adMetadata":b=null;null!=c.adCuePoints&&(b=new QC(c.adCuePoints));b=new vE(e,b);break;case "allAdsCompleted":a.j=null;a.ua=!0;b=new tE(b,e);break;case "contentPauseRequested":a.aa=!1;b=new tE(b,e);break;case "contentResumeRequested":a.j=null;a.aa=!0;b=new tE(b,e);break;case "loaded":a.ca=
e.getDuration();a.M=!1;NB()&&(d=a.H,c=a.tb,d.j.set(PC(e),a.O),aD(d)&&$C(d,"loaded",PC(e),c));b=new tE(b,e,f);break;case "start":a.Z.set(c.adId,c.companions);null!=UD(a.h)&&(null==a.l?(a.l=new cC,a.V.P(a.l,"click",a.Nf)):gC(a.l),eC(a.l,UD(a.h)));b=new tE(b,e);break;case "complete":null!=a.l&&gC(a.l);NB()&&cD(a.H,a.O,PC(e));a.j=null;a.Z.delete(c.adId);b=new tE(b,e);break;case "log":c=null;null!=d&&null!=d.type?(f=d.type,f="adLoadError"==f||"adPlayError"==f):f=!1;f&&(c={adError:new pE(d)});b=new tE(b,
e,c);break;case "interaction":b=new tE(b,e,d);break;case "adProgress":b=new tE(b,e,new wE(c));break;default:b=new tE(b,e)}a.dispatchEvent(b);a.ua&&a.aa&&a.destroy()},YE=function(a,b){var c=new rE(new pE(b));a.X?(a.dispatchEvent(c),NB()&&a.j&&cD(a.H,a.O,PC(a.j)),a.j=null):a.G.j.push(c);a={error:b.errorCode,vis:Kh(document)};WB.h().report(7,a)},cF=function(a,b,c){pz(a.F,"adsManager",b,c)},aF=function(a,b){WB.h().report(131);XE(a,b);a.B.start()},ZE=function(a){var b=a.h.h;nE(a.h)&&a.A.restoreCustomPlaybackStateOnAdBreakComplete&&
null!=b.Jd&&b.Jd()},XE=function(a,b){var c=a.h.h;nE(a.h)&&a.A.restoreCustomPlaybackStateOnAdBreakComplete&&null!=c.ac?c.ac(b):b&&b()};l=Z.prototype;l.configureAdsManager=function(a,b){this.C=a;null!=a.currentTime&&(this.B=new xE(a,this.F),this.B.start());null!=b&&(this.A=dF(b))};
l.init=function(a,b,c,d){if(this.G.isEmpty()){var e=this.h,f=null;e.C&&null==d&&(f={vd:"setnull"});e.C&&e.C===d&&(f={vd:"match"});if(e.C&&e.C!==d){f=MB(d||null);var g=hv(d||null);f={vd:"diff",oc:e.aa,nc:f,oi:e.Z,ni:g}}!e.C&&d&&(f={vd:"new"});f&&(f.custVid=e.X,WB.h().report(93,f));null!=d&&(e.G=mE(d),LB(e.G)&&(e.V=!0,Ue(e.j),Ue(e.o),Ue(e.l),e.j=null,e.o=null,e.l=null,Ue(e.h),e.h=new jD(d),"function"!==typeof d.getBoundingClientRect?(e.F=e.A,Hz.o=e.F):e.F=d,null!=(d=e.K.F)&&(e=e.h.B.h,d.l=e,d.h&&(d=
d.h,d.h=e,KC(d,e)))));this.X=!0;this.resize(a,b,c);e=SC(this.A,this.J);cF(this,"init",{adsRenderingSettings:e,width:a,height:b,viewMode:c})}else{for(;!this.G.isEmpty();)b=a=this.G,0===b.h.length&&(b.h=b.j,b.h.reverse(),b.j=[]),a=a.h.pop(),this.dispatchEvent(a);this.W()}};l.isCustomPlaybackUsed=function(){return nE(this.h)};l.isCustomClickTrackingUsed=function(){return this.J};l.getRemainingTime=function(){return this.ca};l.getAdSkippableState=function(){return this.M};
l.discardAdBreak=function(){cF(this,"discardAdBreak")};l.updateAdsRenderingSettings=function(a){if(null!=a){a=dF(a);var b=this.A.bitrate,c=a.bitrate;WB.h().report(96,{init:this.X?"1":"0",start:this.na?"1":"0",old:b,"new":c,changed:b!=c?"1":"0"});this.A=a;a=SC(this.A,this.J);cF(this,"updateAdsRenderingSettings",{adsRenderingSettings:a})}};l.skip=function(){cF(this,"skip")};
l.start=function(){if(this.L){(fc||hc)&&WB.h().report(50,{customPlayback:nE(this.h)});this.h.B()||WB.h().report(26,{adtagurl:this.L,customPlayback:nE(this.h)});no(this.h.A)&&WB.h().report(30,{adtagurl:this.L,customPlayback:nE(this.h)});var a=this.h.I,b=this.h.A,c;if(c=a&&b&&!no(a))a=YC(a),b=YC(b),c=0<a.width&&0<a.height&&0<b.width&&0<b.height&&a.left<=b.left+b.width&&b.left<=a.left+a.width&&a.top<=b.top+b.height&&b.top<=a.top+a.height;c&&WB.h().report(31,{adtagurl:this.L,customPlayback:nE(this.h)})}if(!this.h.B()&&
!nE(this.h))throw $z(Yz);b=this.h;b.U=this.J&&null!=b.I;this.h.K.h.style.opacity=1;null!=this.C&&1==this.getVolume()&&("boolean"===typeof this.C.muted&&this.C.muted?this.setVolume(0):"number"===typeof this.C.volume&&(b=this.C.volume,0<=b&&1>=b&&this.setVolume(this.C.volume)));this.na=!0;cF(this,"start")};l.Nf=function(){if(!this.A.disableClickThrough&&null!=this.j){var a=this.j.h.clickThroughUrl;null!=a&&bv(a,this.j.h.attributionParams)}};
l.resize=function(a,b,c){var d=this.h,e=d.A;null!=e&&(-1==a?(e.style.right="0",e.style.left="0"):e.style.width=a+"px",-1==b?(e.style.bottom="0",e.style.top="0"):e.style.height=b+"px");e=d.K;e.h.width=-1==a?"100%":a;e.h.height=-1==b?"100%":b;try{e.h.offsetTop=e.h.offsetTop}catch(f){}d.O=new G(a,b);cF(this,"resize",{width:a,height:b,viewMode:c})};l.stop=function(){cF(this,"stop")};l.expand=function(){cF(this,"expand")};l.collapse=function(){cF(this,"collapse")};l.getVolume=function(){return this.U};
l.setVolume=function(a){this.U=a;this.h.h.setVolume(a);cF(this,"volume",{volume:a})};l.pause=function(){cF(this,"pause")};l.resume=function(){cF(this,"resume")};l.destroy=function(){this.W()};l.getCuePoints=function(){return this.ub};l.qf=function(){return this.j};l.N=function(){cF(this,"destroy");null!=this.l&&this.l.W();this.V.W();this.G.clear();this.B&&(this.B.stop(),this.B.W());NB()&&cD(this.H,this.O);O.prototype.N.call(this)};
l.ff=function(){WB.h().report(124,{api:"clicked"});var a=this.j&&this.j.h.clickThroughUrl;a&&this.j.fe()&&bv(a,this.j.h.attributionParams);cF(this,"click")};l.focus=function(){pz(this.F,"userInteraction","focusUiElement")};
var bF=function(a,b){var c=b.gfpCookieUserEnabled;b=b.gfpCookieClearData;var d=new rm;d=C(d,1,c?"0":"1");d=C(d,2,2147483647);d=C(d,3,"/");d=C(d,4,window.location.hostname);var e=new TE,f,g;a=null!=(g=null==(f=a.rb)?void 0:Wz(f))?g:null;UE(e,"__gpi_opt_out",d,a);if(!c||b)VE(e,"__gads",a),VE(e,"__gpi",a)};Z.prototype.clicked=Z.prototype.ff;Z.prototype.getCurrentAd=Z.prototype.qf;Z.prototype.getCuePoints=Z.prototype.getCuePoints;Z.prototype.destroy=Z.prototype.destroy;Z.prototype.resume=Z.prototype.resume;
Z.prototype.pause=Z.prototype.pause;Z.prototype.setVolume=Z.prototype.setVolume;Z.prototype.getVolume=Z.prototype.getVolume;Z.prototype.collapse=Z.prototype.collapse;Z.prototype.expand=Z.prototype.expand;Z.prototype.stop=Z.prototype.stop;Z.prototype.resize=Z.prototype.resize;Z.prototype.start=Z.prototype.start;Z.prototype.skip=Z.prototype.skip;Z.prototype.updateAdsRenderingSettings=Z.prototype.updateAdsRenderingSettings;Z.prototype.discardAdBreak=Z.prototype.discardAdBreak;
Z.prototype.getAdSkippableState=Z.prototype.getAdSkippableState;Z.prototype.getRemainingTime=Z.prototype.getRemainingTime;Z.prototype.isCustomClickTrackingUsed=Z.prototype.isCustomClickTrackingUsed;Z.prototype.isCustomPlaybackUsed=Z.prototype.isCustomPlaybackUsed;Z.prototype.init=Z.prototype.init;function dF(a){if(a instanceof RC)return a;var b=new RC;b.append(a);return b};var eF=function(a,b){mk.call(this,"adsManagerLoaded");this.h=a;this.l=b};t(eF,mk);eF.prototype.getAdsManager=function(a,b){a=a||{currentTime:null};this.h.configureAdsManager(a,b);return this.h};eF.prototype.getUserRequestContext=function(){return this.l};eF.prototype.getUserRequestContext=eF.prototype.getUserRequestContext;eF.prototype.getAdsManager=eF.prototype.getAdsManager;var fF={ADS_MANAGER_LOADED:"adsManagerLoaded"};w("module$contents$ima$AdsManagerLoadedEvent_AdsManagerLoadedEvent.Type",fF);var gF=function(){this.l=this.j="unknown";this.h="0";this.nonLinearAdSlotHeight=this.nonLinearAdSlotWidth=this.linearAdSlotHeight=this.linearAdSlotWidth=this.liveStreamPrefetchSeconds=0;this.forceNonLinearFullSlot=!1;this.contentTitle=this.contentKeywords=this.contentDuration=null;this.vastLoadTimeout=5E3;this.omidAccessModeRules={};this.pageUrl=null};gF.prototype.setAdWillAutoPlay=function(a){this.j=a?"auto":"click"};gF.prototype.setAdWillPlayMuted=function(a){this.l=a?"muted":"unmuted"};
gF.prototype.setContinuousPlayback=function(a){this.h=a?"2":"1"};gF.prototype.setContinuousPlayback=gF.prototype.setContinuousPlayback;gF.prototype.setAdWillPlayMuted=gF.prototype.setAdWillPlayMuted;gF.prototype.setAdWillAutoPlay=gF.prototype.setAdWillAutoPlay;var hF=q(["https://adservice.google.com/adsid/integrator.",""]),iF=q(["https://adservice.google.ad/adsid/integrator.",""]),jF=q(["https://adservice.google.ae/adsid/integrator.",""]),kF=q(["https://adservice.google.com.af/adsid/integrator.",""]),lF=q(["https://adservice.google.com.ag/adsid/integrator.",""]),mF=q(["https://adservice.google.com.ai/adsid/integrator.",""]),nF=q(["https://adservice.google.al/adsid/integrator.",""]),oF=q(["https://adservice.google.co.ao/adsid/integrator.",""]),pF=q(["https://adservice.google.com.ar/adsid/integrator.",
""]),qF=q(["https://adservice.google.as/adsid/integrator.",""]),rF=q(["https://adservice.google.at/adsid/integrator.",""]),sF=q(["https://adservice.google.com.au/adsid/integrator.",""]),tF=q(["https://adservice.google.az/adsid/integrator.",""]),uF=q(["https://adservice.google.com.bd/adsid/integrator.",""]),vF=q(["https://adservice.google.be/adsid/integrator.",""]),wF=q(["https://adservice.google.bf/adsid/integrator.",""]),xF=q(["https://adservice.google.bg/adsid/integrator.",""]),yF=q(["https://adservice.google.com.bh/adsid/integrator.",
""]),zF=q(["https://adservice.google.bi/adsid/integrator.",""]),AF=q(["https://adservice.google.bj/adsid/integrator.",""]),BF=q(["https://adservice.google.com.bn/adsid/integrator.",""]),CF=q(["https://adservice.google.com.bo/adsid/integrator.",""]),DF=q(["https://adservice.google.com.br/adsid/integrator.",""]),EF=q(["https://adservice.google.bs/adsid/integrator.",""]),FF=q(["https://adservice.google.bt/adsid/integrator.",""]),GF=q(["https://adservice.google.co.bw/adsid/integrator.",""]),HF=q(["https://adservice.google.com.bz/adsid/integrator.",
""]),IF=q(["https://adservice.google.ca/adsid/integrator.",""]),JF=q(["https://adservice.google.cd/adsid/integrator.",""]),KF=q(["https://adservice.google.cf/adsid/integrator.",""]),LF=q(["https://adservice.google.cg/adsid/integrator.",""]),MF=q(["https://adservice.google.ch/adsid/integrator.",""]),NF=q(["https://adservice.google.ci/adsid/integrator.",""]),OF=q(["https://adservice.google.co.ck/adsid/integrator.",""]),PF=q(["https://adservice.google.cl/adsid/integrator.",""]),QF=q(["https://adservice.google.cm/adsid/integrator.",
""]),RF=q(["https://adservice.google.com.co/adsid/integrator.",""]),SF=q(["https://adservice.google.co.cr/adsid/integrator.",""]),TF=q(["https://adservice.google.com.cu/adsid/integrator.",""]),UF=q(["https://adservice.google.cv/adsid/integrator.",""]),VF=q(["https://adservice.google.com.cy/adsid/integrator.",""]),WF=q(["https://adservice.google.cz/adsid/integrator.",""]),XF=q(["https://adservice.google.de/adsid/integrator.",""]),YF=q(["https://adservice.google.dj/adsid/integrator.",""]),ZF=q(["https://adservice.google.dk/adsid/integrator.",
""]),$F=q(["https://adservice.google.dm/adsid/integrator.",""]),aG=q(["https://adservice.google.dz/adsid/integrator.",""]),bG=q(["https://adservice.google.com.ec/adsid/integrator.",""]),cG=q(["https://adservice.google.ee/adsid/integrator.",""]),dG=q(["https://adservice.google.com.eg/adsid/integrator.",""]),eG=q(["https://adservice.google.es/adsid/integrator.",""]),fG=q(["https://adservice.google.com.et/adsid/integrator.",""]),gG=q(["https://adservice.google.fi/adsid/integrator.",""]),hG=q(["https://adservice.google.com.fj/adsid/integrator.",
""]),iG=q(["https://adservice.google.fm/adsid/integrator.",""]),jG=q(["https://adservice.google.fr/adsid/integrator.",""]),kG=q(["https://adservice.google.ga/adsid/integrator.",""]),lG=q(["https://adservice.google.ge/adsid/integrator.",""]),mG=q(["https://adservice.google.gg/adsid/integrator.",""]),nG=q(["https://adservice.google.com.gh/adsid/integrator.",""]),oG=q(["https://adservice.google.com.gi/adsid/integrator.",""]),pG=q(["https://adservice.google.gl/adsid/integrator.",""]),qG=q(["https://adservice.google.gm/adsid/integrator.",
""]),rG=q(["https://adservice.google.gr/adsid/integrator.",""]),sG=q(["https://adservice.google.com.gt/adsid/integrator.",""]),tG=q(["https://adservice.google.gy/adsid/integrator.",""]),uG=q(["https://adservice.google.com.hk/adsid/integrator.",""]),vG=q(["https://adservice.google.hn/adsid/integrator.",""]),wG=q(["https://adservice.google.hr/adsid/integrator.",""]),xG=q(["https://adservice.google.ht/adsid/integrator.",""]),yG=q(["https://adservice.google.hu/adsid/integrator.",""]),zG=q(["https://adservice.google.co.id/adsid/integrator.",
""]),AG=q(["https://adservice.google.ie/adsid/integrator.",""]),BG=q(["https://adservice.google.co.il/adsid/integrator.",""]),CG=q(["https://adservice.google.im/adsid/integrator.",""]),DG=q(["https://adservice.google.co.in/adsid/integrator.",""]),EG=q(["https://adservice.google.iq/adsid/integrator.",""]),FG=q(["https://adservice.google.is/adsid/integrator.",""]),GG=q(["https://adservice.google.it/adsid/integrator.",""]),HG=q(["https://adservice.google.je/adsid/integrator.",""]),IG=q(["https://adservice.google.com.jm/adsid/integrator.",
""]),JG=q(["https://adservice.google.jo/adsid/integrator.",""]),KG=q(["https://adservice.google.co.jp/adsid/integrator.",""]),LG=q(["https://adservice.google.co.ke/adsid/integrator.",""]),MG=q(["https://adservice.google.com.kh/adsid/integrator.",""]),NG=q(["https://adservice.google.ki/adsid/integrator.",""]),OG=q(["https://adservice.google.kg/adsid/integrator.",""]),PG=q(["https://adservice.google.co.kr/adsid/integrator.",""]),QG=q(["https://adservice.google.com.kw/adsid/integrator.",""]),RG=q(["https://adservice.google.kz/adsid/integrator.",
""]),SG=q(["https://adservice.google.la/adsid/integrator.",""]),TG=q(["https://adservice.google.com.lb/adsid/integrator.",""]),UG=q(["https://adservice.google.li/adsid/integrator.",""]),VG=q(["https://adservice.google.lk/adsid/integrator.",""]),WG=q(["https://adservice.google.co.ls/adsid/integrator.",""]),XG=q(["https://adservice.google.lt/adsid/integrator.",""]),YG=q(["https://adservice.google.lu/adsid/integrator.",""]),ZG=q(["https://adservice.google.lv/adsid/integrator.",""]),$G=q(["https://adservice.google.com.ly/adsid/integrator.",
""]),aH=q(["https://adservice.google.md/adsid/integrator.",""]),bH=q(["https://adservice.google.me/adsid/integrator.",""]),cH=q(["https://adservice.google.mg/adsid/integrator.",""]),dH=q(["https://adservice.google.mk/adsid/integrator.",""]),eH=q(["https://adservice.google.ml/adsid/integrator.",""]),fH=q(["https://adservice.google.com.mm/adsid/integrator.",""]),gH=q(["https://adservice.google.mn/adsid/integrator.",""]),hH=q(["https://adservice.google.ms/adsid/integrator.",""]),iH=q(["https://adservice.google.com.mt/adsid/integrator.",
""]),jH=q(["https://adservice.google.mu/adsid/integrator.",""]),kH=q(["https://adservice.google.mv/adsid/integrator.",""]),lH=q(["https://adservice.google.mw/adsid/integrator.",""]),mH=q(["https://adservice.google.com.mx/adsid/integrator.",""]),nH=q(["https://adservice.google.com.my/adsid/integrator.",""]),oH=q(["https://adservice.google.co.mz/adsid/integrator.",""]),pH=q(["https://adservice.google.com.na/adsid/integrator.",""]),qH=q(["https://adservice.google.com.ng/adsid/integrator.",""]),rH=q(["https://adservice.google.com.ni/adsid/integrator.",
""]),sH=q(["https://adservice.google.ne/adsid/integrator.",""]),tH=q(["https://adservice.google.nl/adsid/integrator.",""]),uH=q(["https://adservice.google.no/adsid/integrator.",""]),vH=q(["https://adservice.google.com.np/adsid/integrator.",""]),wH=q(["https://adservice.google.nr/adsid/integrator.",""]),xH=q(["https://adservice.google.nu/adsid/integrator.",""]),yH=q(["https://adservice.google.co.nz/adsid/integrator.",""]),zH=q(["https://adservice.google.com.om/adsid/integrator.",""]),AH=q(["https://adservice.google.com.pa/adsid/integrator.",
""]),BH=q(["https://adservice.google.com.pe/adsid/integrator.",""]),CH=q(["https://adservice.google.com.pg/adsid/integrator.",""]),DH=q(["https://adservice.google.com.ph/adsid/integrator.",""]),EH=q(["https://adservice.google.com.pk/adsid/integrator.",""]),FH=q(["https://adservice.google.pl/adsid/integrator.",""]),GH=q(["https://adservice.google.pn/adsid/integrator.",""]),HH=q(["https://adservice.google.com.pr/adsid/integrator.",""]),IH=q(["https://adservice.google.ps/adsid/integrator.",""]),JH=q(["https://adservice.google.pt/adsid/integrator.",
""]),KH=q(["https://adservice.google.com.py/adsid/integrator.",""]),LH=q(["https://adservice.google.com.qa/adsid/integrator.",""]),MH=q(["https://adservice.google.ro/adsid/integrator.",""]),NH=q(["https://adservice.google.rw/adsid/integrator.",""]),OH=q(["https://adservice.google.com.sa/adsid/integrator.",""]),PH=q(["https://adservice.google.com.sb/adsid/integrator.",""]),QH=q(["https://adservice.google.sc/adsid/integrator.",""]),RH=q(["https://adservice.google.se/adsid/integrator.",""]),SH=q(["https://adservice.google.com.sg/adsid/integrator.",
""]),TH=q(["https://adservice.google.sh/adsid/integrator.",""]),UH=q(["https://adservice.google.si/adsid/integrator.",""]),VH=q(["https://adservice.google.sk/adsid/integrator.",""]),WH=q(["https://adservice.google.sn/adsid/integrator.",""]),XH=q(["https://adservice.google.so/adsid/integrator.",""]),YH=q(["https://adservice.google.sm/adsid/integrator.",""]),ZH=q(["https://adservice.google.sr/adsid/integrator.",""]),$H=q(["https://adservice.google.st/adsid/integrator.",""]),aI=q(["https://adservice.google.com.sv/adsid/integrator.",
""]),bI=q(["https://adservice.google.td/adsid/integrator.",""]),cI=q(["https://adservice.google.tg/adsid/integrator.",""]),dI=q(["https://adservice.google.co.th/adsid/integrator.",""]),eI=q(["https://adservice.google.com.tj/adsid/integrator.",""]),fI=q(["https://adservice.google.tl/adsid/integrator.",""]),gI=q(["https://adservice.google.tm/adsid/integrator.",""]),hI=q(["https://adservice.google.tn/adsid/integrator.",""]),iI=q(["https://adservice.google.to/adsid/integrator.",""]),jI=q(["https://adservice.google.com.tr/adsid/integrator.",
""]),kI=q(["https://adservice.google.tt/adsid/integrator.",""]),lI=q(["https://adservice.google.com.tw/adsid/integrator.",""]),mI=q(["https://adservice.google.co.tz/adsid/integrator.",""]),nI=q(["https://adservice.google.com.ua/adsid/integrator.",""]),oI=q(["https://adservice.google.co.ug/adsid/integrator.",""]),pI=q(["https://adservice.google.co.uk/adsid/integrator.",""]),qI=q(["https://adservice.google.com.uy/adsid/integrator.",""]),rI=q(["https://adservice.google.co.uz/adsid/integrator.",""]),
sI=q(["https://adservice.google.com.vc/adsid/integrator.",""]),tI=q(["https://adservice.google.co.ve/adsid/integrator.",""]),uI=q(["https://adservice.google.vg/adsid/integrator.",""]),vI=q(["https://adservice.google.co.vi/adsid/integrator.",""]),wI=q(["https://adservice.google.com.vn/adsid/integrator.",""]),xI=q(["https://adservice.google.vu/adsid/integrator.",""]),yI=q(["https://adservice.google.ws/adsid/integrator.",""]),zI=q(["https://adservice.google.rs/adsid/integrator.",""]),AI=q(["https://adservice.google.co.za/adsid/integrator.",
""]),BI=q(["https://adservice.google.co.zm/adsid/integrator.",""]),CI=q(["https://adservice.google.co.zw/adsid/integrator.",""]),DI=q(["https://adservice.google.cat/adsid/integrator.",""]),EI=new Map([[".google.com",function(a){return J(hF,a)}],[".google.ad",function(a){return J(iF,a)}],[".google.ae",function(a){return J(jF,a)}],[".google.com.af",function(a){return J(kF,a)}],[".google.com.ag",function(a){return J(lF,a)}],[".google.com.ai",function(a){return J(mF,a)}],[".google.al",function(a){return J(nF,
a)}],[".google.co.ao",function(a){return J(oF,a)}],[".google.com.ar",function(a){return J(pF,a)}],[".google.as",function(a){return J(qF,a)}],[".google.at",function(a){return J(rF,a)}],[".google.com.au",function(a){return J(sF,a)}],[".google.az",function(a){return J(tF,a)}],[".google.com.bd",function(a){return J(uF,a)}],[".google.be",function(a){return J(vF,a)}],[".google.bf",function(a){return J(wF,a)}],[".google.bg",function(a){return J(xF,a)}],[".google.com.bh",function(a){return J(yF,a)}],[".google.bi",
function(a){return J(zF,a)}],[".google.bj",function(a){return J(AF,a)}],[".google.com.bn",function(a){return J(BF,a)}],[".google.com.bo",function(a){return J(CF,a)}],[".google.com.br",function(a){return J(DF,a)}],[".google.bs",function(a){return J(EF,a)}],[".google.bt",function(a){return J(FF,a)}],[".google.co.bw",function(a){return J(GF,a)}],[".google.com.bz",function(a){return J(HF,a)}],[".google.ca",function(a){return J(IF,a)}],[".google.cd",function(a){return J(JF,a)}],[".google.cf",function(a){return J(KF,
a)}],[".google.cg",function(a){return J(LF,a)}],[".google.ch",function(a){return J(MF,a)}],[".google.ci",function(a){return J(NF,a)}],[".google.co.ck",function(a){return J(OF,a)}],[".google.cl",function(a){return J(PF,a)}],[".google.cm",function(a){return J(QF,a)}],[".google.com.co",function(a){return J(RF,a)}],[".google.co.cr",function(a){return J(SF,a)}],[".google.com.cu",function(a){return J(TF,a)}],[".google.cv",function(a){return J(UF,a)}],[".google.com.cy",function(a){return J(VF,a)}],[".google.cz",
function(a){return J(WF,a)}],[".google.de",function(a){return J(XF,a)}],[".google.dj",function(a){return J(YF,a)}],[".google.dk",function(a){return J(ZF,a)}],[".google.dm",function(a){return J($F,a)}],[".google.dz",function(a){return J(aG,a)}],[".google.com.ec",function(a){return J(bG,a)}],[".google.ee",function(a){return J(cG,a)}],[".google.com.eg",function(a){return J(dG,a)}],[".google.es",function(a){return J(eG,a)}],[".google.com.et",function(a){return J(fG,a)}],[".google.fi",function(a){return J(gG,
a)}],[".google.com.fj",function(a){return J(hG,a)}],[".google.fm",function(a){return J(iG,a)}],[".google.fr",function(a){return J(jG,a)}],[".google.ga",function(a){return J(kG,a)}],[".google.ge",function(a){return J(lG,a)}],[".google.gg",function(a){return J(mG,a)}],[".google.com.gh",function(a){return J(nG,a)}],[".google.com.gi",function(a){return J(oG,a)}],[".google.gl",function(a){return J(pG,a)}],[".google.gm",function(a){return J(qG,a)}],[".google.gr",function(a){return J(rG,a)}],[".google.com.gt",
function(a){return J(sG,a)}],[".google.gy",function(a){return J(tG,a)}],[".google.com.hk",function(a){return J(uG,a)}],[".google.hn",function(a){return J(vG,a)}],[".google.hr",function(a){return J(wG,a)}],[".google.ht",function(a){return J(xG,a)}],[".google.hu",function(a){return J(yG,a)}],[".google.co.id",function(a){return J(zG,a)}],[".google.ie",function(a){return J(AG,a)}],[".google.co.il",function(a){return J(BG,a)}],[".google.im",function(a){return J(CG,a)}],[".google.co.in",function(a){return J(DG,
a)}],[".google.iq",function(a){return J(EG,a)}],[".google.is",function(a){return J(FG,a)}],[".google.it",function(a){return J(GG,a)}],[".google.je",function(a){return J(HG,a)}],[".google.com.jm",function(a){return J(IG,a)}],[".google.jo",function(a){return J(JG,a)}],[".google.co.jp",function(a){return J(KG,a)}],[".google.co.ke",function(a){return J(LG,a)}],[".google.com.kh",function(a){return J(MG,a)}],[".google.ki",function(a){return J(NG,a)}],[".google.kg",function(a){return J(OG,a)}],[".google.co.kr",
function(a){return J(PG,a)}],[".google.com.kw",function(a){return J(QG,a)}],[".google.kz",function(a){return J(RG,a)}],[".google.la",function(a){return J(SG,a)}],[".google.com.lb",function(a){return J(TG,a)}],[".google.li",function(a){return J(UG,a)}],[".google.lk",function(a){return J(VG,a)}],[".google.co.ls",function(a){return J(WG,a)}],[".google.lt",function(a){return J(XG,a)}],[".google.lu",function(a){return J(YG,a)}],[".google.lv",function(a){return J(ZG,a)}],[".google.com.ly",function(a){return J($G,
a)}],[".google.md",function(a){return J(aH,a)}],[".google.me",function(a){return J(bH,a)}],[".google.mg",function(a){return J(cH,a)}],[".google.mk",function(a){return J(dH,a)}],[".google.ml",function(a){return J(eH,a)}],[".google.com.mm",function(a){return J(fH,a)}],[".google.mn",function(a){return J(gH,a)}],[".google.ms",function(a){return J(hH,a)}],[".google.com.mt",function(a){return J(iH,a)}],[".google.mu",function(a){return J(jH,a)}],[".google.mv",function(a){return J(kH,a)}],[".google.mw",function(a){return J(lH,
a)}],[".google.com.mx",function(a){return J(mH,a)}],[".google.com.my",function(a){return J(nH,a)}],[".google.co.mz",function(a){return J(oH,a)}],[".google.com.na",function(a){return J(pH,a)}],[".google.com.ng",function(a){return J(qH,a)}],[".google.com.ni",function(a){return J(rH,a)}],[".google.ne",function(a){return J(sH,a)}],[".google.nl",function(a){return J(tH,a)}],[".google.no",function(a){return J(uH,a)}],[".google.com.np",function(a){return J(vH,a)}],[".google.nr",function(a){return J(wH,a)}],
[".google.nu",function(a){return J(xH,a)}],[".google.co.nz",function(a){return J(yH,a)}],[".google.com.om",function(a){return J(zH,a)}],[".google.com.pa",function(a){return J(AH,a)}],[".google.com.pe",function(a){return J(BH,a)}],[".google.com.pg",function(a){return J(CH,a)}],[".google.com.ph",function(a){return J(DH,a)}],[".google.com.pk",function(a){return J(EH,a)}],[".google.pl",function(a){return J(FH,a)}],[".google.pn",function(a){return J(GH,a)}],[".google.com.pr",function(a){return J(HH,a)}],
[".google.ps",function(a){return J(IH,a)}],[".google.pt",function(a){return J(JH,a)}],[".google.com.py",function(a){return J(KH,a)}],[".google.com.qa",function(a){return J(LH,a)}],[".google.ro",function(a){return J(MH,a)}],[".google.rw",function(a){return J(NH,a)}],[".google.com.sa",function(a){return J(OH,a)}],[".google.com.sb",function(a){return J(PH,a)}],[".google.sc",function(a){return J(QH,a)}],[".google.se",function(a){return J(RH,a)}],[".google.com.sg",function(a){return J(SH,a)}],[".google.sh",
function(a){return J(TH,a)}],[".google.si",function(a){return J(UH,a)}],[".google.sk",function(a){return J(VH,a)}],[".google.sn",function(a){return J(WH,a)}],[".google.so",function(a){return J(XH,a)}],[".google.sm",function(a){return J(YH,a)}],[".google.sr",function(a){return J(ZH,a)}],[".google.st",function(a){return J($H,a)}],[".google.com.sv",function(a){return J(aI,a)}],[".google.td",function(a){return J(bI,a)}],[".google.tg",function(a){return J(cI,a)}],[".google.co.th",function(a){return J(dI,
a)}],[".google.com.tj",function(a){return J(eI,a)}],[".google.tl",function(a){return J(fI,a)}],[".google.tm",function(a){return J(gI,a)}],[".google.tn",function(a){return J(hI,a)}],[".google.to",function(a){return J(iI,a)}],[".google.com.tr",function(a){return J(jI,a)}],[".google.tt",function(a){return J(kI,a)}],[".google.com.tw",function(a){return J(lI,a)}],[".google.co.tz",function(a){return J(mI,a)}],[".google.com.ua",function(a){return J(nI,a)}],[".google.co.ug",function(a){return J(oI,a)}],[".google.co.uk",
function(a){return J(pI,a)}],[".google.com.uy",function(a){return J(qI,a)}],[".google.co.uz",function(a){return J(rI,a)}],[".google.com.vc",function(a){return J(sI,a)}],[".google.co.ve",function(a){return J(tI,a)}],[".google.vg",function(a){return J(uI,a)}],[".google.co.vi",function(a){return J(vI,a)}],[".google.com.vn",function(a){return J(wI,a)}],[".google.vu",function(a){return J(xI,a)}],[".google.ws",function(a){return J(yI,a)}],[".google.rs",function(a){return J(zI,a)}],[".google.co.za",function(a){return J(AI,
a)}],[".google.co.zm",function(a){return J(BI,a)}],[".google.co.zw",function(a){return J(CI,a)}],[".google.cat",function(a){return J(DI,a)}]].map(function(a){var b=r(a);a=b.next().value;b=b.next().value;var c={};return[a,(c.json=b("json"),c.js=b("js"),c["sync.js"]=b("sync.js"),c)]}));var FI=function(a,b,c){var d=kh("LINK",a);try{if(d.rel="preload",rb("preload","stylesheet")){d.href=Pf(b).toString();var e=ig('style[nonce],link[rel="stylesheet"][nonce]',d.ownerDocument&&d.ownerDocument.defaultView);e&&d.setAttribute("nonce",e)}else{if(b instanceof Of)var f=Pf(b).toString();else{if(b instanceof Sf)var g=Tf(b);else{if(b instanceof Sf)var h=b;else{b="object"==typeof b&&b.Ya?b.La():String(b);b:if(e=b,Zf){try{var k=new URL(e)}catch(u){var n="https:";break b}n=k.protocol}else c:{var m=
document.createElement("a");try{m.href=e}catch(u){n=void 0;break c}var x=m.protocol;n=":"===x||""===x?"https:":x}"javascript:"===n&&(b="about:invalid#zClosurez");h=Wf(b)}g=Tf(h)}f=g}d.href=f}}catch(u){return}d.as="script";c&&d.setAttribute("nonce",c);if(a=a.getElementsByTagName("head")[0])try{a.appendChild(d)}catch(u){}};var GI=v,II=function(a){var b=new Map([["domain",v.location.hostname]]);HI[3]>=Xa()&&b.set("adsid",HI[1]);return Hh(EI.get(a).js,b)},HI,JI,KI=function(){GI=v;HI=GI.googleToken=GI.googleToken||{};var a=Xa();HI[1]&&HI[3]>a&&0<HI[2]||(HI[1]="",HI[2]=-1,HI[3]=-1,HI[4]="",HI[6]="");JI=GI.googleIMState=GI.googleIMState||{};EI.has(JI[1])||(JI[1]=".google.com");Array.isArray(JI[5])||(JI[5]=[]);"boolean"!==typeof JI[6]&&(JI[6]=!1);Array.isArray(JI[7])||(JI[7]=[]);"number"!==typeof JI[8]&&(JI[8]=0)},LI={Zc:function(){return 0<
JI[8]},Sf:function(){JI[8]++},Tf:function(){0<JI[8]&&JI[8]--},Uf:function(){JI[8]=0},Bi:function(){return!1},Yd:function(){return JI[5]},Rd:function(a){try{a()}catch(b){v.setTimeout(function(){throw b;},0)}},je:function(){if(!LI.Zc()){var a=v.document,b=function(e){e=II(e);a:{try{var f=ig("script[nonce]");break a}catch(g){}f=void 0}FI(a,e.toString(),f);f=kh("SCRIPT",a);f.type="text/javascript";f.onerror=function(){return v.processGoogleToken({},2)};f.src=Pf(e);Vg(f);try{(a.head||a.body||a.documentElement).appendChild(f),
LI.Sf()}catch(g){}},c=JI[1];b(c);".google.com"!=c&&b(".google.com");b={};var d=(b.newToken="FBT",b);v.setTimeout(function(){return v.processGoogleToken(d,1)},1E3)}}};function MI(a){KI();var b=GI.googleToken[5]||0;a&&(0!=b||HI[3]>=Xa()?LI.Rd(a):(LI.Yd().push(a),LI.je()));HI[3]>=Xa()&&HI[2]>=Xa()||LI.je()}
var NI=function(a){v.processGoogleToken=v.processGoogleToken||function(b,c){var d=b;d=void 0===d?{}:d;c=void 0===c?0:c;b=d.newToken||"";var e="NT"==b,f=parseInt(d.freshLifetimeSecs||"",10),g=parseInt(d.validLifetimeSecs||"",10),h=d["1p_jar"]||"";d=d.pucrd||"";KI();1==c?LI.Uf():LI.Tf();var k=GI.googleToken=GI.googleToken||{},n=0==c&&b&&"string"===typeof b&&!e&&"number"===typeof f&&0<f&&"number"===typeof g&&0<g&&"string"===typeof h;e=e&&!LI.Zc()&&(!(HI[3]>=Xa())||"NT"==HI[1]);var m=!(HI[3]>=Xa())&&
0!=c;if(n||e||m)e=Xa(),f=e+1E3*f,g=e+1E3*g,1E-5>Math.random()&&Ch(v,"https://pagead2.googlesyndication.com/pagead/gen_204?id=imerr&err="+c),k[5]=c,k[1]=b,k[2]=f,k[3]=g,k[4]=h,k[6]=d,KI();if(n||!LI.Zc()){c=LI.Yd();for(b=0;b<c.length;b++)LI.Rd(c[b]);c.length=0}};MI(a)};var OI=function(a){E.call(this);this.j=a;this.h=null;this.o={};this.A=0;this.l=null};t(OI,E);OI.prototype.N=function(){this.l&&Te(this.j,"message",this.l);E.prototype.N.call(this)};
var QI=function(a){var b;return"function"===typeof(null==(b=a.j)?void 0:b.__uspapi)||null!=PI(a)},SI=function(a,b){var c={};if(QI(a)){var d=Oe(function(){return b(c)});RI(a,function(e,f){f&&(c=e);d()});setTimeout(d,500)}else b(c)},RI=function(a,b){var c;"function"===typeof(null==(c=a.j)?void 0:c.__uspapi)?(a=a.j.__uspapi,a("getUSPData",1,b)):PI(a)&&(TI(a),c=++a.A,a.o[c]=b,a.h&&(b={},a.h.postMessage((b.__uspapiCall={command:"getUSPData",version:1,callId:c},b),"*")))},PI=function(a){if(a.h)return a.h;
a.h=ih(a.j,"__uspapiLocator");return a.h},TI=function(a){a.l||(a.l=function(b){try{var c={};"string"===typeof b.data?c=JSON.parse(b.data):c=b.data;var d=c.__uspapiReturn;var e;null==(e=a.o)||e[d.callId](d.returnValue,d.success)}catch(f){}},Se(a.j,"message",a.l))};(function(){if(!vf(function(b){return b.match(H().location.href)})){var a=AC(document.querySelectorAll&&document.querySelector?document.querySelectorAll("SCRIPT"):document.getElementsByTagName("SCRIPT"));null==a&&document.querySelectorAll&&(a=AC(document.querySelectorAll("script")));if(null==a)throw Error("IMA SDK is either not loaded from a google domain or is not a supported version.");}})();
var UI=function(a){O.call(this);var b=this,c=Ez(Gz(this.getSettings()));c&&0<c.length&&(Di.reset(),Fi(new gj(c)));this.B=new TE;this.h=a;this.F=new Map;this.A=this.h.K;this.J=new Cv(this);We(this,this.J);this.L=new Kz(window);this.M=new OI(window);this.j=null;this.G={};this.H=[];0!=Hz.h?(this.l=new UC,We(this,this.l)):this.l=WC();NB()&&(this.l.init(RD(this.A)),this.C=bD(this.l,this.h.F),Ve(this,function(){var d=b.C;b.l.A.delete(d);0!=Hz.h&&(K(Is).o[d]=null)}))};t(UI,O);UI.prototype.destroy=function(){this.W()};
UI.prototype.getVersion=function(){return"h.3.556.1"};UI.prototype.requestAds=function(a,b){var c=this,d=[],e=null;Mz(this.L)&&d.push(new Promise(function(g){Pz(c.L,function(h){e=h;g()})}));var f=null;QI(this.M)&&d.push(new Promise(function(g){SI(c.M,function(h){f=h;g()})}));Promise.all(d).then(function(){VI(c,a,b,{Bd:e,Ed:f})})};
var VI=function(a,b,c,d){var e=b.adTagUrl;e&&WB.h().report(8,{adtagurl:e,customPlayback:nE(a.h),customClick:null!=a.h.I});var f="goog_"+og++;a.F.set(f,c||null);var g=WI({adTagUrl:e,ee:!1,Bd:d.Bd,Ed:d.Ed});a.j=Tz(e,g||{});mB(a.j,function(){XI(a)});c=[YI(a)];ZI(Vz(a.j))&&c.push($I());Promise.all(c).then(function(){var h={};h=(h.limaExperimentIds=Ei().sort().join(","),h);var k=a.getSettings(),n=aD(a.l);n=void 0===n?null:n;var m={};null!=n&&(m.activeViewPushUpdates=n);m.activityMonitorMode=k.h;m.adsToken=
k.C;m.autoPlayAdBreaks=k.j;m.companionBackfill=k.getCompanionBackfill();m.cookiesEnabled=k.isCookiesEnabled();m.disableCustomPlaybackForIOS10Plus=k.getDisableCustomPlaybackForIOS10Plus();m.engagementDetection=!0;m.isFunctionalTest=!1;m.isVpaidAdapter=k.Rb();m["1pJar"]=k.H;m.numRedirects=k.getNumRedirects();m.pageCorrelator=k.O;m.persistentStateCorrelator=zh();m.playerType=k.getPlayerType();m.playerVersion=k.getPlayerVersion();m.ppid=k.getPpid();m.privacyControls=k.X;m.reportMediaRequests=!1;m.sessionId=
k.B;m.streamCorrelator=k.Z;m.testingConfig=Gz(k).h;m.urlSignals=k.ca;m.vpaidMode=k.l;m.featureFlags=k.getFeatureFlags();n=b.adTagUrl;k={};k.contentMediaUrl=a.h.J;k.customClickTrackingProvided=null!=a.h.I;a:{var x=bn();x=r(x);for(var u=x.next();!u.done;u=x.next())if(u=u.value,u.url&&u.url.includes("amp=1")){x=!0;break a}x=null!=window.context?0<parseInt(window.context.ampcontextVersion,10):null!=en().l}k.isAmp=x;a:{try{var y=window.top.location.href}catch(wd){y=2;break a}y=null==y?2:y==window.document.location.href?
0:1}k.iframeState=y;k.imaHostingDomain=window.document.domain;k.imaHostingPageUrl=window.document.URL;if(so())var A=window.location.href;else{u=en();y=u.j;x=u.h;u=u.l;var F=null;if(u)try{A=tu(u.url);var da=A.h,ea=PB(da,"/v/");ea||(ea=PB(da,"/a/"));if(!ea)throw Error("Can not extract standalone amp url.");var Ba=PB("/"+ea,"/s/"),ua=hu(A.l);ua.remove("amp_js_v");ua.remove("amp_lite");var gb=Ba?tu("https://"+Ba):tu("http://"+ea);gu(gb,ua);F=gb.toString()}catch(wd){F=null}A=F?F:y&&y.url?y.url:x&&x.url?
x.url:""}k.topAccessiblePageUrl=A;k.referrer=window.document.referrer;k.domLoadTime=a.A.J;k.sdkImplLoadTime=a.A.L;k.supportsResizing=!nE(a.h);A=H().location.ancestorOrigins;k.topOrigin=A?0<A.length&&200>A[A.length-1].length?A[A.length-1]:"":null;k.osdId=a.C;k.usesCustomVideoPlayback=nE(a.h);k.usesInlinePlayback=a.h.G;da=a.h.H;A=[];Ba=ea="";if(null!=da){ea=da;Ba=!0;Ba=void 0===Ba?!1:Ba;ua=[];for(gb=0;ea&&25>gb;++gb){y="";void 0!==Ba&&Ba||(y=(y=9!==ea.nodeType&&ea.id)?"/"+y:"");a:{if(ea&&ea.nodeName&&
ea.parentElement){x=ea.nodeName.toString().toLowerCase();u=ea.parentElement.childNodes;for(var dc=F=0;dc<u.length;++dc){var hf=u[dc];if(hf.nodeName&&hf.nodeName.toString().toLowerCase()===x){if(ea===hf){x="."+F;break a}++F}}}x=""}ua.push((ea.nodeName&&ea.nodeName.toString().toLowerCase())+y+x);ea=ea.parentElement}ea=ua.join();if(da){da=(da=da.ownerDocument)&&(da.defaultView||da.parentWindow)||null;Ba=[];if(da)try{var U=da.parent;for(ua=0;U&&U!==da&&25>ua;++ua){var yc=U.frames;for(gb=0;gb<yc.length;++gb)if(da===
yc[gb]){Ba.push(gb);break}da=U;U=da.parent}}catch(wd){}Ba=Ba.join()}else Ba=""}A.push(ea,Ba);if(null!=n){for(U=0;U<Lu.length-1;++U)A.push(Qg(n,Lu[U])||"");U=Qg(n,"videoad_start_delay");yc="";U&&(U=parseInt(U,10),yc=0>U?"postroll":0==U?"preroll":"midroll");A.push(yc)}else for(U=0;U<Lu.length;++U)A.push("");k=(k.videoAdKey=eh(A.join(":")).toString(),k);U={};h=(U.consentSettings=g,U.imalibExperiments=h,U.settings=m,U.videoEnvironment=k,U);m={};m.adsResponse=b.adsResponse;m.videoPlayActivation=b.j;m.videoPlayMuted=
b.l;m.videoContinuousPlay=b.h;m.adTagUrl=b.adTagUrl;m.contentDuration=b.contentDuration;m.contentKeywords=b.contentKeywords;m.contentTitle=b.contentTitle;m.linearAdSlotWidth=b.linearAdSlotWidth;m.linearAdSlotHeight=b.linearAdSlotHeight;m.nonLinearAdSlotWidth=b.nonLinearAdSlotWidth;m.nonLinearAdSlotHeight=b.nonLinearAdSlotHeight;m.forceNonLinearFullSlot=b.forceNonLinearFullSlot;m.liveStreamPrefetchSeconds=b.liveStreamPrefetchSeconds;m.vastLoadTimeout=b.vastLoadTimeout;m.omidAccessModeRules=b.omidAccessModeRules;
m.pageUrl=b.pageUrl;Object.assign(h,m);if(a.j&&Hz.isCookiesEnabled()){m=Wz(a.j);k=a.B;if(0===k.j){if(m&&SE("__gads",m,k.h))U=!0;else if(U=k.h,fd(m,5)&&RE(U)&&(new PE(U.document)).set("GoogleAdServingTest","Good",void 0),U="Good"===SE("GoogleAdServingTest",m,k.h))yc=k.h,fd(m,5)&&RE(yc)&&(new PE(yc.document)).remove("GoogleAdServingTest",void 0,void 0);k.j=U?2:1}h.isBrowserCookieEnabled=2===k.j;k=m?SE("__gads",m,a.B.h):null;null!==k&&(h.gfpCookieValue=k);Ai(Mj)&&(k=m?SE("__gpi",m,a.B.h):null,null!==
k&&(h.gfpCookieV2Id=k),m=m?SE("__gpi_opt_out",m,a.B.h):null,null!==m&&(h.gfpCookieV2OptOut=m))}h.trustTokenStatuses=a.H;if(m=nA(lB(a.j)))a.G.espSignals=m,h.espSignals=m;h.isEapLoader=!1;m=RD(a.A,f);a.J.P(m,"adsLoader",a.O);pz(m,"adsLoader","requestAds",h)})};UI.prototype.getSettings=function(){return Hz};UI.prototype.contentComplete=function(){pz(RD(this.A),"adsLoader","contentComplete")};var ZI=function(a){return a?!1:!KB()};
UI.prototype.O=function(a){var b=a.messageType;switch(b){case "adsLoaded":b=a.ra;a=a.Zb;b=new Z(this.l,this.h,b.adTagUrl||"",b.adCuePoints,this.C,b.isCustomClickTrackingAllowed,RD(this.A,a),this.j);this.dispatchEvent(new eF(b,aJ(this,a)));break;case "error":b=a.ra;this.dispatchEvent(new rE(new pE(b),aJ(this,a.Zb)));a={error:b.errorCode,vis:Kh(document)};WB.h().report(7,a);break;case "cookieUpdate":a=a.ra;if(null==a)break;if(Hz.isCookiesEnabled()){b=new Iz;C(b,5,!0);var c=a.gfpCookie;c&&UE(this.B,
"__gads",sm(c),b);Ai(Mj)&&(c=a.gfpCookieV2)&&UE(this.B,"__gpi",sm(c),b)}bJ(this,a.encryptedSignalBidderIds||[]);break;case "trackingUrlPinged":this.dispatchEvent(new tE(b,null,a.ra))}};
var bJ=function(a,b){0!=b.length&&(b=nB(b.map(function(c){return{jc:c}}),a.j))&&b.forEach(function(c){return c.then(function(d){d&&XI(a)})})},XI=function(a){var b=nA(lB(a.j));b&&(a.G.espSignals=b,pz(RD(a.A),"adsLoader","signalsRefresh",a.G))},aJ=function(a,b){var c=a.F.get(b);a.F.delete(b);return c},WI=function(a){var b,c=b=void 0===b?v:b;c=void 0===c?v:c;(c=!!c.googlefc)||(c=b.top,c=void 0===c?v.top:c,c=hh(c,"googlefcPresent"));var d=void 0===d?v:d;d=hh(d.top,"googlefcLoaded");b=a.Bd;var e=a.Ed,
f={};return f.gfcPresent=!1,f.gfcLoaded=d,f.gfcUserConsent=c?4:0,f.isGdprLoader=a.ee,f.addtlConsent=b?b.addtlConsent:null,f.gdprApplies=b?b.gdprApplies:null,f.tcString=b?b.tcString:null,f.uspString=e?e.uspString:null,f},$I=function(){return new Promise(function(a){NI(function(){KI();Hz.C=HI[1]||"";KI();Hz.X=HI[6]||"";KI();Hz.H=HI[4]||"";a()})})},YI=function(a){var b=!!document.hasTrustToken,c={};WB.h().report(158,(c.tte=b,c));if(!Ai(Kj)||!b)return Promise.resolve();var d;c=null!=(d=ik(new ck(!Vz(a.j),
!1,!0)))?d:Promise.resolve();return Promise.race([c,sl()]).then(function(e){var f=window.goog_tt_state_map,g,h=[];(g=null==f?void 0:f.get(ak.issuerOrigin))&&h.push(g);a.H=h;f={};WB.h().report(158,(f.Ci="timed out"==e,f.status=JSON.stringify(a.H),f.tte=b,f))})};UI.prototype.contentComplete=UI.prototype.contentComplete;UI.prototype.getSettings=UI.prototype.getSettings;UI.prototype.requestAds=UI.prototype.requestAds;UI.prototype.getVersion=UI.prototype.getVersion;UI.prototype.destroy=UI.prototype.destroy;w("google.ima.AdCuePoints.POSTROLL",-1,window);w("google.ima.AdCuePoints.PREROLL",0,window);w("google.ima.AdDisplayContainer",oE,window);w("google.ima.AdError.ErrorCode",T,window);w("google.ima.AdError.ErrorCode.VIDEO_ELEMENT_USED",-1,window);w("google.ima.AdError.ErrorCode.VIDEO_ELEMENT_REQUIRED",-1,window);w("google.ima.AdError.ErrorCode.VAST_MEDIA_ERROR",-1,window);w("google.ima.AdError.ErrorCode.ADSLOT_NOT_VISIBLE",-1,window);w("google.ima.AdError.ErrorCode.OVERLAY_AD_LOADING_FAILED",-1,window);
w("google.ima.AdError.ErrorCode.VAST_MALFORMED_RESPONSE",-1,window);w("google.ima.AdError.ErrorCode.COMPANION_AD_LOADING_FAILED",-1,window);w("google.ima.AdError.Type",qE,window);w("google.ima.AdErrorEvent.Type",sE,window);w("google.ima.AdEvent.Type",uE,window);w("google.ima.AdsLoader",UI,window);w("google.ima.AdsManagerLoadedEvent.Type",fF,window);w("google.ima.CompanionAdSelectionSettings",uz,window);w("google.ima.CompanionAdSelectionSettings.CreativeType",rz);
w("google.ima.CompanionAdSelectionSettings.ResourceType",sz);w("google.ima.CompanionAdSelectionSettings.SizeCriteria",tz);w("google.ima.CustomContentLoadedEvent.Type.CUSTOM_CONTENT_LOADED","deprecated-event",window);w("ima.ImaSdkSettings",V,window);w("google.ima.settings",Hz,window);w("google.ima.ImaSdkSettings.CompanionBackfillMode",{ALWAYS:"always",ON_MASTER_AD:"on_master_ad"});w("google.ima.ImaSdkSettings.VpaidMode",{DISABLED:0,ENABLED:1,INSECURE:2});w("google.ima.AdsRenderingSettings",RC,window);
w("google.ima.AdsRenderingSettings.AUTO_SCALE",-1,window);w("google.ima.AdsRequest",gF,window);w("google.ima.VERSION","3.556.1");w("google.ima.OmidAccessMode",{LIMITED:"limited",DOMAIN:"domain",FULL:"full"});w("google.ima.OmidVerificationVendor",{COMSCORE:7,DOUBLEVERIFY:3,GOOGLE:9,INTEGRAL_AD_SCIENCE:4,MEETRICS:8,MOAT:2,NIELSEN:6,PIXELATE:5,OTHER:1,7:"COMSCORE",3:"DOUBLEVERIFY",9:"GOOGLE",4:"INTEGRAL_AD_SCIENCE",8:"MEETRICS",2:"MOAT",6:"NIELSEN",5:"PIXELATE",1:"OTHER"});
w("google.ima.UiElements",{AD_ATTRIBUTION:"adAttribution",COUNTDOWN:"countdown"});w("google.ima.ViewMode",{NORMAL:"normal",FULLSCREEN:"fullscreen"});})();
</script>
<script>
!function(){function n(d){var g=[],a=[],f=function(c){for(var b={},e=0;e<z.length;e++){var h=z[e];if(h.Tag===c){b=h;break}var k=(r=h.Tag,t=x=l=void 0,l=-1!==(t=r).indexOf("http:")?t.replace("http:",""):t.replace("https:",""),-1!==(x=l.indexOf("?"))?l.replace(l.substring(x),""):l);if(c&&(-1!==c.indexOf(k)||-1!==h.Tag.indexOf(c))){b=h;break}}var r,l,x,t;return b}(d);return f.CategoryId&&(g=f.CategoryId),f.Vendor&&(a=f.Vendor.split(":")),!f.Tag&&D&&(a=g=function(c){var b=[],e=function(h){var k=document.createElement("a");
k.href=h;h=k.hostname.split(".");return-1!==h.indexOf("www")||2<h.length?h.slice(1).join("."):k.hostname}(c);y.some(function(h){return h===e})&&(b=["C0004"]);return b}(d)),{categoryIds:g,vsCatIds:a}}function A(d){return!d||!d.length||(d&&window.OptanonActiveGroups?d.every(function(g){return-1!==window.OptanonActiveGroups.indexOf(","+g+",")}):void 0)}function m(d,g){void 0===g&&(g=null);var a=window,f=a.OneTrust&&a.OneTrust.IsVendorServiceEnabled;a=f&&a.OneTrust.IsVendorServiceEnabled();return"Categories"===
u||"All"===u&&f&&!a?A(d):("Vendors"===u||"All"===u&&f&&a)&&A(g)}function p(d){d=d.getAttribute("class")||"";return-1!==d.indexOf("optanon-category")||-1!==d.indexOf("ot-vscat")}function q(d){return d.hasAttribute("data-ot-ignore")}function v(d,g,a){void 0===a&&(a=null);var f=d.join("-"),c=a&&a.join("-"),b=g.getAttribute("class")||"",e="",h=!1;d&&d.length&&-1===b.indexOf("optanon-category-"+f)&&(e=("optanon-category-"+f).trim(),h=!0);a&&a.length&&-1===b.indexOf("ot-vscat-"+c)&&(e+=" "+("ot-vscat-"+
c).trim(),h=!0);h&&g.setAttribute("class",e+" "+b)}function B(d,g,a){void 0===a&&(a=null);var f;d=d.join("-");a=a&&a.join("-");return-1===g.indexOf("optanon-category-"+d)&&(f=("optanon-category-"+d).trim()),-1===g.indexOf("ot-vscat-"+a)&&(f+=" "+("ot-vscat-"+a).trim()),f+" "+g}var z=JSON.parse('[{"Tag":"https://www.google-analytics.com/analytics.js","CategoryId":["C0002","C0004"],"Vendor":null},{"Tag":"https://p.rfihub.com/cm","CategoryId":["C0004"],"Vendor":null},{"Tag":"https://eb2.3lift.com/sync","CategoryId":["C0004"],"Vendor":null},{"Tag":"https://server.cpmstar.com/country.aspx","CategoryId":["C0004"],"Vendor":null},{"Tag":"https://sync.go.sonobi.com/usa","CategoryId":["C0004"],"Vendor":null},{"Tag":"https://ssum-sec.casalemedia.com/usermatchredir","CategoryId":["C0004"],"Vendor":null},{"Tag":"https://public.servenobid.com/sync.html","CategoryId":["C0004"],"Vendor":null},{"Tag":"https://securepubads.g.doubleclick.net/pcs/view","CategoryId":["C0004"],"Vendor":null},{"Tag":"https://ups.analytics.yahoo.com/ups/56621/occ","CategoryId":["C0004"],"Vendor":null},{"Tag":"https://px.ads.linkedin.com/setuid","CategoryId":["C0004"],"Vendor":null},{"Tag":"https://server.cpmstar.com/pixel.aspx","CategoryId":["C0004"],"Vendor":null},{"Tag":"https://ap.lijit.com/pixel","CategoryId":["C0004"],"Vendor":null},{"Tag":"https://js-sec.indexww.com/um/ixmatch.html","CategoryId":["C0004"],"Vendor":null},{"Tag":"https://ce.lijit.com/merge","CategoryId":["C0004"],"Vendor":null},{"Tag":"https://pixel.advertising.com/ups/57304/sync","CategoryId":["C0004"],"Vendor":null},{"Tag":"https://pr-bh.ybp.yahoo.com/sync/triplelift/1141699968021655260305","CategoryId":["C0004"],"Vendor":null},{"Tag":"https://securepubads.g.doubleclick.net/gpt/pubads_impl_2022050501.js","CategoryId":["C0004"],"Vendor":null}]'),
D=JSON.parse("true"),u=JSON.parse('"Categories"'),y="addthis.com addtoany.com adsrvr.org amazon-adsystem.com bing.com bounceexchange.com bouncex.net criteo.com criteo.net dailymotion.com doubleclick.net everesttech.net facebook.com facebook.net googleadservices.com googlesyndication.com krxd.net liadm.com linkedin.com outbrain.com rubiconproject.com sharethis.com taboola.com twitter.com vimeo.com yahoo.com youtube.com".split(" ");y=y.filter(function(d){if("null"!==d&&d.trim().length)return d});var w=
["embed","iframe","img","script"];(new MutationObserver(function(d){Array.prototype.forEach.call(d,function(g){Array.prototype.forEach.call(g.addedNodes,function(e){var h,k;if(1===e.nodeType&&-1!==w.indexOf(e.tagName.toLowerCase())&&!p(e)&&!q(e))if("script"===e.tagName.toLowerCase()){if((k=n(h=e.src||"")).categoryIds.length||k.vsCatIds.length){v(k.categoryIds,e,k.vsCatIds);m(k.categoryIds,k.vsCatIds)||(e.type="text/plain");var r=function(l){"text/plain"===e.getAttribute("type")&&l.preventDefault();
e.removeEventListener("beforescriptexecute",r)};e.addEventListener("beforescriptexecute",r)}}else((k=n(h=e.src||"")).categoryIds.length||k.vsCatIds.length)&&(v(k.categoryIds,e,k.vsCatIds),m(k.categoryIds,k.vsCatIds)||(e.removeAttribute("src"),e.setAttribute("data-src",h)))});var a=g.target;if(g.attributeName&&(!p(a)||!q(a)))if("script"===a.nodeName.toLowerCase()){if((b=n(c=a.src||"")).categoryIds.length||b.vsCatIds.length){v(b.categoryIds,a,b.vsCatIds);m(b.categoryIds,b.vsCatIds)||(a.type="text/plain");
var f=function(e){"text/plain"===a.getAttribute("type")&&e.preventDefault();a.removeEventListener("beforescriptexecute",f)};a.addEventListener("beforescriptexecute",f)}}else if(-1!==w.indexOf(g.target.nodeName.toLowerCase())){var c,b;((b=n(c=a.src||"")).categoryIds.length||b.vsCatIds.length)&&(v(b.categoryIds,a,b.vsCatIds),m(b.categoryIds,b.vsCatIds)||(a.removeAttribute("src"),a.setAttribute("data-src",c)))}})})).observe(document.documentElement,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["src"]});
var C=document.createElement;document.createElement=function(){for(var d=[],g=0;g<arguments.length;g++)d[g]=arguments[g];if("script"!==d[0].toLowerCase()&&-1===w.indexOf(d[0].toLowerCase()))return C.bind(document).apply(void 0,d);var a=C.bind(document).apply(void 0,d),f=a.setAttribute.bind(a);return Object.defineProperties(a,{src:{get:function(){return a.getAttribute("src")||""},set:function(c){var b="";"string"==typeof c?b=c:c instanceof Object&&(b=c.toString());b=n(b);!b.categoryIds.length&&!b.vsCatIds.length||
"script"!==d[0].toLowerCase()||p(a)||m(b.categoryIds,b.vsCatIds)||q(a)?!b.categoryIds.length||-1===w.indexOf(d[0].toLowerCase())||p(a)||m(b.categoryIds,b.vsCatIds)||q(a)?f("src",c):(a.removeAttribute("src"),f("data-src",c),c=a.getAttribute("class"),c||(c=B(b.categoryIds,c||"",b.vsCatIds),f("class",c))):(f("type","text/plain"),f("src",c));return!0}},type:{set:function(c){var b=n(a.src||"");c=!b.categoryIds.length&&!b.vsCatIds.length||p(a)||m(b.categoryIds,b.vsCatIds)||q(a)?c:"text/plain";return f("type",
c),!0}},class:{set:function(c){var b=n(a.src);!b.categoryIds.length&&!b.vsCatIds.length||p(a)||m(b.categoryIds,b.vsCatIds)||q(a)?f("class",c):(c=B(b.categoryIds,c,b.vsCatIds),f("class",c));return!0}}}),a.setAttribute=function(c,b,e){"type"!==c&&"src"!==c||e?f(c,b):a[c]=b},a}}();
</script>
<script>
var OneTrustStub=function(e){"use strict";var t,n,i,a,o,r,s,l,c,p,u,d,m,h,g,f,v,A,b,C,y,I,S,L,T,D,w,R,P,E,_,B,O,G,U,k,N,F,M,V,x,H,j,q,z,W,K,J,Y,Q,X,Z,$,ee,te,ne,ie,ae,oe,re,se,le,ce,pe,ue,de,me,he,ge,fe,ve,Ae,be,Ce,ye,Ie,Se,Le,Te,De=new function(){this.optanonCookieName="OptanonConsent",this.optanonHtmlGroupData=[],this.optanonHostData=[],this.genVendorsData=[],this.vendorsServiceData=[],this.IABCookieValue="",this.oneTrustIABCookieName="eupubconsent",this.oneTrustIsIABCrossConsentEnableParam="isIABGlobal",this.isStubReady=!0,this.geolocationCookiesParam="geolocation",this.EUCOUNTRIES=["BE","BG","CZ","DK","DE","EE","IE","GR","ES","FR","IT","CY","LV","LT","LU","HU","MT","NL","AT","PL","PT","RO","SI","SK","FI","SE","GB","HR","LI","NO","IS"],this.stubFileName="otSDKStub",this.DATAFILEATTRIBUTE="data-domain-script",this.bannerScriptName="otBannerSdk.js",this.mobileOnlineURL=[],this.isMigratedURL=!1,this.migratedCCTID="[[OldCCTID]]",this.migratedDomainId="[[NewDomainId]]",this.userLocation={country:"",state:""}};(n=t=t||{})[n.Unknown=0]="Unknown",n[n.BannerCloseButton=1]="BannerCloseButton",n[n.ConfirmChoiceButton=2]="ConfirmChoiceButton",n[n.AcceptAll=3]="AcceptAll",n[n.RejectAll=4]="RejectAll",n[n.BannerSaveSettings=5]="BannerSaveSettings",n[n.ContinueWithoutAcceptingButton=6]="ContinueWithoutAcceptingButton",(a=i=i||{})[a.Banner=1]="Banner",a[a.PC=2]="PC",a[a.API=3]="API",(r=o=o||{}).AcceptAll="AcceptAll",r.RejectAll="RejectAll",r.UpdateConsent="UpdateConsent",(l=s=s||{})[l.Purpose=1]="Purpose",l[l.SpecialFeature=2]="SpecialFeature",(p=c=c||{}).Legal="legal",p.UserFriendly="user_friendly",(d=u=u||{}).Top="top",d.Bottom="bottom",(h=m=m||{})[h.Banner=0]="Banner",h[h.PrefCenterHome=1]="PrefCenterHome",h[h.VendorList=2]="VendorList",h[h.CookieList=3]="CookieList",(f=g=g||{})[f.RightArrow=39]="RightArrow",f[f.LeftArrow=37]="LeftArrow",(A=v=v||{}).AfterTitle="AfterTitle",A.AfterDescription="AfterDescription",A.AfterDPD="AfterDPD",(C=b=b||{}).PlusMinus="Plusminus",C.Caret="Caret",C.NoAccordion="NoAccordion",(I=y=y||{}).Consent="Consent",I.LI="LI",I.AddtlConsent="AddtlConsent",(L=S=S||{}).Iab1Pub="eupubconsent",L.Iab2Pub="eupubconsent-v2",L.Iab1Eu="euconsent",L.Iab2Eu="euconsent-v2",(D=T=T||{})[D.Disabled=0]="Disabled",D[D.Consent=1]="Consent",D[D.LegInt=2]="LegInt",(R=w=w||{})[R["Banner - Allow All"]=1]="Banner - Allow All",R[R["Banner - Reject All"]=2]="Banner - Reject All",R[R["Banner - Close"]=3]="Banner - Close",R[R["Preference Center - Allow All"]=4]="Preference Center - Allow All",R[R["Preference Center - Reject All"]=5]="Preference Center - Reject All",R[R["Preference Center - Confirm"]=6]="Preference Center - Confirm",(E=P=P||{}).Active="1",E.InActive="0",(B=_=_||{}).Host="Host",B.GenVendor="GenVen",(G=O=O||{})[G.Host=1]="Host",G[G.GenVen=2]="GenVen",G[G.HostAndGenVen=3]="HostAndGenVen",(k=U=U||{})[k.minDays=1]="minDays",k[k.maxDays=30]="maxDays",k[k.maxYear=31536e3]="maxYear",k[k.maxSecToDays=86400]="maxSecToDays",(F=N=N||{})[F.RTL=0]="RTL",F[F.LTR=1]="LTR",(V=M=M||{})[V.GoogleVendor=1]="GoogleVendor",V[V.GeneralVendor=2]="GeneralVendor",(H=x=x||{})[H.Days=1]="Days",H[H.Weeks=7]="Weeks",H[H.Months=30]="Months",H[H.Years=365]="Years",(q=j=j||{}).Checkbox="Checkbox",q.Toggle="Toggle",(W=z=z||{}).SlideIn="Slide_In",W.FadeIn="Fade_In",W.RemoveAnimation="Remove_Animation",(J=K=K||{}).Link="Link",J.Icon="Icon",(Q=Y=Y||{}).consent="consent",Q.set="set",(Z=X=X||{}).update="update",Z.default="default",Z.ads_data_redaction="ads_data_redaction",(ee=$=$||{}).analytics_storage="analytics_storage",ee.ad_storage="ad_storage",ee.functionality_storage="functionality_storage",ee.personalization_storage="personalization_storage",ee.security_storage="security_storage",ee.region="region",ee.wait_for_update="wait_for_update",(ne=te=te||{}).granted="granted",ne.denied="denied",(ae=ie=ie||{})[ae.HostList=0]="HostList",ae[ae.IabVendors=1]="IabVendors",ae[ae.VendorServices=2]="VendorServices",(re=oe=oe||{}).OBJECT_TO_LI="ObjectToLI",re.LI_ACTIVE_IF_LEGAL_BASIS="LIActiveIfLegalBasis",(le=se=se||{}).cookies="cookies",le.vendors="vendors",(pe=ce=ce||{}).GDPR="GDPR",pe.IAB="IAB",pe.CCPA="CCPA",pe.IAB2="IAB2",pe.GENERIC="GENERIC",pe.LGPD="LGPD",pe.GENERIC_PROMPT="GENERIC_PROMPT",pe.CPRA="CPRA",pe.CDPA="CDPA",pe.USNATIONAL="USNATIONAL",pe.CUSTOM="CUSTOM",(de=ue=ue||{}).Name="OTGPPConsent",de[de.ChunkSize=4e3]="ChunkSize",de.ChunkCountParam="GPPCookiesCount",de[de.ReconsentFrequencyDate=365]="ReconsentFrequencyDate",(he=me=me||{}).MspaCoveredTransaction="IsMSPAEnabled",he.MspaOptOutOptionMode="Opt Out",he.MspaServiceProviderMode="Service Provider",(fe=ge=ge||{}).MspaCoveredTransaction="MspaCoveredTransaction",fe.MspaOptOutOptionMode="MspaOptOutOptionMode",fe.MspaServiceProviderMode="MspaServiceProviderMode",(Ae=ve=ve||{}).CPRA="uspcav1",Ae.CCPA="uspcav1",Ae.CDPA="uspvav1",(Ce=be=be||{})[Ce.CPRA=8]="CPRA",Ce[Ce.CCPA=8]="CCPA",Ce[Ce.CDPA=9]="CDPA",(Ie=ye=ye||{})[Ie.NotApplicable=0]="NotApplicable",Ie[Ie.Yes=1]="Yes",Ie[Ie.No=2]="No",(Le=Se=Se||{})[Le.CmpId=28]="CmpId",Le[Le.CmpVersion=1]="CmpVersion";var we,Re,Pe,Ee,_e="geo",Be="otpreview",Oe=(ue.Name,"PRODUCTION"),Ge=((Te={})[x.Days]="PCenterVendorListLifespanDay",Te[x.Weeks]="LfSpnWk",Te[x.Months]="PCenterVendorListLifespanMonth",Te[x.Years]="LfSpnYr",Ue.prototype.camelize=function(e){return e.split("-").map(function(e,t){return 0===t?e:e[0].toUpperCase()+e.slice(1)}).join("")},Ue.prototype.strToObj=function(e){for(var t={},n=e.split(";").map(function(e){return e.trim()}),i=0,a=void 0;i<n.length;++i)if(/:/.test(n[i])){if(!(a=n[i].split(/:(.+)/))[1])return null;t[this.camelize(a[0])]=a[1].trim()}return t},Ue);function Ue(){var e=this;this.implementThePolyfill=function(){var a=e,o=Element.prototype.setAttribute;return Element.prototype.setAttribute=function(e,t){if("style"!==e.toLowerCase()&&o.apply(this,[e,t]),"style"!==e.toLowerCase()||t||this.removeAttribute("style"),"style"===e.toLowerCase()&&t){this.removeAttribute("style");var n=a.strToObj(t);for(var i in n)this.style[i]=n[i]}},!0}}function ke(e,t,n){void 0===n&&(n=!1);function i(e){if(!e)return null;var t=e.trim();return";"!==t.charAt(t.length-1)&&(t+=";"),t.trim()}var o=i(e.getAttribute("style")),r=i(t),a="";a=n&&o?function(){for(var e=o.split(";").concat(r.split(";")).filter(function(e){return 0!==e.length}),t="",n="",i=e.length-1;0<=i;i--){var a=e[i].substring(0,e[i].indexOf(":")+1).trim();t.indexOf(a)<0&&(t+=a,n+=e[i]+";")}return n}():r,e.setAttribute("style",a)}(Re=we=we||{})[Re.ACTIVE=0]="ACTIVE",Re[Re.ALWAYS_ACTIVE=1]="ALWAYS_ACTIVE",Re[Re.EXPIRED=2]="EXPIRED",Re[Re.NO_CONSENT=3]="NO_CONSENT",Re[Re.OPT_OUT=4]="OPT_OUT",Re[Re.PENDING=5]="PENDING",Re[Re.WITHDRAWN=6]="WITHDRAWN",(Ee=Pe=Pe||{}).ping="ping",Ee.addEventListener="addEventListener",Ee.removeEventListener="removeEventListener",Ee.hasSection="hasSection",Ee.getSection="getSection",Ee.getField="getField",Ee.getGPPData="getGPPData";var Ne=new function(){var r=this;this.LOCATOR_NAME="__gppLocator",this.win=window,this.init=function(){r.win.__gpp&&"function"==typeof r.win.__gpp||(r.win.__gpp=r.executeGppApi,window.addEventListener("message",r.messageHandler,!1),r.addFrame(r.LOCATOR_NAME))},this.removeGppApi=function(){delete r.win.__gpp;var e=document.querySelectorAll("iframe[name="+r.LOCATOR_NAME+"]")[0];e&&e.parentElement.removeChild(e)},this.executeGppApi=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(!t.length)return(null===(e=r.win)||void 0===e?void 0:e.__gpp).queue||[];var i=t[0],a=1<t.length?t[1]:null,o=2<t.length?t[2]:null;switch(i){case Pe.ping:return r.getPingRequest();case Pe.addEventListener:return r.addEventListener(a,o);case Pe.removeEventListener:return r.removeEventListener(o);case Pe.hasSection:case Pe.getSection:case Pe.getField:case Pe.getGPPData:return null;default:return void r.addToQueue(i,a,o)}},this.getPingRequest=function(){return{gppVersion:1,cmpStatus:"stub",cmpDisplayStatus:"hidden",apiSupport:["uspcav1","uspvav1"],currentAPI:"",cmpId:28}},this.addFrame=function(e){var t=r.win.document,n=Boolean(r.win.frames[e]);if(!n)if(t.body){var i=t.createElement("iframe");i.style.cssText="display:none",i.name=e,i.setAttribute("title","GPP Locator"),t.body.appendChild(i)}else setTimeout(function(){r.addFrame(e)},5);return!n},this.addEventListener=function(e,t){var n=r.win.__gpp;return n.events=n.events||[],null!=n&&n.lastId||(n.lastId=0),n.lastId++,n.events.push({id:n.lastId,callback:e,parameter:t}),{eventName:"listenerRegistered",listenerId:n.lastId,data:!0}},this.removeEventListener=function(t){var n=!1,e=r.win.__gpp;return e.events=e.events||[],e.events=e.events.filter(function(e){return e.id.toString()!==t.toString()||!(n=!0)}),{eventName:"listenerRemoved",listenerId:t,data:n}},this.addToQueue=function(e,t,n){var i=r.win.__gpp;i.queue=i.queue||[],i.queue.push([e,t,n])},this.messageHandler=function(i){var t,a="string"==typeof i.data;try{t=a?JSON.parse(i.data):i.data}catch(e){t=null}if(t&&t.__gppCall){var o=t.__gppCall;(0,r.win.__gpp)(o.command,function(e,t){var n={__gppReturn:{returnValue:e,success:t,callId:o.callId}};i.source.postMessage(a?JSON.stringify(n):n,i.source||"*")},o.parameter)}}};Ne.init();var Fe=(Me.prototype.initConsentSDK=function(){this.initCustomEventPolyfill(),this.ensureHtmlGroupDataInitialised(),this.setStubScriptElement(),this.setOTDataLayer(),this.getParam(),this.fetchBannerSDKDependency(),this.captureNonce()},Me.prototype.captureNonce=function(){this.nonce=De.stubScriptElement.nonce||De.stubScriptElement.getAttribute("nonce")||null},Me.prototype.fetchBannerSDKDependency=function(){this.setDomainDataFileURL(),this.crossOrigin=De.stubScriptElement.getAttribute("crossorigin")||null,this.previewMode="true"===De.stubScriptElement.getAttribute("data-preview-mode"),this.otFetch(De.bannerDataParentURL,this.getLocation.bind(this))},Me.prototype.setDomainIfBulkDomainEnabled=function(e){var t=e&&e.TenantFeatures,n=window.location.hostname,i=e.Domain,a=e.BulkDomainCheckUrl;if(t&&t.CookieV2BulkDomainManagement&&n!==i&&e.ScriptType===Oe){var o=window.sessionStorage;if(o&&o.getItem("bulkDomainMgmtEnabled"))this.handleBulkDomainMgmt({isValid:"true"===window.sessionStorage.getItem("bulkDomainMgmtEnabled")},e);else{var r={location:De.storageBaseURL.replace(/^https?:\/\//,""),domainId:this.domainId,url:n};this.otFetch(a,this.handleBulkDomainMgmt,!1,r,e)}}},Me.prototype.getLocation=function(e){if(this.setDomainIfBulkDomainEnabled(e),(e.TenantFeatures&&e.TenantFeatures.CookieV2CSP||e.CookieV2CSPEnabled)&&this.nonce&&(this.setAttributePolyfillIsActive=!0,(new Ge).implementThePolyfill()),!e.RuleSet[0].Type)return this.iabTypeAdded=!1,window.__cmp=this.executeCmpApi,window.__tcfapi=this.executeTcfApi,this.intializeIabStub(),this.addBannerSDKScript(e);var t=window;if(t.OneTrust&&t.OneTrust.geolocationResponse){var n=t.OneTrust.geolocationResponse;this.setGeoLocation(n.countryCode,n.stateCode),this.addBannerSDKScript(e)}else{var i=this.readCookieParam(De.optanonCookieName,De.geolocationCookiesParam);if(i||e.SkipGeolocation){var a=i.split(";")[0],o=i.split(";")[1];this.setGeoLocation(a,o),this.addBannerSDKScript(e)}else this.getGeoLocation(e)}},Me.prototype.handleBulkDomainMgmt=function(e,t){window.sessionStorage&&window.sessionStorage.setItem("bulkDomainMgmtEnabled",JSON.stringify(e.isValid)),e.isValid&&(t.Domain=window.location.hostname)},Me.prototype.getGeolocationURL=function(e){e.TenantFeatures;var t=""+De.stubScriptElement.getAttribute("src").split(De.stubFileName)[0]+e.Version;if(new RegExp("^file://","i").test(t)&&e.MobileSDK){var n="/"+e.GeolocationUrl.replace(/^(http|https):\/\//,"").split("/").slice(1).join("/")+".js";return De.storageBaseURL+n}return e.GeolocationUrl},Me.prototype.geoLocationJsonCallback=function(e,t){t&&this.setGeoLocation(t.country,t.state),this.addBannerSDKScript(e)},Me.prototype.getGeoLocation=function(e){var t=this.getGeolocationURL(e);this.otFetch(t,this.geoLocationJsonCallback.bind(this,e),!0)},Me.prototype.setOTDataLayer=function(){var e="data-dLayer-ignore",t=De.stubScriptElement.hasAttribute(e),n=De.stubScriptElement.getAttribute(e),i=t&&"true"===n||t&&""===n;this.otDataLayer={ignore:i,name:De.stubScriptElement.getAttribute("data-dLayer-name")||"dataLayer"}},Me.prototype.setGeoLocation=function(e,t){void 0===t&&(t=""),De.userLocation={country:e,state:t}},Me.prototype.otFetch=function(e,n,t,i,a){void 0===t&&(t=!1),void 0===i&&(i=null);var o=window.sessionStorage&&window.sessionStorage.getItem("otPreviewData");if(new RegExp("^file://","i").test(e))this.otFetchOfflineFile(e,n);else if(0<=e.indexOf("/consent/")&&this.previewMode&&o){var r=JSON.parse(o).domainJson;n(r)}else{De.mobileOnlineURL.push(e);var s=new XMLHttpRequest;if(s.onload=function(e){var t;this&&this.responseText?t=this.responseText:e&&e.target&&(t=e.target.responseText),a?n(JSON.parse(t),a):n(JSON.parse(t))},s.onerror=function(){n()},s.open("GET",e),t&&s.setRequestHeader("accept","application/json"),i)for(var l in i)s.setRequestHeader(l,i[l]);s.send()}},Me.prototype.otFetchOfflineFile=function(e,t){var n=(e=e.replace(".json",".js")).split("/"),i=n[n.length-1].split(".js")[0];this.jsonp(e,function(){t(window[i])})},Me.prototype.jsonp=function(e,t){var n=document.createElement("script");n.setAttribute("src",e),this.nonce&&n.setAttribute("nonce",this.nonce),n.async=!0,n.type="text/javascript",this.crossOrigin&&n.setAttribute("crossorigin",this.crossOrigin),document.getElementsByTagName("head")[0].appendChild(n),new RegExp("^file://","i").test(e)||De.mobileOnlineURL.push(e),t&&(n.onload=n.onerror=function(){t()})},Me.prototype.getRegionSet=function(e){var t,n,i,a=De.userLocation,o=e.RuleSet.filter(function(e){return!0===e.Default});if(!a.country&&!a.state)return o&&0<o.length?o[0]:null;for(var r=a.state.toLowerCase(),s=a.country.toLowerCase(),l=0;l<e.RuleSet.length;l++)if(!0===e.RuleSet[l].Global)i=e.RuleSet[l];else{var c=e.RuleSet[l].States;if(c[s]&&0<=c[s].indexOf(r)){n=e.RuleSet[l];break}0<=e.RuleSet[l].Countries.indexOf(s)&&(t=e.RuleSet[l])}return n||t||i},Me.prototype.ensureHtmlGroupDataInitialised=function(){this.initializeIABData(),this.initializeGroupData(),this.initializeHostData(),this.initializeGenVenData()},Me.prototype.initializeGroupData=function(){var e=this.readCookieParam(De.optanonCookieName,"groups");e&&(De.optanonHtmlGroupData=this.deserialiseStringToArray(e))},Me.prototype.initializeHostData=function(){var e=this.readCookieParam(De.optanonCookieName,"hosts");e&&(De.optanonHostData=this.deserialiseStringToArray(e))},Me.prototype.initializeGenVenData=function(){var e=this.readCookieParam(De.optanonCookieName,"genVendors");e&&(De.genVendorsData=this.deserialiseStringToArray(e))},Me.prototype.initializeIABData=function(){this.validateIABGDPRApplied(),this.validateIABGlobalScope()},Me.prototype.validateIABGlobalScope=function(){var e=this.readCookieParam(De.optanonCookieName,De.oneTrustIsIABCrossConsentEnableParam);e?"true"===e?(De.hasIABGlobalScope=!0,De.isStubReady=!1):(De.hasIABGlobalScope=!1,De.IABCookieValue=this.getCookie(De.oneTrustIABCookieName)):De.isStubReady=!1},Me.prototype.validateIABGDPRApplied=function(){var e=this.readCookieParam(De.optanonCookieName,De.geolocationCookiesParam).split(";")[0];e?this.isBoolean(e)?De.oneTrustIABgdprAppliesGlobally="true"===e:De.oneTrustIABgdprAppliesGlobally=0<=De.EUCOUNTRIES.indexOf(e):De.isStubReady=!1},Me.prototype.isBoolean=function(e){return"true"===e||"false"===e},Me.prototype.readCookieParam=function(e,t){var n,i,a,o,r=this.getCookie(e);if(r){for(i={},a=r.split("&"),n=0;n<a.length;n+=1)o=a[n].split("="),i[decodeURIComponent(o[0])]=decodeURIComponent(o[1]).replace(/\+/g," ");return t&&i[t]?i[t]:t&&!i[t]?"":i}return""},Me.prototype.getCookie=function(e){if(this.isAmp){var t=JSON.parse(window.localStorage.getItem(this.domainId))||{};if(t)return t[e]||null}var n,i,a=e+"=",o=document.cookie.split(";");for(n=0;n<o.length;n+=1){for(i=o[n];" "==i.charAt(0);)i=i.substring(1,i.length);if(0==i.indexOf(a))return i.substring(a.length,i.length)}return null},Me.prototype.updateGtmMacros=function(){var e,t=[],n=De.optanonHtmlGroupData.length;for(e=0;e<n;e++)this.endsWith(De.optanonHtmlGroupData[e],":1")&&t.push(De.optanonHtmlGroupData[e].replace(":1",""));for(n=De.optanonHostData.length,e=0;e<n;e++)this.endsWith(De.optanonHostData[e],":1")&&t.push(De.optanonHostData[e].replace(":1",""));for(n=De.genVendorsData.length,e=0;e<n;e++)this.endsWith(De.genVendorsData[e],":1")&&t.push(De.genVendorsData[e].replace(":1",""));for(n=De.vendorsServiceData.length,e=0;e<n;e++)this.endsWith(De.vendorsServiceData[e],":1")&&t.push(De.vendorsServiceData[e].replace(":1",""));var i=","+this.serialiseArrayToString(t)+",";window.OnetrustActiveGroups=i,window.OptanonActiveGroups=i;var a=window;this.otDataLayer.ignore||void 0===a[this.otDataLayer.name]?this.otDataLayer.ignore||(a[this.otDataLayer.name]=[{event:"OneTrustLoaded",OnetrustActiveGroups:i},{event:"OptanonLoaded",OptanonActiveGroups:i}]):a[this.otDataLayer.name].constructor===Array&&(a[this.otDataLayer.name].push({OnetrustActiveGroups:i}),a[this.otDataLayer.name].push({OptanonActiveGroups:i}));var o,r=new CustomEvent("consent.onetrust",{detail:t});!this.otDataLayer.ignore&&t.length&&(a[this.otDataLayer.name].constructor===Array&&a[this.otDataLayer.name].push({event:"OneTrustGroupsUpdated",OnetrustActiveGroups:i}),o=new CustomEvent("OneTrustGroupsUpdated",{detail:t})),setTimeout(function(){t.length&&window.dispatchEvent(r),o&&window.dispatchEvent(o)})},Me.prototype.deserialiseStringToArray=function(e){return e?e.split(","):[]},Me.prototype.endsWith=function(e,t){return-1!==e.indexOf(t,e.length-t.length)},Me.prototype.serialiseArrayToString=function(e){return e.toString()},Me.prototype.setStubScriptElement=function(){De.stubScriptElement=document.querySelector("script[src*='"+De.stubFileName+"']");var e=De.stubScriptElement&&0<=De.stubScriptElement.getAttribute("src").indexOf("did=");De.stubScriptElement&&De.stubScriptElement.hasAttribute(De.DATAFILEATTRIBUTE)?this.domainId=De.stubScriptElement.getAttribute(De.DATAFILEATTRIBUTE).trim():e?this.domainId=De.stubScriptElement.getAttribute("src").split("did=")[1]:De.stubScriptElement||(De.stubScriptElement=document.querySelector("script[src*='"+De.migratedCCTID+"']"),De.stubScriptElement&&(De.isMigratedURL=!0,this.domainId=De.migratedDomainId.trim()))},Me.prototype.setDomainDataFileURL=function(){var e=De.stubScriptElement.getAttribute("src"),t=-1<e.indexOf("/consent");e&&(De.isMigratedURL?De.storageBaseURL=e.split("/consent/"+De.migratedCCTID)[0]:De.storageBaseURL=t?e.split("/consent")[0]:e.split("/scripttemplates/"+De.stubFileName)[0]),this.storageBaseURL=De.storageBaseURL,this.isPreview&&-1===this.domainId.indexOf("test")?this.domainId=this.domainId+"-test":this.isPreview=!1,De.bannerBaseDataURL=De.storageBaseURL&&De.storageBaseURL+"/consent/"+this.domainId,De.bannerDataParentURL=De.bannerBaseDataURL+"/"+this.domainId+".json"},Me.prototype.initCustomEventPolyfill=function(){if("function"==typeof window.CustomEvent)return!1;function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}e.prototype=window.Event.prototype,window.CustomEvent=e},Me.prototype.removeTcf=function(){delete window.__tcfapi;var e=document.querySelectorAll("iframe[name='__tcfapiLocator']")[0];e&&e.parentElement.removeChild(e)},Me.prototype.getParamForIE=function(){return{get:function(e){var t=new RegExp("[?&]"+e+"=([^&#]*)").exec(window.location.search);return null===t?null:decodeURI(t[1])||""}}},Me.prototype.getParam=function(){window.document.documentMode||!window.URLSearchParams?this.urlParams=this.getParamForIE():this.urlParams=new URLSearchParams(window.location.search);var e="true"===this.urlParams.get("otreset"),t="true"===this.urlParams.get("otpreview");this.geoFromUrl=(this.urlParams.get("otgeo")||"").toLowerCase();var n=this.readCookieParam(Be,"expiry"),i=this.readCookieParam(Be,_e);this.isReset=e||n&&new Date(n)<new Date,this.isPreview=!this.isReset&&(t||n&&new Date(n)>new Date),this.setGeoParam(this.geoFromUrl||i)},Me.prototype.setGeoParam=function(e){if(e){var t=window;t.OneTrust||(t.OneTrust={});var n=e.split(",");t.OneTrust.geolocationResponse={countryCode:n[0],stateCode:n[1]}}},Me);function Me(){var c=this;this.iabType=null,this.iabTypeAdded=!0,this.crossOrigin=null,this.isAmp=!1,this.domainId="",this.isReset=!1,this.isPreview=!1,this.geoFromUrl="",this.nonce="",this.setAttributePolyfillIsActive=!1,this.storageBaseURL="",this.charset=null,this.addBannerSDKScript=function(e){var t=c.getRegionSet(e);t.GCEnable||(c.updateGtmMacros(),c.gtmUpdated=!0),c.iabTypeAdded&&("IAB"!==t.Type&&"IAB2"!==t.Type||(c.iabType=t.Type,c.intializeIabStub()),"IAB2"!==t.Type&&c.removeTcf()),t.IsGPPEnabled?Ne.init():Ne.removeGppApi();var n=De.stubScriptElement.cloneNode(!0),i="";i=e.UseSDKRefactor?(De.isMigratedURL&&(n.src=De.storageBaseURL+"/scripttemplates/new/scripttemplates/"+De.stubFileName+".js"),De.storageBaseURL+"/scripttemplates/new/scripttemplates/"+e.Version+"/"+De.bannerScriptName):"5.11.0"===e.Version?(De.isMigratedURL&&(n.src=De.storageBaseURL+"/scripttemplates/old/scripttemplates/"+De.stubFileName+".js"),De.storageBaseURL+"/scripttemplates/old/scripttemplates/5.11.0/"+De.bannerScriptName):(De.isMigratedURL&&(n.src=De.storageBaseURL+"/scripttemplates/"+De.stubFileName+".js"),De.storageBaseURL+"/scripttemplates/"+e.Version+"/"+De.bannerScriptName);["charset","data-language","data-document-language","data-domain-script","crossorigin","data-ignore-ga"].forEach(function(e){De.stubScriptElement.getAttribute(e)&&n.setAttribute(e,De.stubScriptElement.getAttribute(e))}),c.charset=De.stubScriptElement.getAttribute("charset"),c.isAmp=!!De.stubScriptElement.getAttribute("amp"),window.otStubData={bannerBaseDataURL:De.bannerBaseDataURL,crossOrigin:c.crossOrigin,domainData:e,domainId:c.domainId,geoFromUrl:c.geoFromUrl,isAmp:c.isAmp,isPreview:c.isPreview,isReset:c.isReset,mobileOnlineURL:De.mobileOnlineURL,nonce:c.nonce,otDataLayer:c.otDataLayer,regionRule:t,setAttributePolyfillIsActive:c.setAttributePolyfillIsActive,storageBaseURL:c.storageBaseURL,stubElement:n,urlParams:c.urlParams,userLocation:De.userLocation,gtmUpdated:c.gtmUpdated,previewMode:c.previewMode,charset:c.charset},c.jsonp(i,null)},this.intializeIabStub=function(){var e=window;c.iabTypeAdded?("IAB"===c.iabType?void 0===e.__cmp&&(window.__cmp=c.executeCmpApi):void 0===e.__tcfapi&&(window.__tcfapi=c.executeTcfApi),c.addIabFrame()):c.addBackwardIabFrame(),e.receiveOTMessage=c.receiveIabMessage,(e.attachEvent||window.addEventListener)("message",e.receiveOTMessage,!1)},this.addIabFrame=function(){var e=window,t="IAB"===c.iabType?"__cmpLocator":"__tcfapiLocator";!e.frames[t]&&(e.document.body?c.addLocator(t,"CMP"):setTimeout(c.addIabFrame,5))},this.addBackwardIabFrame=function(){var e=window,t="__cmpLocator";!e.frames[t]&&(e.document.body?c.addLocator(t,"CMP"):setTimeout(c.addIabFrame,5));var n="__tcfapiLocator";!e.frames[n]&&(e.document.body?c.addLocator(n,"TCF"):setTimeout(c.addIabFrame,5))},this.addLocator=function(e,t){var n=window,i=n.document.createElement("iframe");ke(i,"display: none;",!0),i.name=e,i.setAttribute("title",t+" Locator"),n.document.body.appendChild(i)},this.receiveIabMessage=function(i){var a="string"==typeof i.data,e={};try{e=a?JSON.parse(i.data):i.data}catch(e){}if(e.__cmpCall&&"IAB"===c.iabType){var o=e.__cmpCall.callId,r=e.__cmpCall.command,t=e.__cmpCall.parameter;c.executeCmpApi(r,t,function(e,t){var n={__cmpReturn:{returnValue:e,success:t,callId:o,command:r}};i.source.postMessage(a?JSON.stringify(n):n,i.origin)})}else e.__cmpCall&&"IAB2"===c.iabType&&console.log("Expecting IAB TCF v2.0 vendor iFrame call; Received IAB TCF v1.1");if(e.__tcfapiCall&&"IAB2"===c.iabType){var s=e.__tcfapiCall.callId,l=e.__tcfapiCall.command,n=(t=e.__tcfapiCall.parameter,e.__tcfapiCall.version);c.executeTcfApi(l,t,function(e,t){var n={__tcfapiReturn:{returnValue:e,success:t,callId:s,command:l}};i&&i.source&&i.source.postMessage&&i.source.postMessage(a?JSON.stringify(n):n,"*")},n)}else e.__tcfapiCall&&"IAB"===c.iabType&&console.log("Expecting IAB TCF v1.1 vendor iFrame call; Received IAB TCF v2.0")},this.executeCmpApi=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];c.iabType="IAB";var n=e[0],i=e[1],a=e[2];if("function"==typeof a&&n)if(De.isStubReady&&De.IABCookieValue)switch(n){case"ping":c.getPingRequest(a,!0);break;case"getConsentData":c.getConsentDataRequest(a);break;default:c.addToQueue(n,i,a)}else c.addToQueue(n,i,a)},this.executeTcfApi=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(c.iabType="IAB2",!e.length)return window.__tcfapi.a||[];var n=e[0],i=e[1],a=e[2],o=e[3];"function"==typeof a&&n&&("ping"===n?c.getPingRequest(a):c.addToQueue(n,i,a,o))},this.addToQueue=function(e,t,n,i){var a=window,o="IAB"===c.iabType?"__cmp":"__tcfapi";a[o].a=a[o].a||[],a[o].a.push([e,t,n,i])},this.getPingRequest=function(e,t){if(void 0===t&&(t=!1),e){var n={},i=!1;"IAB"===c.iabType?(n={gdprAppliesGlobally:De.oneTrustIABgdprAppliesGlobally,cmpLoaded:t},i=!0):"IAB2"===c.iabType&&(n={gdprApplies:De.oneTrustIABgdprAppliesGlobally,cmpLoaded:!1,cmpStatus:"stub",displayStatus:"stub",apiVersion:"2.0",cmpVersion:void 0,cmpId:void 0,gvlVersion:void 0,tcfPolicyVersion:void 0},i=!0),e(n,i)}},this.getConsentDataRequest=function(e){e&&De.IABCookieValue&&e({gdprApplies:De.oneTrustIABgdprAppliesGlobally,hasGlobalScope:De.hasIABGlobalScope,consentData:De.IABCookieValue},!0)},this.initConsentSDK()}var Ve=new Fe;return e.OtSDKStub=Fe,e.otSdkStub=Ve,e}({});
</script>
